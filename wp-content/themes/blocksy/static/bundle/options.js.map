{"version":3,"file":"options.js","mappings":"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","sources":["webpack://blocksyOptions/webpack/runtime/load script","webpack://blocksyOptions/./node_modules/@react-spring/animated/dist/react-spring-animated.esm.js","webpack://blocksyOptions/./node_modules/@react-spring/core/dist/react-spring-core.esm.js","webpack://blocksyOptions/./node_modules/@react-spring/rafz/dist/react-spring-rafz.esm.js","webpack://blocksyOptions/./node_modules/@react-spring/shared/dist/react-spring-shared.esm.js","webpack://blocksyOptions/./node_modules/@react-spring/web/dist/react-spring-web.esm.js","webpack://blocksyOptions/./node_modules/array-move/index.js","webpack://blocksyOptions/./node_modules/@reach/component-component/es/index.js","webpack://blocksyOptions/./static/js/customizer/components/reach/portal.js","webpack://blocksyOptions/./node_modules/@reach/utils/es/index.js","webpack://blocksyOptions/./static/js/customizer/components/reach/dialog.js","webpack://blocksyOptions/./static/js/customizer/components/Overlay.js","webpack://blocksyOptions/./static/js/customizer/components/responsive-controls.js","webpack://blocksyOptions/./static/js/customizer/components/useDeviceManager.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/Sortable.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/helpers.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/sortablejs.js","webpack://blocksyOptions/./static/js/options/GenericOptionType.js","webpack://blocksyOptions/./static/js/options/containers/use-force-update.js","webpack://blocksyOptions/./static/js/options/containers/Condition.js","webpack://blocksyOptions/./static/js/options/containers/Tabs.js","webpack://blocksyOptions/./static/js/options/containers/Group.js","webpack://blocksyOptions/./static/js/options/containers/LabeledGroup.js","webpack://blocksyOptions/./static/js/options/containers/ct-has-meta-category-button.js","webpack://blocksyOptions/./static/js/options/GenericContainerType.js","webpack://blocksyOptions/./static/js/options/OptionsPanel.js","webpack://blocksyOptions/./static/js/options/components/InputWithOnlyNumbers.js","webpack://blocksyOptions/./static/js/customizer/preview-events.js","webpack://blocksyOptions/./static/js/options/components/PanelLevel.js","webpack://blocksyOptions/./static/js/options/helpers/get-label.js","webpack://blocksyOptions/./static/js/options/helpers/get-value-from-input.js","webpack://blocksyOptions/./static/js/options/helpers/parse-choices.js","webpack://blocksyOptions/./static/js/options/helpers/usePopoverMaker.js","webpack://blocksyOptions/./node_modules/colord/index.mjs","webpack://blocksyOptions/./static/js/options/helpers/normalize-color.js","webpack://blocksyOptions/./static/js/options/options/color-picker/color-picker-iris.js","webpack://blocksyOptions/./static/js/options/options/color-picker/picker-modal.js","webpack://blocksyOptions/./static/js/options/options/color-picker/single-picker.js","webpack://blocksyOptions/./static/js/options/options/ct-addable-box.js","webpack://blocksyOptions/./static/js/options/options/background/PatternPicker.js","webpack://blocksyOptions/./static/js/options/options/background/ImagePicker.js","webpack://blocksyOptions/./static/js/options/options/background/GradientPicker.js","webpack://blocksyOptions/./static/js/options/options/background/BackgroundModal.js","webpack://blocksyOptions/./static/js/options/options/ct-background.js","webpack://blocksyOptions/./static/js/options/options/ct-border.js","webpack://blocksyOptions/./static/js/options/options/box-shadow/box-shadow-modal.js","webpack://blocksyOptions/./static/js/options/options/ct-box-shadow.js","webpack://blocksyOptions/./static/js/options/options/ct-button.js","webpack://blocksyOptions/./static/js/options/options/ct-checkboxes.js","webpack://blocksyOptions/./static/js/options/options/color-palettes/PalettePreview.js","webpack://blocksyOptions/./static/js/options/options/color-palettes/ColorPalettesModal.js","webpack://blocksyOptions/./static/js/options/options/ct-color-palettes-picker.js","webpack://blocksyOptions/./static/js/options/options/ct-color-picker.js","webpack://blocksyOptions/./static/js/options/options/ct-customizer-reset-options.js","webpack://blocksyOptions/./static/js/options/options/ct-divider.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/columns/DraggableItems.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/columns/ColumnsBuilder.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/columns/builder-sidebar/SecondaryItems.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/columns/builder-sidebar/InvisiblePanels.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/columns/builder-sidebar/PanelsManager.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/columns/AvailableItems.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/columns/builderReducer.js","webpack://blocksyOptions/./static/js/options/options/ct-footer-builder.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/DraggableItems.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/PlacementsBuilder/PrimaryPlacement.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/PlacementsBuilder/Row.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/PlacementsBuilder.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/ViewSwitch.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/builder-sidebar/SecondaryItems.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/builder-sidebar/InvisiblePanels.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/builder-sidebar/PanelsManager.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/AvailableItems.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/builderReducer.js","webpack://blocksyOptions/./static/js/customizer/panels-builder/placements/BuilderRoot.js","webpack://blocksyOptions/./static/js/options/options/ct-header-builder.js","webpack://blocksyOptions/./static/js/options/options/ct-image-picker.js","webpack://blocksyOptions/./static/js/options/options/ct-image-uploader.js","webpack://blocksyOptions/./static/js/options/options/ct-layers-mirror.js","webpack://blocksyOptions/./static/js/options/options/ct-layers/SelectThatAddsItems.js","webpack://blocksyOptions/./static/js/options/options/ct-layers/LayerControls.js","webpack://blocksyOptions/./static/js/options/options/ct-layers.js","webpack://blocksyOptions/./static/js/options/options/ct-multi-image-uploader.js","webpack://blocksyOptions/./static/js/options/options/ct-notification.js","webpack://blocksyOptions/./static/js/options/options/ct-number.js","webpack://blocksyOptions/./static/js/options/options/ct-panel.js","webpack://blocksyOptions/./static/js/options/options/ct-radio.js","webpack://blocksyOptions/./static/js/options/options/ratio/RatioModal.js","webpack://blocksyOptions/./static/js/options/options/ct-ratio.js","webpack://blocksyOptions/./node_modules/compute-scroll-into-view/dist/index.module.js","webpack://blocksyOptions/./node_modules/tslib/tslib.es6.js","webpack://blocksyOptions/./node_modules/downshift/dist/downshift.esm.js","webpack://blocksyOptions/./static/js/options/options/ct-select.js","webpack://blocksyOptions/./static/js/options/options/ct-slider.js","webpack://blocksyOptions/./static/js/options/options/ct-spacer.js","webpack://blocksyOptions/./static/js/options/options/ct-spacing.js","webpack://blocksyOptions/./static/js/options/options/ct-switch.js","webpack://blocksyOptions/./static/js/options/options/ct-title.js","webpack://blocksyOptions/./static/js/options/options/typography/default-data.js","webpack://blocksyOptions/./static/js/options/options/typography/helpers.js","webpack://blocksyOptions/./node_modules/memoize-one/dist/memoize-one.esm.js","webpack://blocksyOptions/./node_modules/react-window/dist/index.esm.js","webpack://blocksyOptions/./node_modules/react-virtualized-auto-sizer/dist/index.esm.js","webpack://blocksyOptions/./static/js/options/options/typography/FontsList.js","webpack://blocksyOptions/./static/js/options/options/typography/VariationsList.js","webpack://blocksyOptions/./static/js/options/options/typography/FontOptions.js","webpack://blocksyOptions/./static/js/options/options/typography/TypographyModal.js","webpack://blocksyOptions/./static/js/options/options/ct-typography.js","webpack://blocksyOptions/./static/js/options/options/ct-visibility.js","webpack://blocksyOptions/./static/js/options/options/ct-woocommerce-columns-and-rows.js","webpack://blocksyOptions/./static/js/options/options/ct-woocommerce-ratio.js","webpack://blocksyOptions/external var \"window.wp.date\"","webpack://blocksyOptions/./static/js/options/options/date-time-picker.js","webpack://blocksyOptions/./static/js/options/options/hidden.js","webpack://blocksyOptions/./static/js/options/options/html.js","webpack://blocksyOptions/./static/js/options/options/jsx.js","webpack://blocksyOptions/./static/js/options/options/react-outside-click-handler.js","webpack://blocksyOptions/./static/js/options/options/text.js","webpack://blocksyOptions/./static/js/options/options/textarea.js","webpack://blocksyOptions/./static/js/options/options/wp-editor.js","webpack://blocksyOptions/./static/js/public-path.js","webpack://blocksyOptions/./node_modules/bezier-easing/src/index.js","webpack://blocksyOptions/./node_modules/call-bind/callBound.js","webpack://blocksyOptions/./node_modules/call-bind/index.js","webpack://blocksyOptions/./node_modules/charenc/charenc.js","webpack://blocksyOptions/./node_modules/classnames/index.js","webpack://blocksyOptions/./node_modules/crypt/crypt.js","webpack://blocksyOptions/./node_modules/customizer-sync-helpers/dist/promote-into-responsive.js","webpack://blocksyOptions/./node_modules/deep-equal/index.js","webpack://blocksyOptions/./node_modules/define-properties/index.js","webpack://blocksyOptions/./node_modules/downshift/node_modules/react-is/cjs/react-is.production.min.js","webpack://blocksyOptions/./node_modules/downshift/node_modules/react-is/index.js","webpack://blocksyOptions/./node_modules/focus-trap/index.js","webpack://blocksyOptions/./node_modules/function-bind/implementation.js","webpack://blocksyOptions/./node_modules/function-bind/index.js","webpack://blocksyOptions/./node_modules/functions-have-names/index.js","webpack://blocksyOptions/./node_modules/get-intrinsic/index.js","webpack://blocksyOptions/./node_modules/has-property-descriptors/index.js","webpack://blocksyOptions/./node_modules/has-symbols/index.js","webpack://blocksyOptions/./node_modules/has-symbols/shams.js","webpack://blocksyOptions/./node_modules/has-tostringtag/shams.js","webpack://blocksyOptions/./node_modules/has/src/index.js","webpack://blocksyOptions/./node_modules/invariant/browser.js","webpack://blocksyOptions/./node_modules/is-arguments/index.js","webpack://blocksyOptions/./node_modules/is-buffer/index.js","webpack://blocksyOptions/./node_modules/is-date-object/index.js","webpack://blocksyOptions/./node_modules/is-regex/index.js","webpack://blocksyOptions/./node_modules/match-conditions/dist/index.es.js","webpack://blocksyOptions/./node_modules/md5/md5.js","webpack://blocksyOptions/./node_modules/nanoid/index.browser.js","webpack://blocksyOptions/./node_modules/object-is/implementation.js","webpack://blocksyOptions/./node_modules/object-is/index.js","webpack://blocksyOptions/./node_modules/object-is/polyfill.js","webpack://blocksyOptions/./node_modules/object-is/shim.js","webpack://blocksyOptions/./node_modules/object-keys/implementation.js","webpack://blocksyOptions/./node_modules/object-keys/index.js","webpack://blocksyOptions/./node_modules/object-keys/isArguments.js","webpack://blocksyOptions/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://blocksyOptions/./node_modules/prop-types/index.js","webpack://blocksyOptions/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://blocksyOptions/./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://blocksyOptions/./node_modules/react-spring/renderprops.js","webpack://blocksyOptions/./node_modules/regexp.prototype.flags/implementation.js","webpack://blocksyOptions/./node_modules/regexp.prototype.flags/index.js","webpack://blocksyOptions/./node_modules/regexp.prototype.flags/polyfill.js","webpack://blocksyOptions/./node_modules/regexp.prototype.flags/shim.js","webpack://blocksyOptions/./node_modules/simple-linear-scale/index.js","webpack://blocksyOptions/./node_modules/tabbable/index.js","webpack://blocksyOptions/./node_modules/webfontloader/webfontloader.js","webpack://blocksyOptions/./node_modules/xtend/immutable.js","webpack://blocksyOptions/./static/js/options/options/ sync nonrecursive \\.js$","webpack://blocksyOptions/external var \"React\"","webpack://blocksyOptions/external var \"ReactDOM\"","webpack://blocksyOptions/external var \"ctEvents\"","webpack://blocksyOptions/external var \"jQuery\"","webpack://blocksyOptions/external var \"window._\"","webpack://blocksyOptions/external var \"window.wp.components\"","webpack://blocksyOptions/external var \"window.wp.element\"","webpack://blocksyOptions/external var \"window.wp.i18n\"","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://blocksyOptions/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://blocksyOptions/webpack/bootstrap","webpack://blocksyOptions/webpack/runtime/compat get default export","webpack://blocksyOptions/webpack/runtime/define property getters","webpack://blocksyOptions/webpack/runtime/ensure chunk","webpack://blocksyOptions/webpack/runtime/get javascript chunk filename","webpack://blocksyOptions/webpack/runtime/global","webpack://blocksyOptions/webpack/runtime/hasOwnProperty shorthand","webpack://blocksyOptions/webpack/runtime/make namespace object","webpack://blocksyOptions/webpack/runtime/publicPath","webpack://blocksyOptions/webpack/runtime/jsonp chunk loading","webpack://blocksyOptions/./static/js/options/OptionsRoot.js","webpack://blocksyOptions/./static/js/options/initPanels.js","webpack://blocksyOptions/./static/js/backend/woo-variation.js","webpack://blocksyOptions/./static/js/backend/taxonomies.js","webpack://blocksyOptions/./static/js/options.js","webpack://blocksyOptions/./static/js/backend/widgets.js"],"sourcesContent":["var inProgress = {};\nvar dataWebpackPrefix = \"blocksyOptions:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import { defineHidden, is, createInterpolator, eachProp, hasFluidValue, getFluidValue, each, isAnimatedString, useForceUpdate, useLayoutEffect, addFluidObserver, removeFluidObserver, raf, useOnce } from '@react-spring/shared';\nimport * as React from 'react';\nimport { forwardRef, useRef, useCallback, useEffect } from 'react';\n\nconst $node = Symbol.for('Animated:node');\nconst isAnimated = value => !!value && value[$node] === value;\nconst getAnimated = owner => owner && owner[$node];\nconst setAnimated = (owner, node) => defineHidden(owner, $node, node);\nconst getPayload = owner => owner && owner[$node] && owner[$node].getPayload();\nclass Animated {\n  constructor() {\n    this.payload = void 0;\n    setAnimated(this, this);\n  }\n\n  getPayload() {\n    return this.payload || [];\n  }\n\n}\n\nclass AnimatedValue extends Animated {\n  constructor(_value) {\n    super();\n    this.done = true;\n    this.elapsedTime = void 0;\n    this.lastPosition = void 0;\n    this.lastVelocity = void 0;\n    this.v0 = void 0;\n    this.durationProgress = 0;\n    this._value = _value;\n\n    if (is.num(this._value)) {\n      this.lastPosition = this._value;\n    }\n  }\n\n  static create(value) {\n    return new AnimatedValue(value);\n  }\n\n  getPayload() {\n    return [this];\n  }\n\n  getValue() {\n    return this._value;\n  }\n\n  setValue(value, step) {\n    if (is.num(value)) {\n      this.lastPosition = value;\n\n      if (step) {\n        value = Math.round(value / step) * step;\n\n        if (this.done) {\n          this.lastPosition = value;\n        }\n      }\n    }\n\n    if (this._value === value) {\n      return false;\n    }\n\n    this._value = value;\n    return true;\n  }\n\n  reset() {\n    const {\n      done\n    } = this;\n    this.done = false;\n\n    if (is.num(this._value)) {\n      this.elapsedTime = 0;\n      this.durationProgress = 0;\n      this.lastPosition = this._value;\n      if (done) this.lastVelocity = null;\n      this.v0 = null;\n    }\n  }\n\n}\n\nclass AnimatedString extends AnimatedValue {\n  constructor(value) {\n    super(0);\n    this._string = null;\n    this._toString = void 0;\n    this._toString = createInterpolator({\n      output: [value, value]\n    });\n  }\n\n  static create(value) {\n    return new AnimatedString(value);\n  }\n\n  getValue() {\n    let value = this._string;\n    return value == null ? this._string = this._toString(this._value) : value;\n  }\n\n  setValue(value) {\n    if (is.str(value)) {\n      if (value == this._string) {\n        return false;\n      }\n\n      this._string = value;\n      this._value = 1;\n    } else if (super.setValue(value)) {\n      this._string = null;\n    } else {\n      return false;\n    }\n\n    return true;\n  }\n\n  reset(goal) {\n    if (goal) {\n      this._toString = createInterpolator({\n        output: [this.getValue(), goal]\n      });\n    }\n\n    this._value = 0;\n    super.reset();\n  }\n\n}\n\nconst TreeContext = {\n  dependencies: null\n};\n\nclass AnimatedObject extends Animated {\n  constructor(source) {\n    super();\n    this.source = source;\n    this.setValue(source);\n  }\n\n  getValue(animated) {\n    const values = {};\n    eachProp(this.source, (source, key) => {\n      if (isAnimated(source)) {\n        values[key] = source.getValue(animated);\n      } else if (hasFluidValue(source)) {\n        values[key] = getFluidValue(source);\n      } else if (!animated) {\n        values[key] = source;\n      }\n    });\n    return values;\n  }\n\n  setValue(source) {\n    this.source = source;\n    this.payload = this._makePayload(source);\n  }\n\n  reset() {\n    if (this.payload) {\n      each(this.payload, node => node.reset());\n    }\n  }\n\n  _makePayload(source) {\n    if (source) {\n      const payload = new Set();\n      eachProp(source, this._addToPayload, payload);\n      return Array.from(payload);\n    }\n  }\n\n  _addToPayload(source) {\n    if (TreeContext.dependencies && hasFluidValue(source)) {\n      TreeContext.dependencies.add(source);\n    }\n\n    const payload = getPayload(source);\n\n    if (payload) {\n      each(payload, node => this.add(node));\n    }\n  }\n\n}\n\nclass AnimatedArray extends AnimatedObject {\n  constructor(source) {\n    super(source);\n  }\n\n  static create(source) {\n    return new AnimatedArray(source);\n  }\n\n  getValue() {\n    return this.source.map(node => node.getValue());\n  }\n\n  setValue(source) {\n    const payload = this.getPayload();\n\n    if (source.length == payload.length) {\n      return payload.map((node, i) => node.setValue(source[i])).some(Boolean);\n    }\n\n    super.setValue(source.map(makeAnimated));\n    return true;\n  }\n\n}\n\nfunction makeAnimated(value) {\n  const nodeType = isAnimatedString(value) ? AnimatedString : AnimatedValue;\n  return nodeType.create(value);\n}\n\nfunction getAnimatedType(value) {\n  const parentNode = getAnimated(value);\n  return parentNode ? parentNode.constructor : is.arr(value) ? AnimatedArray : isAnimatedString(value) ? AnimatedString : AnimatedValue;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nconst withAnimated = (Component, host) => {\n  const hasInstance = !is.fun(Component) || Component.prototype && Component.prototype.isReactComponent;\n  return forwardRef((givenProps, givenRef) => {\n    const instanceRef = useRef(null);\n    const ref = hasInstance && useCallback(value => {\n      instanceRef.current = updateRef(givenRef, value);\n    }, [givenRef]);\n    const [props, deps] = getAnimatedState(givenProps, host);\n    const forceUpdate = useForceUpdate();\n\n    const callback = () => {\n      const instance = instanceRef.current;\n\n      if (hasInstance && !instance) {\n        return;\n      }\n\n      const didUpdate = instance ? host.applyAnimatedValues(instance, props.getValue(true)) : false;\n\n      if (didUpdate === false) {\n        forceUpdate();\n      }\n    };\n\n    const observer = new PropsObserver(callback, deps);\n    const observerRef = useRef();\n    useLayoutEffect(() => {\n      observerRef.current = observer;\n      each(deps, dep => addFluidObserver(dep, observer));\n      return () => {\n        if (observerRef.current) {\n          each(observerRef.current.deps, dep => removeFluidObserver(dep, observerRef.current));\n          raf.cancel(observerRef.current.update);\n        }\n      };\n    });\n    useEffect(callback, []);\n    useOnce(() => () => {\n      const observer = observerRef.current;\n      each(observer.deps, dep => removeFluidObserver(dep, observer));\n    });\n    const usedProps = host.getComponentProps(props.getValue());\n    return React.createElement(Component, _extends({}, usedProps, {\n      ref: ref\n    }));\n  });\n};\n\nclass PropsObserver {\n  constructor(update, deps) {\n    this.update = update;\n    this.deps = deps;\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      raf.write(this.update);\n    }\n  }\n\n}\n\nfunction getAnimatedState(props, host) {\n  const dependencies = new Set();\n  TreeContext.dependencies = dependencies;\n  if (props.style) props = _extends({}, props, {\n    style: host.createAnimatedStyle(props.style)\n  });\n  props = new AnimatedObject(props);\n  TreeContext.dependencies = null;\n  return [props, dependencies];\n}\n\nfunction updateRef(ref, value) {\n  if (ref) {\n    if (is.fun(ref)) ref(value);else ref.current = value;\n  }\n\n  return value;\n}\n\nconst cacheKey = Symbol.for('AnimatedComponent');\nconst createHost = (components, {\n  applyAnimatedValues: _applyAnimatedValues = () => false,\n  createAnimatedStyle: _createAnimatedStyle = style => new AnimatedObject(style),\n  getComponentProps: _getComponentProps = props => props\n} = {}) => {\n  const hostConfig = {\n    applyAnimatedValues: _applyAnimatedValues,\n    createAnimatedStyle: _createAnimatedStyle,\n    getComponentProps: _getComponentProps\n  };\n\n  const animated = Component => {\n    const displayName = getDisplayName(Component) || 'Anonymous';\n\n    if (is.str(Component)) {\n      Component = animated[Component] || (animated[Component] = withAnimated(Component, hostConfig));\n    } else {\n      Component = Component[cacheKey] || (Component[cacheKey] = withAnimated(Component, hostConfig));\n    }\n\n    Component.displayName = `Animated(${displayName})`;\n    return Component;\n  };\n\n  eachProp(components, (Component, key) => {\n    if (is.arr(components)) {\n      key = getDisplayName(Component);\n    }\n\n    animated[key] = animated(Component);\n  });\n  return {\n    animated\n  };\n};\n\nconst getDisplayName = arg => is.str(arg) ? arg : arg && is.str(arg.displayName) ? arg.displayName : is.fun(arg) && arg.name || null;\n\nexport { Animated, AnimatedArray, AnimatedObject, AnimatedString, AnimatedValue, createHost, getAnimated, getAnimatedType, getPayload, isAnimated, setAnimated };\n","import { eachProp, is, toArray, isAnimatedString, Globals, getFluidValue, useLayoutEffect, each, raf, flush, FluidValue, deprecateInterpolate, callFluidObservers, frameLoop, hasFluidValue, flushCalls, isEqual, getFluidObservers, addFluidObserver, removeFluidObserver, noop, useMemoOne, deprecateDirectCall, useForceUpdate, usePrev, useOnce, createInterpolator, createStringInterpolator } from '@react-spring/shared';\nexport { Globals, createInterpolator } from '@react-spring/shared';\nimport * as React from 'react';\nimport { useContext, useMemo, useRef, useState } from 'react';\nimport { getAnimated, AnimatedValue, getPayload, AnimatedString, getAnimatedType, setAnimated } from '@react-spring/animated';\nexport * from '@react-spring/types/animated';\nexport * from '@react-spring/types/interpolation';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction callProp(value, ...args) {\n  return is.fun(value) ? value(...args) : value;\n}\nconst matchProp = (value, key) => value === true || !!(key && value && (is.fun(value) ? value(key) : toArray(value).includes(key)));\nconst resolveProp = (prop, key) => is.obj(prop) ? key && prop[key] : prop;\nconst getDefaultProp = (props, key) => props.default === true ? props[key] : props.default ? props.default[key] : undefined;\n\nconst noopTransform = value => value;\n\nconst getDefaultProps = (props, transform = noopTransform) => {\n  let keys = DEFAULT_PROPS;\n\n  if (props.default && props.default !== true) {\n    props = props.default;\n    keys = Object.keys(props);\n  }\n\n  const defaults = {};\n\n  for (const key of keys) {\n    const value = transform(props[key], key);\n\n    if (!is.und(value)) {\n      defaults[key] = value;\n    }\n  }\n\n  return defaults;\n};\nconst DEFAULT_PROPS = ['config', 'onProps', 'onStart', 'onChange', 'onPause', 'onResume', 'onRest'];\nconst RESERVED_PROPS = {\n  config: 1,\n  from: 1,\n  to: 1,\n  ref: 1,\n  loop: 1,\n  reset: 1,\n  pause: 1,\n  cancel: 1,\n  reverse: 1,\n  immediate: 1,\n  default: 1,\n  delay: 1,\n  onProps: 1,\n  onStart: 1,\n  onChange: 1,\n  onPause: 1,\n  onResume: 1,\n  onRest: 1,\n  onResolve: 1,\n  items: 1,\n  trail: 1,\n  sort: 1,\n  expires: 1,\n  initial: 1,\n  enter: 1,\n  update: 1,\n  leave: 1,\n  children: 1,\n  onDestroyed: 1,\n  keys: 1,\n  callId: 1,\n  parentId: 1\n};\n\nfunction getForwardProps(props) {\n  const forward = {};\n  let count = 0;\n  eachProp(props, (value, prop) => {\n    if (!RESERVED_PROPS[prop]) {\n      forward[prop] = value;\n      count++;\n    }\n  });\n\n  if (count) {\n    return forward;\n  }\n}\n\nfunction inferTo(props) {\n  const to = getForwardProps(props);\n\n  if (to) {\n    const out = {\n      to\n    };\n    eachProp(props, (val, key) => key in to || (out[key] = val));\n    return out;\n  }\n\n  return _extends({}, props);\n}\nfunction computeGoal(value) {\n  value = getFluidValue(value);\n  return is.arr(value) ? value.map(computeGoal) : isAnimatedString(value) ? Globals.createStringInterpolator({\n    range: [0, 1],\n    output: [value, value]\n  })(1) : value;\n}\nfunction hasProps(props) {\n  for (const _ in props) return true;\n\n  return false;\n}\nfunction isAsyncTo(to) {\n  return is.fun(to) || is.arr(to) && is.obj(to[0]);\n}\nfunction detachRefs(ctrl, ref) {\n  var _ctrl$ref;\n\n  (_ctrl$ref = ctrl.ref) == null ? void 0 : _ctrl$ref.delete(ctrl);\n  ref == null ? void 0 : ref.delete(ctrl);\n}\nfunction replaceRef(ctrl, ref) {\n  if (ref && ctrl.ref !== ref) {\n    var _ctrl$ref2;\n\n    (_ctrl$ref2 = ctrl.ref) == null ? void 0 : _ctrl$ref2.delete(ctrl);\n    ref.add(ctrl);\n    ctrl.ref = ref;\n  }\n}\n\nfunction useChain(refs, timeSteps, timeFrame = 1000) {\n  useLayoutEffect(() => {\n    if (timeSteps) {\n      let prevDelay = 0;\n      each(refs, (ref, i) => {\n        const controllers = ref.current;\n\n        if (controllers.length) {\n          let delay = timeFrame * timeSteps[i];\n          if (isNaN(delay)) delay = prevDelay;else prevDelay = delay;\n          each(controllers, ctrl => {\n            each(ctrl.queue, props => {\n              const memoizedDelayProp = props.delay;\n\n              props.delay = key => delay + callProp(memoizedDelayProp || 0, key);\n            });\n          });\n          ref.start();\n        }\n      });\n    } else {\n      let p = Promise.resolve();\n      each(refs, ref => {\n        const controllers = ref.current;\n\n        if (controllers.length) {\n          const queues = controllers.map(ctrl => {\n            const q = ctrl.queue;\n            ctrl.queue = [];\n            return q;\n          });\n          p = p.then(() => {\n            each(controllers, (ctrl, i) => each(queues[i] || [], update => ctrl.queue.push(update)));\n            return Promise.all(ref.start());\n          });\n        }\n      });\n    }\n  });\n}\n\nconst config = {\n  default: {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\nconst c1 = 1.70158;\nconst c2 = c1 * 1.525;\nconst c3 = c1 + 1;\nconst c4 = 2 * Math.PI / 3;\nconst c5 = 2 * Math.PI / 4.5;\n\nconst bounceOut = x => {\n  const n1 = 7.5625;\n  const d1 = 2.75;\n\n  if (x < 1 / d1) {\n    return n1 * x * x;\n  } else if (x < 2 / d1) {\n    return n1 * (x -= 1.5 / d1) * x + 0.75;\n  } else if (x < 2.5 / d1) {\n    return n1 * (x -= 2.25 / d1) * x + 0.9375;\n  } else {\n    return n1 * (x -= 2.625 / d1) * x + 0.984375;\n  }\n};\n\nconst easings = {\n  linear: x => x,\n  easeInQuad: x => x * x,\n  easeOutQuad: x => 1 - (1 - x) * (1 - x),\n  easeInOutQuad: x => x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2,\n  easeInCubic: x => x * x * x,\n  easeOutCubic: x => 1 - Math.pow(1 - x, 3),\n  easeInOutCubic: x => x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2,\n  easeInQuart: x => x * x * x * x,\n  easeOutQuart: x => 1 - Math.pow(1 - x, 4),\n  easeInOutQuart: x => x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2,\n  easeInQuint: x => x * x * x * x * x,\n  easeOutQuint: x => 1 - Math.pow(1 - x, 5),\n  easeInOutQuint: x => x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2,\n  easeInSine: x => 1 - Math.cos(x * Math.PI / 2),\n  easeOutSine: x => Math.sin(x * Math.PI / 2),\n  easeInOutSine: x => -(Math.cos(Math.PI * x) - 1) / 2,\n  easeInExpo: x => x === 0 ? 0 : Math.pow(2, 10 * x - 10),\n  easeOutExpo: x => x === 1 ? 1 : 1 - Math.pow(2, -10 * x),\n  easeInOutExpo: x => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? Math.pow(2, 20 * x - 10) / 2 : (2 - Math.pow(2, -20 * x + 10)) / 2,\n  easeInCirc: x => 1 - Math.sqrt(1 - Math.pow(x, 2)),\n  easeOutCirc: x => Math.sqrt(1 - Math.pow(x - 1, 2)),\n  easeInOutCirc: x => x < 0.5 ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2 : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2,\n  easeInBack: x => c3 * x * x * x - c1 * x * x,\n  easeOutBack: x => 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2),\n  easeInOutBack: x => x < 0.5 ? Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2) / 2 : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2,\n  easeInElastic: x => x === 0 ? 0 : x === 1 ? 1 : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4),\n  easeOutElastic: x => x === 0 ? 0 : x === 1 ? 1 : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1,\n  easeInOutElastic: x => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2 : Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5) / 2 + 1,\n  easeInBounce: x => 1 - bounceOut(1 - x),\n  easeOutBounce: bounceOut,\n  easeInOutBounce: x => x < 0.5 ? (1 - bounceOut(1 - 2 * x)) / 2 : (1 + bounceOut(2 * x - 1)) / 2\n};\n\nconst defaults = _extends({}, config.default, {\n  mass: 1,\n  damping: 1,\n  easing: easings.linear,\n  clamp: false\n});\n\nclass AnimationConfig {\n  constructor() {\n    this.tension = void 0;\n    this.friction = void 0;\n    this.frequency = void 0;\n    this.damping = void 0;\n    this.mass = void 0;\n    this.velocity = 0;\n    this.restVelocity = void 0;\n    this.precision = void 0;\n    this.progress = void 0;\n    this.duration = void 0;\n    this.easing = void 0;\n    this.clamp = void 0;\n    this.bounce = void 0;\n    this.decay = void 0;\n    this.round = void 0;\n    Object.assign(this, defaults);\n  }\n\n}\nfunction mergeConfig(config, newConfig, defaultConfig) {\n  if (defaultConfig) {\n    defaultConfig = _extends({}, defaultConfig);\n    sanitizeConfig(defaultConfig, newConfig);\n    newConfig = _extends({}, defaultConfig, newConfig);\n  }\n\n  sanitizeConfig(config, newConfig);\n  Object.assign(config, newConfig);\n\n  for (const key in defaults) {\n    if (config[key] == null) {\n      config[key] = defaults[key];\n    }\n  }\n\n  let {\n    mass,\n    frequency,\n    damping\n  } = config;\n\n  if (!is.und(frequency)) {\n    if (frequency < 0.01) frequency = 0.01;\n    if (damping < 0) damping = 0;\n    config.tension = Math.pow(2 * Math.PI / frequency, 2) * mass;\n    config.friction = 4 * Math.PI * damping * mass / frequency;\n  }\n\n  return config;\n}\n\nfunction sanitizeConfig(config, props) {\n  if (!is.und(props.decay)) {\n    config.duration = undefined;\n  } else {\n    const isTensionConfig = !is.und(props.tension) || !is.und(props.friction);\n\n    if (isTensionConfig || !is.und(props.frequency) || !is.und(props.damping) || !is.und(props.mass)) {\n      config.duration = undefined;\n      config.decay = undefined;\n    }\n\n    if (isTensionConfig) {\n      config.frequency = undefined;\n    }\n  }\n}\n\nconst emptyArray = [];\nclass Animation {\n  constructor() {\n    this.changed = false;\n    this.values = emptyArray;\n    this.toValues = null;\n    this.fromValues = emptyArray;\n    this.to = void 0;\n    this.from = void 0;\n    this.config = new AnimationConfig();\n    this.immediate = false;\n  }\n\n}\n\nfunction scheduleProps(callId, {\n  key,\n  props,\n  defaultProps,\n  state,\n  actions\n}) {\n  return new Promise((resolve, reject) => {\n    var _props$cancel;\n\n    let delay;\n    let timeout;\n    let cancel = matchProp((_props$cancel = props.cancel) != null ? _props$cancel : defaultProps == null ? void 0 : defaultProps.cancel, key);\n\n    if (cancel) {\n      onStart();\n    } else {\n      if (!is.und(props.pause)) {\n        state.paused = matchProp(props.pause, key);\n      }\n\n      let pause = defaultProps == null ? void 0 : defaultProps.pause;\n\n      if (pause !== true) {\n        pause = state.paused || matchProp(pause, key);\n      }\n\n      delay = callProp(props.delay || 0, key);\n\n      if (pause) {\n        state.resumeQueue.add(onResume);\n        actions.pause();\n      } else {\n        actions.resume();\n        onResume();\n      }\n    }\n\n    function onPause() {\n      state.resumeQueue.add(onResume);\n      state.timeouts.delete(timeout);\n      timeout.cancel();\n      delay = timeout.time - raf.now();\n    }\n\n    function onResume() {\n      if (delay > 0 && !Globals.skipAnimation) {\n        state.delayed = true;\n        timeout = raf.setTimeout(onStart, delay);\n        state.pauseQueue.add(onPause);\n        state.timeouts.add(timeout);\n      } else {\n        onStart();\n      }\n    }\n\n    function onStart() {\n      if (state.delayed) {\n        state.delayed = false;\n      }\n\n      state.pauseQueue.delete(onPause);\n      state.timeouts.delete(timeout);\n\n      if (callId <= (state.cancelId || 0)) {\n        cancel = true;\n      }\n\n      try {\n        actions.start(_extends({}, props, {\n          callId,\n          cancel\n        }), resolve);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n\nconst getCombinedResult = (target, results) => results.length == 1 ? results[0] : results.some(result => result.cancelled) ? getCancelledResult(target.get()) : results.every(result => result.noop) ? getNoopResult(target.get()) : getFinishedResult(target.get(), results.every(result => result.finished));\nconst getNoopResult = value => ({\n  value,\n  noop: true,\n  finished: true,\n  cancelled: false\n});\nconst getFinishedResult = (value, finished, cancelled = false) => ({\n  value,\n  finished,\n  cancelled\n});\nconst getCancelledResult = value => ({\n  value,\n  cancelled: true,\n  finished: false\n});\n\nfunction runAsync(to, props, state, target) {\n  const {\n    callId,\n    parentId,\n    onRest\n  } = props;\n  const {\n    asyncTo: prevTo,\n    promise: prevPromise\n  } = state;\n\n  if (!parentId && to === prevTo && !props.reset) {\n    return prevPromise;\n  }\n\n  return state.promise = (async () => {\n    state.asyncId = callId;\n    state.asyncTo = to;\n    const defaultProps = getDefaultProps(props, (value, key) => key === 'onRest' ? undefined : value);\n    let preventBail;\n    let bail;\n    const bailPromise = new Promise((resolve, reject) => (preventBail = resolve, bail = reject));\n\n    const bailIfEnded = bailSignal => {\n      const bailResult = callId <= (state.cancelId || 0) && getCancelledResult(target) || callId !== state.asyncId && getFinishedResult(target, false);\n\n      if (bailResult) {\n        bailSignal.result = bailResult;\n        bail(bailSignal);\n        throw bailSignal;\n      }\n    };\n\n    const animate = (arg1, arg2) => {\n      const bailSignal = new BailSignal();\n      const skipAnimationSignal = new SkipAniamtionSignal();\n      return (async () => {\n        if (Globals.skipAnimation) {\n          stopAsync(state);\n          skipAnimationSignal.result = getFinishedResult(target, false);\n          bail(skipAnimationSignal);\n          throw skipAnimationSignal;\n        }\n\n        bailIfEnded(bailSignal);\n        const props = is.obj(arg1) ? _extends({}, arg1) : _extends({}, arg2, {\n          to: arg1\n        });\n        props.parentId = callId;\n        eachProp(defaultProps, (value, key) => {\n          if (is.und(props[key])) {\n            props[key] = value;\n          }\n        });\n        const result = await target.start(props);\n        bailIfEnded(bailSignal);\n\n        if (state.paused) {\n          await new Promise(resume => {\n            state.resumeQueue.add(resume);\n          });\n        }\n\n        return result;\n      })();\n    };\n\n    let result;\n\n    if (Globals.skipAnimation) {\n      stopAsync(state);\n      return getFinishedResult(target, false);\n    }\n\n    try {\n      let animating;\n\n      if (is.arr(to)) {\n        animating = (async queue => {\n          for (const props of queue) {\n            await animate(props);\n          }\n        })(to);\n      } else {\n          animating = Promise.resolve(to(animate, target.stop.bind(target)));\n        }\n\n      await Promise.all([animating.then(preventBail), bailPromise]);\n      result = getFinishedResult(target.get(), true, false);\n    } catch (err) {\n      if (err instanceof BailSignal) {\n        result = err.result;\n      } else if (err instanceof SkipAniamtionSignal) {\n        result = err.result;\n      } else {\n        throw err;\n      }\n    } finally {\n      if (callId == state.asyncId) {\n        state.asyncId = parentId;\n        state.asyncTo = parentId ? prevTo : undefined;\n        state.promise = parentId ? prevPromise : undefined;\n      }\n    }\n\n    if (is.fun(onRest)) {\n      raf.batchedUpdates(() => {\n        onRest(result, target, target.item);\n      });\n    }\n\n    return result;\n  })();\n}\nfunction stopAsync(state, cancelId) {\n  flush(state.timeouts, t => t.cancel());\n  state.pauseQueue.clear();\n  state.resumeQueue.clear();\n  state.asyncId = state.asyncTo = state.promise = undefined;\n  if (cancelId) state.cancelId = cancelId;\n}\nclass BailSignal extends Error {\n  constructor() {\n    super('An async animation has been interrupted. You see this error because you ' + 'forgot to use `await` or `.catch(...)` on its returned promise.');\n    this.result = void 0;\n  }\n\n}\nclass SkipAniamtionSignal extends Error {\n  constructor() {\n    super('SkipAnimationSignal');\n    this.result = void 0;\n  }\n\n}\n\nconst isFrameValue = value => value instanceof FrameValue;\nlet nextId$1 = 1;\nclass FrameValue extends FluidValue {\n  constructor(...args) {\n    super(...args);\n    this.id = nextId$1++;\n    this.key = void 0;\n    this._priority = 0;\n  }\n\n  get priority() {\n    return this._priority;\n  }\n\n  set priority(priority) {\n    if (this._priority != priority) {\n      this._priority = priority;\n\n      this._onPriorityChange(priority);\n    }\n  }\n\n  get() {\n    const node = getAnimated(this);\n    return node && node.getValue();\n  }\n\n  to(...args) {\n    return Globals.to(this, args);\n  }\n\n  interpolate(...args) {\n    deprecateInterpolate();\n    return Globals.to(this, args);\n  }\n\n  toJSON() {\n    return this.get();\n  }\n\n  observerAdded(count) {\n    if (count == 1) this._attach();\n  }\n\n  observerRemoved(count) {\n    if (count == 0) this._detach();\n  }\n\n  _attach() {}\n\n  _detach() {}\n\n  _onChange(value, idle = false) {\n    callFluidObservers(this, {\n      type: 'change',\n      parent: this,\n      value,\n      idle\n    });\n  }\n\n  _onPriorityChange(priority) {\n    if (!this.idle) {\n      frameLoop.sort(this);\n    }\n\n    callFluidObservers(this, {\n      type: 'priority',\n      parent: this,\n      priority\n    });\n  }\n\n}\n\nconst $P = Symbol.for('SpringPhase');\nconst HAS_ANIMATED = 1;\nconst IS_ANIMATING = 2;\nconst IS_PAUSED = 4;\nconst hasAnimated = target => (target[$P] & HAS_ANIMATED) > 0;\nconst isAnimating = target => (target[$P] & IS_ANIMATING) > 0;\nconst isPaused = target => (target[$P] & IS_PAUSED) > 0;\nconst setActiveBit = (target, active) => active ? target[$P] |= IS_ANIMATING | HAS_ANIMATED : target[$P] &= ~IS_ANIMATING;\nconst setPausedBit = (target, paused) => paused ? target[$P] |= IS_PAUSED : target[$P] &= ~IS_PAUSED;\n\nclass SpringValue extends FrameValue {\n  constructor(arg1, arg2) {\n    super();\n    this.key = void 0;\n    this.animation = new Animation();\n    this.queue = void 0;\n    this.defaultProps = {};\n    this._state = {\n      paused: false,\n      delayed: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._pendingCalls = new Set();\n    this._lastCallId = 0;\n    this._lastToId = 0;\n    this._memoizedDuration = 0;\n\n    if (!is.und(arg1) || !is.und(arg2)) {\n      const props = is.obj(arg1) ? _extends({}, arg1) : _extends({}, arg2, {\n        from: arg1\n      });\n\n      if (is.und(props.default)) {\n        props.default = true;\n      }\n\n      this.start(props);\n    }\n  }\n\n  get idle() {\n    return !(isAnimating(this) || this._state.asyncTo) || isPaused(this);\n  }\n\n  get goal() {\n    return getFluidValue(this.animation.to);\n  }\n\n  get velocity() {\n    const node = getAnimated(this);\n    return node instanceof AnimatedValue ? node.lastVelocity || 0 : node.getPayload().map(node => node.lastVelocity || 0);\n  }\n\n  get hasAnimated() {\n    return hasAnimated(this);\n  }\n\n  get isAnimating() {\n    return isAnimating(this);\n  }\n\n  get isPaused() {\n    return isPaused(this);\n  }\n\n  get isDelayed() {\n    return this._state.delayed;\n  }\n\n  advance(dt) {\n    let idle = true;\n    let changed = false;\n    const anim = this.animation;\n    let {\n      config,\n      toValues\n    } = anim;\n    const payload = getPayload(anim.to);\n\n    if (!payload && hasFluidValue(anim.to)) {\n      toValues = toArray(getFluidValue(anim.to));\n    }\n\n    anim.values.forEach((node, i) => {\n      if (node.done) return;\n      const to = node.constructor == AnimatedString ? 1 : payload ? payload[i].lastPosition : toValues[i];\n      let finished = anim.immediate;\n      let position = to;\n\n      if (!finished) {\n        position = node.lastPosition;\n\n        if (config.tension <= 0) {\n          node.done = true;\n          return;\n        }\n\n        let elapsed = node.elapsedTime += dt;\n        const from = anim.fromValues[i];\n        const v0 = node.v0 != null ? node.v0 : node.v0 = is.arr(config.velocity) ? config.velocity[i] : config.velocity;\n        let velocity;\n\n        if (!is.und(config.duration)) {\n          let p = 1;\n\n          if (config.duration > 0) {\n            if (this._memoizedDuration !== config.duration) {\n              this._memoizedDuration = config.duration;\n\n              if (node.durationProgress > 0) {\n                node.elapsedTime = config.duration * node.durationProgress;\n                elapsed = node.elapsedTime += dt;\n              }\n            }\n\n            p = (config.progress || 0) + elapsed / this._memoizedDuration;\n            p = p > 1 ? 1 : p < 0 ? 0 : p;\n            node.durationProgress = p;\n          }\n\n          position = from + config.easing(p) * (to - from);\n          velocity = (position - node.lastPosition) / dt;\n          finished = p == 1;\n        } else if (config.decay) {\n            const decay = config.decay === true ? 0.998 : config.decay;\n            const e = Math.exp(-(1 - decay) * elapsed);\n            position = from + v0 / (1 - decay) * (1 - e);\n            finished = Math.abs(node.lastPosition - position) < 0.1;\n            velocity = v0 * e;\n          } else {\n              velocity = node.lastVelocity == null ? v0 : node.lastVelocity;\n              const precision = config.precision || (from == to ? 0.005 : Math.min(1, Math.abs(to - from) * 0.001));\n              const restVelocity = config.restVelocity || precision / 10;\n              const bounceFactor = config.clamp ? 0 : config.bounce;\n              const canBounce = !is.und(bounceFactor);\n              const isGrowing = from == to ? node.v0 > 0 : from < to;\n              let isMoving;\n              let isBouncing = false;\n              const step = 1;\n              const numSteps = Math.ceil(dt / step);\n\n              for (let n = 0; n < numSteps; ++n) {\n                isMoving = Math.abs(velocity) > restVelocity;\n\n                if (!isMoving) {\n                  finished = Math.abs(to - position) <= precision;\n\n                  if (finished) {\n                    break;\n                  }\n                }\n\n                if (canBounce) {\n                  isBouncing = position == to || position > to == isGrowing;\n\n                  if (isBouncing) {\n                    velocity = -velocity * bounceFactor;\n                    position = to;\n                  }\n                }\n\n                const springForce = -config.tension * 0.000001 * (position - to);\n                const dampingForce = -config.friction * 0.001 * velocity;\n                const acceleration = (springForce + dampingForce) / config.mass;\n                velocity = velocity + acceleration * step;\n                position = position + velocity * step;\n              }\n            }\n\n        node.lastVelocity = velocity;\n\n        if (Number.isNaN(position)) {\n          console.warn(`Got NaN while animating:`, this);\n          finished = true;\n        }\n      }\n\n      if (payload && !payload[i].done) {\n        finished = false;\n      }\n\n      if (finished) {\n        node.done = true;\n      } else {\n        idle = false;\n      }\n\n      if (node.setValue(position, config.round)) {\n        changed = true;\n      }\n    });\n    const node = getAnimated(this);\n    const currVal = node.getValue();\n\n    if (idle) {\n      const finalVal = getFluidValue(anim.to);\n\n      if ((currVal !== finalVal || changed) && !config.decay) {\n        node.setValue(finalVal);\n\n        this._onChange(finalVal);\n      } else if (changed && config.decay) {\n        this._onChange(currVal);\n      }\n\n      this._stop();\n    } else if (changed) {\n      this._onChange(currVal);\n    }\n  }\n\n  set(value) {\n    raf.batchedUpdates(() => {\n      this._stop();\n\n      this._focus(value);\n\n      this._set(value);\n    });\n    return this;\n  }\n\n  pause() {\n    this._update({\n      pause: true\n    });\n  }\n\n  resume() {\n    this._update({\n      pause: false\n    });\n  }\n\n  finish() {\n    if (isAnimating(this)) {\n      const {\n        to,\n        config\n      } = this.animation;\n      raf.batchedUpdates(() => {\n        this._onStart();\n\n        if (!config.decay) {\n          this._set(to, false);\n        }\n\n        this._stop();\n      });\n    }\n\n    return this;\n  }\n\n  update(props) {\n    const queue = this.queue || (this.queue = []);\n    queue.push(props);\n    return this;\n  }\n\n  start(to, arg2) {\n    let queue;\n\n    if (!is.und(to)) {\n      queue = [is.obj(to) ? to : _extends({}, arg2, {\n        to\n      })];\n    } else {\n      queue = this.queue || [];\n      this.queue = [];\n    }\n\n    return Promise.all(queue.map(props => {\n      const up = this._update(props);\n\n      return up;\n    })).then(results => getCombinedResult(this, results));\n  }\n\n  stop(cancel) {\n    const {\n      to\n    } = this.animation;\n\n    this._focus(this.get());\n\n    stopAsync(this._state, cancel && this._lastCallId);\n    raf.batchedUpdates(() => this._stop(to, cancel));\n    return this;\n  }\n\n  reset() {\n    this._update({\n      reset: true\n    });\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._start();\n    } else if (event.type == 'priority') {\n      this.priority = event.priority + 1;\n    }\n  }\n\n  _prepareNode(props) {\n    const key = this.key || '';\n    let {\n      to,\n      from\n    } = props;\n    to = is.obj(to) ? to[key] : to;\n\n    if (to == null || isAsyncTo(to)) {\n      to = undefined;\n    }\n\n    from = is.obj(from) ? from[key] : from;\n\n    if (from == null) {\n      from = undefined;\n    }\n\n    const range = {\n      to,\n      from\n    };\n\n    if (!hasAnimated(this)) {\n      if (props.reverse) [to, from] = [from, to];\n      from = getFluidValue(from);\n\n      if (!is.und(from)) {\n        this._set(from);\n      } else if (!getAnimated(this)) {\n          this._set(to);\n        }\n    }\n\n    return range;\n  }\n\n  _update(_ref, isLoop) {\n    let props = _extends({}, _ref);\n\n    const {\n      key,\n      defaultProps\n    } = this;\n    if (props.default) Object.assign(defaultProps, getDefaultProps(props, (value, prop) => /^on/.test(prop) ? resolveProp(value, key) : value));\n    mergeActiveFn(this, props, 'onProps');\n    sendEvent(this, 'onProps', props, this);\n\n    const range = this._prepareNode(props);\n\n    if (Object.isFrozen(this)) {\n      throw Error('Cannot animate a `SpringValue` object that is frozen. ' + 'Did you forget to pass your component to `animated(...)` before animating its props?');\n    }\n\n    const state = this._state;\n    return scheduleProps(++this._lastCallId, {\n      key,\n      props,\n      defaultProps,\n      state,\n      actions: {\n        pause: () => {\n          if (!isPaused(this)) {\n            setPausedBit(this, true);\n            flushCalls(state.pauseQueue);\n            sendEvent(this, 'onPause', getFinishedResult(this, checkFinished(this, this.animation.to)), this);\n          }\n        },\n        resume: () => {\n          if (isPaused(this)) {\n            setPausedBit(this, false);\n\n            if (isAnimating(this)) {\n              this._resume();\n            }\n\n            flushCalls(state.resumeQueue);\n            sendEvent(this, 'onResume', getFinishedResult(this, checkFinished(this, this.animation.to)), this);\n          }\n        },\n        start: this._merge.bind(this, range)\n      }\n    }).then(result => {\n      if (props.loop && result.finished && !(isLoop && result.noop)) {\n        const nextProps = createLoopUpdate(props);\n\n        if (nextProps) {\n          return this._update(nextProps, true);\n        }\n      }\n\n      return result;\n    });\n  }\n\n  _merge(range, props, resolve) {\n    if (props.cancel) {\n      this.stop(true);\n      return resolve(getCancelledResult(this));\n    }\n\n    const hasToProp = !is.und(range.to);\n    const hasFromProp = !is.und(range.from);\n\n    if (hasToProp || hasFromProp) {\n      if (props.callId > this._lastToId) {\n        this._lastToId = props.callId;\n      } else {\n        return resolve(getCancelledResult(this));\n      }\n    }\n\n    const {\n      key,\n      defaultProps,\n      animation: anim\n    } = this;\n    const {\n      to: prevTo,\n      from: prevFrom\n    } = anim;\n    let {\n      to = prevTo,\n      from = prevFrom\n    } = range;\n\n    if (hasFromProp && !hasToProp && (!props.default || is.und(to))) {\n      to = from;\n    }\n\n    if (props.reverse) [to, from] = [from, to];\n    const hasFromChanged = !isEqual(from, prevFrom);\n\n    if (hasFromChanged) {\n      anim.from = from;\n    }\n\n    from = getFluidValue(from);\n    const hasToChanged = !isEqual(to, prevTo);\n\n    if (hasToChanged) {\n      this._focus(to);\n    }\n\n    const hasAsyncTo = isAsyncTo(props.to);\n    const {\n      config\n    } = anim;\n    const {\n      decay,\n      velocity\n    } = config;\n\n    if (hasToProp || hasFromProp) {\n      config.velocity = 0;\n    }\n\n    if (props.config && !hasAsyncTo) {\n      mergeConfig(config, callProp(props.config, key), props.config !== defaultProps.config ? callProp(defaultProps.config, key) : void 0);\n    }\n\n    let node = getAnimated(this);\n\n    if (!node || is.und(to)) {\n      return resolve(getFinishedResult(this, true));\n    }\n\n    const reset = is.und(props.reset) ? hasFromProp && !props.default : !is.und(from) && matchProp(props.reset, key);\n    const value = reset ? from : this.get();\n    const goal = computeGoal(to);\n    const isAnimatable = is.num(goal) || is.arr(goal) || isAnimatedString(goal);\n    const immediate = !hasAsyncTo && (!isAnimatable || matchProp(defaultProps.immediate || props.immediate, key));\n\n    if (hasToChanged) {\n      const nodeType = getAnimatedType(to);\n\n      if (nodeType !== node.constructor) {\n        if (immediate) {\n          node = this._set(goal);\n        } else throw Error(`Cannot animate between ${node.constructor.name} and ${nodeType.name}, as the \"to\" prop suggests`);\n      }\n    }\n\n    const goalType = node.constructor;\n    let started = hasFluidValue(to);\n    let finished = false;\n\n    if (!started) {\n      const hasValueChanged = reset || !hasAnimated(this) && hasFromChanged;\n\n      if (hasToChanged || hasValueChanged) {\n        finished = isEqual(computeGoal(value), goal);\n        started = !finished;\n      }\n\n      if (!isEqual(anim.immediate, immediate) && !immediate || !isEqual(config.decay, decay) || !isEqual(config.velocity, velocity)) {\n        started = true;\n      }\n    }\n\n    if (finished && isAnimating(this)) {\n      if (anim.changed && !reset) {\n        started = true;\n      } else if (!started) {\n          this._stop(prevTo);\n        }\n    }\n\n    if (!hasAsyncTo) {\n      if (started || hasFluidValue(prevTo)) {\n        anim.values = node.getPayload();\n        anim.toValues = hasFluidValue(to) ? null : goalType == AnimatedString ? [1] : toArray(goal);\n      }\n\n      if (anim.immediate != immediate) {\n        anim.immediate = immediate;\n\n        if (!immediate && !reset) {\n          this._set(prevTo);\n        }\n      }\n\n      if (started) {\n        const {\n          onRest\n        } = anim;\n        each(ACTIVE_EVENTS, type => mergeActiveFn(this, props, type));\n        const result = getFinishedResult(this, checkFinished(this, prevTo));\n        flushCalls(this._pendingCalls, result);\n\n        this._pendingCalls.add(resolve);\n\n        if (anim.changed) raf.batchedUpdates(() => {\n          anim.changed = !reset;\n          onRest == null ? void 0 : onRest(result, this);\n\n          if (reset) {\n            callProp(defaultProps.onRest, result);\n          } else {\n              anim.onStart == null ? void 0 : anim.onStart(result, this);\n            }\n        });\n      }\n    }\n\n    if (reset) {\n      this._set(value);\n    }\n\n    if (hasAsyncTo) {\n      resolve(runAsync(props.to, props, this._state, this));\n    } else if (started) {\n        this._start();\n      } else if (isAnimating(this) && !hasToChanged) {\n          this._pendingCalls.add(resolve);\n        } else {\n            resolve(getNoopResult(value));\n          }\n  }\n\n  _focus(value) {\n    const anim = this.animation;\n\n    if (value !== anim.to) {\n      if (getFluidObservers(this)) {\n        this._detach();\n      }\n\n      anim.to = value;\n\n      if (getFluidObservers(this)) {\n        this._attach();\n      }\n    }\n  }\n\n  _attach() {\n    let priority = 0;\n    const {\n      to\n    } = this.animation;\n\n    if (hasFluidValue(to)) {\n      addFluidObserver(to, this);\n\n      if (isFrameValue(to)) {\n        priority = to.priority + 1;\n      }\n    }\n\n    this.priority = priority;\n  }\n\n  _detach() {\n    const {\n      to\n    } = this.animation;\n\n    if (hasFluidValue(to)) {\n      removeFluidObserver(to, this);\n    }\n  }\n\n  _set(arg, idle = true) {\n    const value = getFluidValue(arg);\n\n    if (!is.und(value)) {\n      const oldNode = getAnimated(this);\n\n      if (!oldNode || !isEqual(value, oldNode.getValue())) {\n        const nodeType = getAnimatedType(value);\n\n        if (!oldNode || oldNode.constructor != nodeType) {\n          setAnimated(this, nodeType.create(value));\n        } else {\n          oldNode.setValue(value);\n        }\n\n        if (oldNode) {\n          raf.batchedUpdates(() => {\n            this._onChange(value, idle);\n          });\n        }\n      }\n    }\n\n    return getAnimated(this);\n  }\n\n  _onStart() {\n    const anim = this.animation;\n\n    if (!anim.changed) {\n      anim.changed = true;\n      sendEvent(this, 'onStart', getFinishedResult(this, checkFinished(this, anim.to)), this);\n    }\n  }\n\n  _onChange(value, idle) {\n    if (!idle) {\n      this._onStart();\n\n      callProp(this.animation.onChange, value, this);\n    }\n\n    callProp(this.defaultProps.onChange, value, this);\n\n    super._onChange(value, idle);\n  }\n\n  _start() {\n    const anim = this.animation;\n    getAnimated(this).reset(getFluidValue(anim.to));\n\n    if (!anim.immediate) {\n      anim.fromValues = anim.values.map(node => node.lastPosition);\n    }\n\n    if (!isAnimating(this)) {\n      setActiveBit(this, true);\n\n      if (!isPaused(this)) {\n        this._resume();\n      }\n    }\n  }\n\n  _resume() {\n    if (Globals.skipAnimation) {\n      this.finish();\n    } else {\n      frameLoop.start(this);\n    }\n  }\n\n  _stop(goal, cancel) {\n    if (isAnimating(this)) {\n      setActiveBit(this, false);\n      const anim = this.animation;\n      each(anim.values, node => {\n        node.done = true;\n      });\n\n      if (anim.toValues) {\n        anim.onChange = anim.onPause = anim.onResume = undefined;\n      }\n\n      callFluidObservers(this, {\n        type: 'idle',\n        parent: this\n      });\n      const result = cancel ? getCancelledResult(this.get()) : getFinishedResult(this.get(), checkFinished(this, goal != null ? goal : anim.to));\n      flushCalls(this._pendingCalls, result);\n\n      if (anim.changed) {\n        anim.changed = false;\n        sendEvent(this, 'onRest', result, this);\n      }\n    }\n  }\n\n}\n\nfunction checkFinished(target, to) {\n  const goal = computeGoal(to);\n  const value = computeGoal(target.get());\n  return isEqual(value, goal);\n}\n\nfunction createLoopUpdate(props, loop = props.loop, to = props.to) {\n  let loopRet = callProp(loop);\n\n  if (loopRet) {\n    const overrides = loopRet !== true && inferTo(loopRet);\n    const reverse = (overrides || props).reverse;\n    const reset = !overrides || overrides.reset;\n    return createUpdate(_extends({}, props, {\n      loop,\n      default: false,\n      pause: undefined,\n      to: !reverse || isAsyncTo(to) ? to : undefined,\n      from: reset ? props.from : undefined,\n      reset\n    }, overrides));\n  }\n}\nfunction createUpdate(props) {\n  const {\n    to,\n    from\n  } = props = inferTo(props);\n  const keys = new Set();\n  if (is.obj(to)) findDefined(to, keys);\n  if (is.obj(from)) findDefined(from, keys);\n  props.keys = keys.size ? Array.from(keys) : null;\n  return props;\n}\nfunction declareUpdate(props) {\n  const update = createUpdate(props);\n\n  if (is.und(update.default)) {\n    update.default = getDefaultProps(update);\n  }\n\n  return update;\n}\n\nfunction findDefined(values, keys) {\n  eachProp(values, (value, key) => value != null && keys.add(key));\n}\n\nconst ACTIVE_EVENTS = ['onStart', 'onRest', 'onChange', 'onPause', 'onResume'];\n\nfunction mergeActiveFn(target, props, type) {\n  target.animation[type] = props[type] !== getDefaultProp(props, type) ? resolveProp(props[type], target.key) : undefined;\n}\n\nfunction sendEvent(target, type, ...args) {\n  var _target$animation$typ, _target$animation, _target$defaultProps$, _target$defaultProps;\n\n  (_target$animation$typ = (_target$animation = target.animation)[type]) == null ? void 0 : _target$animation$typ.call(_target$animation, ...args);\n  (_target$defaultProps$ = (_target$defaultProps = target.defaultProps)[type]) == null ? void 0 : _target$defaultProps$.call(_target$defaultProps, ...args);\n}\n\nconst BATCHED_EVENTS = ['onStart', 'onChange', 'onRest'];\nlet nextId = 1;\nclass Controller {\n  constructor(props, flush) {\n    this.id = nextId++;\n    this.springs = {};\n    this.queue = [];\n    this.ref = void 0;\n    this._flush = void 0;\n    this._initialProps = void 0;\n    this._lastAsyncId = 0;\n    this._active = new Set();\n    this._changed = new Set();\n    this._started = false;\n    this._item = void 0;\n    this._state = {\n      paused: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._events = {\n      onStart: new Map(),\n      onChange: new Map(),\n      onRest: new Map()\n    };\n    this._onFrame = this._onFrame.bind(this);\n\n    if (flush) {\n      this._flush = flush;\n    }\n\n    if (props) {\n      this.start(_extends({\n        default: true\n      }, props));\n    }\n  }\n\n  get idle() {\n    return !this._state.asyncTo && Object.values(this.springs).every(spring => {\n      return spring.idle && !spring.isDelayed && !spring.isPaused;\n    });\n  }\n\n  get item() {\n    return this._item;\n  }\n\n  set item(item) {\n    this._item = item;\n  }\n\n  get() {\n    const values = {};\n    this.each((spring, key) => values[key] = spring.get());\n    return values;\n  }\n\n  set(values) {\n    for (const key in values) {\n      const value = values[key];\n\n      if (!is.und(value)) {\n        this.springs[key].set(value);\n      }\n    }\n  }\n\n  update(props) {\n    if (props) {\n      this.queue.push(createUpdate(props));\n    }\n\n    return this;\n  }\n\n  start(props) {\n    let {\n      queue\n    } = this;\n\n    if (props) {\n      queue = toArray(props).map(createUpdate);\n    } else {\n      this.queue = [];\n    }\n\n    if (this._flush) {\n      return this._flush(this, queue);\n    }\n\n    prepareKeys(this, queue);\n    return flushUpdateQueue(this, queue);\n  }\n\n  stop(arg, keys) {\n    if (arg !== !!arg) {\n      keys = arg;\n    }\n\n    if (keys) {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].stop(!!arg));\n    } else {\n      stopAsync(this._state, this._lastAsyncId);\n      this.each(spring => spring.stop(!!arg));\n    }\n\n    return this;\n  }\n\n  pause(keys) {\n    if (is.und(keys)) {\n      this.start({\n        pause: true\n      });\n    } else {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].pause());\n    }\n\n    return this;\n  }\n\n  resume(keys) {\n    if (is.und(keys)) {\n      this.start({\n        pause: false\n      });\n    } else {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].resume());\n    }\n\n    return this;\n  }\n\n  each(iterator) {\n    eachProp(this.springs, iterator);\n  }\n\n  _onFrame() {\n    const {\n      onStart,\n      onChange,\n      onRest\n    } = this._events;\n    const active = this._active.size > 0;\n    const changed = this._changed.size > 0;\n\n    if (active && !this._started || changed && !this._started) {\n      this._started = true;\n      flush(onStart, ([onStart, result]) => {\n        result.value = this.get();\n        onStart(result, this, this._item);\n      });\n    }\n\n    const idle = !active && this._started;\n    const values = changed || idle && onRest.size ? this.get() : null;\n\n    if (changed && onChange.size) {\n      flush(onChange, ([onChange, result]) => {\n        result.value = values;\n        onChange(result, this, this._item);\n      });\n    }\n\n    if (idle) {\n      this._started = false;\n      flush(onRest, ([onRest, result]) => {\n        result.value = values;\n        onRest(result, this, this._item);\n      });\n    }\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._changed.add(event.parent);\n\n      if (!event.idle) {\n        this._active.add(event.parent);\n      }\n    } else if (event.type == 'idle') {\n      this._active.delete(event.parent);\n    } else return;\n\n    raf.onFrame(this._onFrame);\n  }\n\n}\nfunction flushUpdateQueue(ctrl, queue) {\n  return Promise.all(queue.map(props => flushUpdate(ctrl, props))).then(results => getCombinedResult(ctrl, results));\n}\nasync function flushUpdate(ctrl, props, isLoop) {\n  const {\n    keys,\n    to,\n    from,\n    loop,\n    onRest,\n    onResolve\n  } = props;\n  const defaults = is.obj(props.default) && props.default;\n\n  if (loop) {\n    props.loop = false;\n  }\n\n  if (to === false) props.to = null;\n  if (from === false) props.from = null;\n  const asyncTo = is.arr(to) || is.fun(to) ? to : undefined;\n\n  if (asyncTo) {\n    props.to = undefined;\n    props.onRest = undefined;\n\n    if (defaults) {\n      defaults.onRest = undefined;\n    }\n  } else {\n      each(BATCHED_EVENTS, key => {\n        const handler = props[key];\n\n        if (is.fun(handler)) {\n          const queue = ctrl['_events'][key];\n\n          props[key] = ({\n            finished,\n            cancelled\n          }) => {\n            const result = queue.get(handler);\n\n            if (result) {\n              if (!finished) result.finished = false;\n              if (cancelled) result.cancelled = true;\n            } else {\n              queue.set(handler, {\n                value: null,\n                finished: finished || false,\n                cancelled: cancelled || false\n              });\n            }\n          };\n\n          if (defaults) {\n            defaults[key] = props[key];\n          }\n        }\n      });\n    }\n\n  const state = ctrl['_state'];\n\n  if (props.pause === !state.paused) {\n    state.paused = props.pause;\n    flushCalls(props.pause ? state.pauseQueue : state.resumeQueue);\n  } else if (state.paused) {\n      props.pause = true;\n    }\n\n  const promises = (keys || Object.keys(ctrl.springs)).map(key => ctrl.springs[key].start(props));\n  const cancel = props.cancel === true || getDefaultProp(props, 'cancel') === true;\n\n  if (asyncTo || cancel && state.asyncId) {\n    promises.push(scheduleProps(++ctrl['_lastAsyncId'], {\n      props,\n      state,\n      actions: {\n        pause: noop,\n        resume: noop,\n\n        start(props, resolve) {\n          if (cancel) {\n            stopAsync(state, ctrl['_lastAsyncId']);\n            resolve(getCancelledResult(ctrl));\n          } else {\n            props.onRest = onRest;\n            resolve(runAsync(asyncTo, props, state, ctrl));\n          }\n        }\n\n      }\n    }));\n  }\n\n  if (state.paused) {\n    await new Promise(resume => {\n      state.resumeQueue.add(resume);\n    });\n  }\n\n  const result = getCombinedResult(ctrl, await Promise.all(promises));\n\n  if (loop && result.finished && !(isLoop && result.noop)) {\n    const nextProps = createLoopUpdate(props, loop, to);\n\n    if (nextProps) {\n      prepareKeys(ctrl, [nextProps]);\n      return flushUpdate(ctrl, nextProps, true);\n    }\n  }\n\n  if (onResolve) {\n    raf.batchedUpdates(() => onResolve(result, ctrl, ctrl.item));\n  }\n\n  return result;\n}\nfunction getSprings(ctrl, props) {\n  const springs = _extends({}, ctrl.springs);\n\n  if (props) {\n    each(toArray(props), props => {\n      if (is.und(props.keys)) {\n        props = createUpdate(props);\n      }\n\n      if (!is.obj(props.to)) {\n        props = _extends({}, props, {\n          to: undefined\n        });\n      }\n\n      prepareSprings(springs, props, key => {\n        return createSpring(key);\n      });\n    });\n  }\n\n  setSprings(ctrl, springs);\n  return springs;\n}\nfunction setSprings(ctrl, springs) {\n  eachProp(springs, (spring, key) => {\n    if (!ctrl.springs[key]) {\n      ctrl.springs[key] = spring;\n      addFluidObserver(spring, ctrl);\n    }\n  });\n}\n\nfunction createSpring(key, observer) {\n  const spring = new SpringValue();\n  spring.key = key;\n\n  if (observer) {\n    addFluidObserver(spring, observer);\n  }\n\n  return spring;\n}\n\nfunction prepareSprings(springs, props, create) {\n  if (props.keys) {\n    each(props.keys, key => {\n      const spring = springs[key] || (springs[key] = create(key));\n      spring['_prepareNode'](props);\n    });\n  }\n}\n\nfunction prepareKeys(ctrl, queue) {\n  each(queue, props => {\n    prepareSprings(ctrl.springs, props, key => {\n      return createSpring(key, ctrl);\n    });\n  });\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst _excluded$3 = [\"children\"];\nconst SpringContext = _ref => {\n  let {\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$3);\n\n  const inherited = useContext(ctx);\n  const pause = props.pause || !!inherited.pause,\n        immediate = props.immediate || !!inherited.immediate;\n  props = useMemoOne(() => ({\n    pause,\n    immediate\n  }), [pause, immediate]);\n  const {\n    Provider\n  } = ctx;\n  return React.createElement(Provider, {\n    value: props\n  }, children);\n};\nconst ctx = makeContext(SpringContext, {});\nSpringContext.Provider = ctx.Provider;\nSpringContext.Consumer = ctx.Consumer;\n\nfunction makeContext(target, init) {\n  Object.assign(target, React.createContext(init));\n  target.Provider._context = target;\n  target.Consumer._context = target;\n  return target;\n}\n\nconst SpringRef = () => {\n  const current = [];\n\n  const SpringRef = function SpringRef(props) {\n    deprecateDirectCall();\n    const results = [];\n    each(current, (ctrl, i) => {\n      if (is.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update = _getProps(props, ctrl, i);\n\n        if (update) {\n          results.push(ctrl.start(update));\n        }\n      }\n    });\n    return results;\n  };\n\n  SpringRef.current = current;\n\n  SpringRef.add = function (ctrl) {\n    if (!current.includes(ctrl)) {\n      current.push(ctrl);\n    }\n  };\n\n  SpringRef.delete = function (ctrl) {\n    const i = current.indexOf(ctrl);\n    if (~i) current.splice(i, 1);\n  };\n\n  SpringRef.pause = function () {\n    each(current, ctrl => ctrl.pause(...arguments));\n    return this;\n  };\n\n  SpringRef.resume = function () {\n    each(current, ctrl => ctrl.resume(...arguments));\n    return this;\n  };\n\n  SpringRef.set = function (values) {\n    each(current, ctrl => ctrl.set(values));\n  };\n\n  SpringRef.start = function (props) {\n    const results = [];\n    each(current, (ctrl, i) => {\n      if (is.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update = this._getProps(props, ctrl, i);\n\n        if (update) {\n          results.push(ctrl.start(update));\n        }\n      }\n    });\n    return results;\n  };\n\n  SpringRef.stop = function () {\n    each(current, ctrl => ctrl.stop(...arguments));\n    return this;\n  };\n\n  SpringRef.update = function (props) {\n    each(current, (ctrl, i) => ctrl.update(this._getProps(props, ctrl, i)));\n    return this;\n  };\n\n  const _getProps = function _getProps(arg, ctrl, index) {\n    return is.fun(arg) ? arg(index, ctrl) : arg;\n  };\n\n  SpringRef._getProps = _getProps;\n  return SpringRef;\n};\n\nfunction useSprings(length, props, deps) {\n  const propsFn = is.fun(props) && props;\n  if (propsFn && !deps) deps = [];\n  const ref = useMemo(() => propsFn || arguments.length == 3 ? SpringRef() : void 0, []);\n  const layoutId = useRef(0);\n  const forceUpdate = useForceUpdate();\n  const state = useMemo(() => ({\n    ctrls: [],\n    queue: [],\n\n    flush(ctrl, updates) {\n      const springs = getSprings(ctrl, updates);\n      const canFlushSync = layoutId.current > 0 && !state.queue.length && !Object.keys(springs).some(key => !ctrl.springs[key]);\n      return canFlushSync ? flushUpdateQueue(ctrl, updates) : new Promise(resolve => {\n        setSprings(ctrl, springs);\n        state.queue.push(() => {\n          resolve(flushUpdateQueue(ctrl, updates));\n        });\n        forceUpdate();\n      });\n    }\n\n  }), []);\n  const ctrls = useRef([...state.ctrls]);\n  const updates = [];\n  const prevLength = usePrev(length) || 0;\n  useMemo(() => {\n    each(ctrls.current.slice(length, prevLength), ctrl => {\n      detachRefs(ctrl, ref);\n      ctrl.stop(true);\n    });\n    ctrls.current.length = length;\n    declareUpdates(prevLength, length);\n  }, [length]);\n  useMemo(() => {\n    declareUpdates(0, Math.min(prevLength, length));\n  }, deps);\n\n  function declareUpdates(startIndex, endIndex) {\n    for (let i = startIndex; i < endIndex; i++) {\n      const ctrl = ctrls.current[i] || (ctrls.current[i] = new Controller(null, state.flush));\n      const update = propsFn ? propsFn(i, ctrl) : props[i];\n\n      if (update) {\n        updates[i] = declareUpdate(update);\n      }\n    }\n  }\n\n  const springs = ctrls.current.map((ctrl, i) => getSprings(ctrl, updates[i]));\n  const context = useContext(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useLayoutEffect(() => {\n    layoutId.current++;\n    state.ctrls = ctrls.current;\n    const {\n      queue\n    } = state;\n\n    if (queue.length) {\n      state.queue = [];\n      each(queue, cb => cb());\n    }\n\n    each(ctrls.current, (ctrl, i) => {\n      ref == null ? void 0 : ref.add(ctrl);\n\n      if (hasContext) {\n        ctrl.start({\n          default: context\n        });\n      }\n\n      const update = updates[i];\n\n      if (update) {\n        replaceRef(ctrl, update.ref);\n\n        if (ctrl.ref) {\n          ctrl.queue.push(update);\n        } else {\n          ctrl.start(update);\n        }\n      }\n    });\n  });\n  useOnce(() => () => {\n    each(state.ctrls, ctrl => ctrl.stop(true));\n  });\n  const values = springs.map(x => _extends({}, x));\n  return ref ? [values, ref] : values;\n}\n\nfunction useSpring(props, deps) {\n  const isFn = is.fun(props);\n  const [[values], ref] = useSprings(1, isFn ? props : [props], isFn ? deps || [] : deps);\n  return isFn || arguments.length == 2 ? [values, ref] : values;\n}\n\nconst initSpringRef = () => SpringRef();\n\nconst useSpringRef = () => useState(initSpringRef)[0];\n\nfunction useTrail(length, propsArg, deps) {\n  var _passedRef;\n\n  const propsFn = is.fun(propsArg) && propsArg;\n  if (propsFn && !deps) deps = [];\n  let reverse = true;\n  let passedRef = undefined;\n  const result = useSprings(length, (i, ctrl) => {\n    const props = propsFn ? propsFn(i, ctrl) : propsArg;\n    passedRef = props.ref;\n    reverse = reverse && props.reverse;\n    return props;\n  }, deps || [{}]);\n  const ref = (_passedRef = passedRef) != null ? _passedRef : result[1];\n  useLayoutEffect(() => {\n    each(ref.current, (ctrl, i) => {\n      const parent = ref.current[i + (reverse ? 1 : -1)];\n\n      if (parent) {\n        ctrl.start({\n          to: parent.springs\n        });\n      } else {\n        ctrl.start();\n      }\n    });\n  }, deps);\n\n  if (propsFn || arguments.length == 3) {\n    ref['_getProps'] = (propsArg, ctrl, i) => {\n      const props = is.fun(propsArg) ? propsArg(i, ctrl) : propsArg;\n\n      if (props) {\n        const parent = ref.current[i + (props.reverse ? 1 : -1)];\n        if (parent) props.to = parent.springs;\n        return props;\n      }\n    };\n\n    return result;\n  }\n\n  ref['start'] = propsArg => {\n    const results = [];\n    each(ref.current, (ctrl, i) => {\n      const props = is.fun(propsArg) ? propsArg(i, ctrl) : propsArg;\n      const parent = ref.current[i + (reverse ? 1 : -1)];\n\n      if (parent) {\n        results.push(ctrl.start(_extends({}, props, {\n          to: parent.springs\n        })));\n      } else {\n        results.push(ctrl.start(_extends({}, props)));\n      }\n    });\n    return results;\n  };\n\n  return result[0];\n}\n\nlet TransitionPhase;\n\n(function (TransitionPhase) {\n  TransitionPhase[\"MOUNT\"] = \"mount\";\n  TransitionPhase[\"ENTER\"] = \"enter\";\n  TransitionPhase[\"UPDATE\"] = \"update\";\n  TransitionPhase[\"LEAVE\"] = \"leave\";\n})(TransitionPhase || (TransitionPhase = {}));\n\nfunction useTransition(data, props, deps) {\n  const propsFn = is.fun(props) && props;\n  const {\n    reset,\n    sort,\n    trail = 0,\n    expires = true,\n    exitBeforeEnter = false,\n    onDestroyed,\n    ref: propsRef,\n    config: propsConfig\n  } = propsFn ? propsFn() : props;\n  const ref = useMemo(() => propsFn || arguments.length == 3 ? SpringRef() : void 0, []);\n  const items = toArray(data);\n  const transitions = [];\n  const usedTransitions = useRef(null);\n  const prevTransitions = reset ? null : usedTransitions.current;\n  useLayoutEffect(() => {\n    usedTransitions.current = transitions;\n  });\n  useOnce(() => {\n    each(usedTransitions.current, t => {\n      var _t$ctrl$ref;\n\n      (_t$ctrl$ref = t.ctrl.ref) == null ? void 0 : _t$ctrl$ref.add(t.ctrl);\n      const change = changes.get(t);\n\n      if (change) {\n        t.ctrl.start(change.payload);\n      }\n    });\n    return () => {\n      each(usedTransitions.current, t => {\n        if (t.expired) {\n          clearTimeout(t.expirationId);\n        }\n\n        detachRefs(t.ctrl, ref);\n        t.ctrl.stop(true);\n      });\n    };\n  });\n  const keys = getKeys(items, propsFn ? propsFn() : props, prevTransitions);\n  const expired = reset && usedTransitions.current || [];\n  useLayoutEffect(() => each(expired, ({\n    ctrl,\n    item,\n    key\n  }) => {\n    detachRefs(ctrl, ref);\n    callProp(onDestroyed, item, key);\n  }));\n  const reused = [];\n  if (prevTransitions) each(prevTransitions, (t, i) => {\n    if (t.expired) {\n      clearTimeout(t.expirationId);\n      expired.push(t);\n    } else {\n      i = reused[i] = keys.indexOf(t.key);\n      if (~i) transitions[i] = t;\n    }\n  });\n  each(items, (item, i) => {\n    if (!transitions[i]) {\n      transitions[i] = {\n        key: keys[i],\n        item,\n        phase: TransitionPhase.MOUNT,\n        ctrl: new Controller()\n      };\n      transitions[i].ctrl.item = item;\n    }\n  });\n\n  if (reused.length) {\n    let i = -1;\n    const {\n      leave\n    } = propsFn ? propsFn() : props;\n    each(reused, (keyIndex, prevIndex) => {\n      const t = prevTransitions[prevIndex];\n\n      if (~keyIndex) {\n        i = transitions.indexOf(t);\n        transitions[i] = _extends({}, t, {\n          item: items[keyIndex]\n        });\n      } else if (leave) {\n        transitions.splice(++i, 0, t);\n      }\n    });\n  }\n\n  if (is.fun(sort)) {\n    transitions.sort((a, b) => sort(a.item, b.item));\n  }\n\n  let delay = -trail;\n  const forceUpdate = useForceUpdate();\n  const defaultProps = getDefaultProps(props);\n  const changes = new Map();\n  const exitingTransitions = useRef(new Map());\n  const forceChange = useRef(false);\n  each(transitions, (t, i) => {\n    const key = t.key;\n    const prevPhase = t.phase;\n    const p = propsFn ? propsFn() : props;\n    let to;\n    let phase;\n    let propsDelay = callProp(p.delay || 0, key);\n\n    if (prevPhase == TransitionPhase.MOUNT) {\n      to = p.enter;\n      phase = TransitionPhase.ENTER;\n    } else {\n      const isLeave = keys.indexOf(key) < 0;\n\n      if (prevPhase != TransitionPhase.LEAVE) {\n        if (isLeave) {\n          to = p.leave;\n          phase = TransitionPhase.LEAVE;\n        } else if (to = p.update) {\n          phase = TransitionPhase.UPDATE;\n        } else return;\n      } else if (!isLeave) {\n        to = p.enter;\n        phase = TransitionPhase.ENTER;\n      } else return;\n    }\n\n    to = callProp(to, t.item, i);\n    to = is.obj(to) ? inferTo(to) : {\n      to\n    };\n\n    if (!to.config) {\n      const config = propsConfig || defaultProps.config;\n      to.config = callProp(config, t.item, i, phase);\n    }\n\n    delay += trail;\n\n    const payload = _extends({}, defaultProps, {\n      delay: propsDelay + delay,\n      ref: propsRef,\n      immediate: p.immediate,\n      reset: false\n    }, to);\n\n    if (phase == TransitionPhase.ENTER && is.und(payload.from)) {\n      const _p = propsFn ? propsFn() : props;\n\n      const from = is.und(_p.initial) || prevTransitions ? _p.from : _p.initial;\n      payload.from = callProp(from, t.item, i);\n    }\n\n    const {\n      onResolve\n    } = payload;\n\n    payload.onResolve = result => {\n      callProp(onResolve, result);\n      const transitions = usedTransitions.current;\n      const t = transitions.find(t => t.key === key);\n      if (!t) return;\n\n      if (result.cancelled && t.phase != TransitionPhase.UPDATE) {\n        return;\n      }\n\n      if (t.ctrl.idle) {\n        const idle = transitions.every(t => t.ctrl.idle);\n\n        if (t.phase == TransitionPhase.LEAVE) {\n          const expiry = callProp(expires, t.item);\n\n          if (expiry !== false) {\n            const expiryMs = expiry === true ? 0 : expiry;\n            t.expired = true;\n\n            if (!idle && expiryMs > 0) {\n              if (expiryMs <= 0x7fffffff) t.expirationId = setTimeout(forceUpdate, expiryMs);\n              return;\n            }\n          }\n        }\n\n        if (idle && transitions.some(t => t.expired)) {\n          exitingTransitions.current.delete(t);\n\n          if (exitBeforeEnter) {\n            forceChange.current = true;\n          }\n\n          forceUpdate();\n        }\n      }\n    };\n\n    const springs = getSprings(t.ctrl, payload);\n\n    if (phase === TransitionPhase.LEAVE && exitBeforeEnter) {\n      exitingTransitions.current.set(t, {\n        phase,\n        springs,\n        payload\n      });\n    } else {\n      changes.set(t, {\n        phase,\n        springs,\n        payload\n      });\n    }\n  });\n  const context = useContext(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useLayoutEffect(() => {\n    if (hasContext) {\n      each(transitions, t => {\n        t.ctrl.start({\n          default: context\n        });\n      });\n    }\n  }, [context]);\n  each(changes, (_, t) => {\n    if (exitingTransitions.current.size) {\n      const ind = transitions.findIndex(state => state.key === t.key);\n      transitions.splice(ind, 1);\n    }\n  });\n  useLayoutEffect(() => {\n    each(exitingTransitions.current.size ? exitingTransitions.current : changes, ({\n      phase,\n      payload\n    }, t) => {\n      const {\n        ctrl\n      } = t;\n      t.phase = phase;\n      ref == null ? void 0 : ref.add(ctrl);\n\n      if (hasContext && phase == TransitionPhase.ENTER) {\n        ctrl.start({\n          default: context\n        });\n      }\n\n      if (payload) {\n        replaceRef(ctrl, payload.ref);\n\n        if (ctrl.ref && !forceChange.current) {\n          ctrl.update(payload);\n        } else {\n          ctrl.start(payload);\n\n          if (forceChange.current) {\n            forceChange.current = false;\n          }\n        }\n      }\n    });\n  }, reset ? void 0 : deps);\n\n  const renderTransitions = render => React.createElement(React.Fragment, null, transitions.map((t, i) => {\n    const {\n      springs\n    } = changes.get(t) || t.ctrl;\n    const elem = render(_extends({}, springs), t.item, t, i);\n    return elem && elem.type ? React.createElement(elem.type, _extends({}, elem.props, {\n      key: is.str(t.key) || is.num(t.key) ? t.key : t.ctrl.id,\n      ref: elem.ref\n    })) : elem;\n  }));\n\n  return ref ? [renderTransitions, ref] : renderTransitions;\n}\nlet nextKey = 1;\n\nfunction getKeys(items, {\n  key,\n  keys = key\n}, prevTransitions) {\n  if (keys === null) {\n    const reused = new Set();\n    return items.map(item => {\n      const t = prevTransitions && prevTransitions.find(t => t.item === item && t.phase !== TransitionPhase.LEAVE && !reused.has(t));\n\n      if (t) {\n        reused.add(t);\n        return t.key;\n      }\n\n      return nextKey++;\n    });\n  }\n\n  return is.und(keys) ? items : is.fun(keys) ? items.map(keys) : toArray(keys);\n}\n\nconst _excluded$2 = [\"children\"];\nfunction Spring(_ref) {\n  let {\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  return children(useSpring(props));\n}\n\nconst _excluded$1 = [\"items\", \"children\"];\nfunction Trail(_ref) {\n  let {\n    items,\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n  const trails = useTrail(items.length, props);\n  return items.map((item, index) => {\n    const result = children(item, index);\n    return is.fun(result) ? result(trails[index]) : result;\n  });\n}\n\nconst _excluded = [\"items\", \"children\"];\nfunction Transition(_ref) {\n  let {\n    items,\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return useTransition(items, props)(children);\n}\n\nclass Interpolation extends FrameValue {\n  constructor(source, args) {\n    super();\n    this.key = void 0;\n    this.idle = true;\n    this.calc = void 0;\n    this._active = new Set();\n    this.source = source;\n    this.calc = createInterpolator(...args);\n\n    const value = this._get();\n\n    const nodeType = getAnimatedType(value);\n    setAnimated(this, nodeType.create(value));\n  }\n\n  advance(_dt) {\n    const value = this._get();\n\n    const oldValue = this.get();\n\n    if (!isEqual(value, oldValue)) {\n      getAnimated(this).setValue(value);\n\n      this._onChange(value, this.idle);\n    }\n\n    if (!this.idle && checkIdle(this._active)) {\n      becomeIdle(this);\n    }\n  }\n\n  _get() {\n    const inputs = is.arr(this.source) ? this.source.map(getFluidValue) : toArray(getFluidValue(this.source));\n    return this.calc(...inputs);\n  }\n\n  _start() {\n    if (this.idle && !checkIdle(this._active)) {\n      this.idle = false;\n      each(getPayload(this), node => {\n        node.done = false;\n      });\n\n      if (Globals.skipAnimation) {\n        raf.batchedUpdates(() => this.advance());\n        becomeIdle(this);\n      } else {\n        frameLoop.start(this);\n      }\n    }\n  }\n\n  _attach() {\n    let priority = 1;\n    each(toArray(this.source), source => {\n      if (hasFluidValue(source)) {\n        addFluidObserver(source, this);\n      }\n\n      if (isFrameValue(source)) {\n        if (!source.idle) {\n          this._active.add(source);\n        }\n\n        priority = Math.max(priority, source.priority + 1);\n      }\n    });\n    this.priority = priority;\n\n    this._start();\n  }\n\n  _detach() {\n    each(toArray(this.source), source => {\n      if (hasFluidValue(source)) {\n        removeFluidObserver(source, this);\n      }\n    });\n\n    this._active.clear();\n\n    becomeIdle(this);\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      if (event.idle) {\n        this.advance();\n      } else {\n        this._active.add(event.parent);\n\n        this._start();\n      }\n    } else if (event.type == 'idle') {\n        this._active.delete(event.parent);\n      } else if (event.type == 'priority') {\n          this.priority = toArray(this.source).reduce((highest, parent) => Math.max(highest, (isFrameValue(parent) ? parent.priority : 0) + 1), 0);\n        }\n  }\n\n}\n\nfunction isIdle(source) {\n  return source.idle !== false;\n}\n\nfunction checkIdle(active) {\n  return !active.size || Array.from(active).every(isIdle);\n}\n\nfunction becomeIdle(self) {\n  if (!self.idle) {\n    self.idle = true;\n    each(getPayload(self), node => {\n      node.done = true;\n    });\n    callFluidObservers(self, {\n      type: 'idle',\n      parent: self\n    });\n  }\n}\n\nconst to = (source, ...args) => new Interpolation(source, args);\nconst interpolate = (source, ...args) => (deprecateInterpolate(), new Interpolation(source, args));\n\nGlobals.assign({\n  createStringInterpolator,\n  to: (source, args) => new Interpolation(source, args)\n});\nconst update = frameLoop.advance;\n\nexport { BailSignal, Controller, FrameValue, Interpolation, Spring, SpringContext, SpringRef, SpringValue, Trail, Transition, config, easings, inferTo, interpolate, to, update, useChain, useSpring, useSpringRef, useSprings, useTrail, useTransition };\n","let updateQueue = makeQueue();\nconst raf = fn => schedule(fn, updateQueue);\nlet writeQueue = makeQueue();\n\nraf.write = fn => schedule(fn, writeQueue);\n\nlet onStartQueue = makeQueue();\n\nraf.onStart = fn => schedule(fn, onStartQueue);\n\nlet onFrameQueue = makeQueue();\n\nraf.onFrame = fn => schedule(fn, onFrameQueue);\n\nlet onFinishQueue = makeQueue();\n\nraf.onFinish = fn => schedule(fn, onFinishQueue);\n\nlet timeouts = [];\n\nraf.setTimeout = (handler, ms) => {\n  let time = raf.now() + ms;\n\n  let cancel = () => {\n    let i = timeouts.findIndex(t => t.cancel == cancel);\n    if (~i) timeouts.splice(i, 1);\n    pendingCount -= ~i ? 1 : 0;\n  };\n\n  let timeout = {\n    time,\n    handler,\n    cancel\n  };\n  timeouts.splice(findTimeout(time), 0, timeout);\n  pendingCount += 1;\n  start();\n  return timeout;\n};\n\nlet findTimeout = time => ~(~timeouts.findIndex(t => t.time > time) || ~timeouts.length);\n\nraf.cancel = fn => {\n  onStartQueue.delete(fn);\n  onFrameQueue.delete(fn);\n  updateQueue.delete(fn);\n  writeQueue.delete(fn);\n  onFinishQueue.delete(fn);\n};\n\nraf.sync = fn => {\n  sync = true;\n  raf.batchedUpdates(fn);\n  sync = false;\n};\n\nraf.throttle = fn => {\n  let lastArgs;\n\n  function queuedFn() {\n    try {\n      fn(...lastArgs);\n    } finally {\n      lastArgs = null;\n    }\n  }\n\n  function throttled(...args) {\n    lastArgs = args;\n    raf.onStart(queuedFn);\n  }\n\n  throttled.handler = fn;\n\n  throttled.cancel = () => {\n    onStartQueue.delete(queuedFn);\n    lastArgs = null;\n  };\n\n  return throttled;\n};\n\nlet nativeRaf = typeof window != 'undefined' ? window.requestAnimationFrame : () => {};\n\nraf.use = impl => nativeRaf = impl;\n\nraf.now = typeof performance != 'undefined' ? () => performance.now() : Date.now;\n\nraf.batchedUpdates = fn => fn();\n\nraf.catch = console.error;\nraf.frameLoop = 'always';\n\nraf.advance = () => {\n  if (raf.frameLoop !== 'demand') {\n    console.warn('Cannot call the manual advancement of rafz whilst frameLoop is not set as demand');\n  } else {\n    update();\n  }\n};\n\nlet ts = -1;\nlet pendingCount = 0;\nlet sync = false;\n\nfunction schedule(fn, queue) {\n  if (sync) {\n    queue.delete(fn);\n    fn(0);\n  } else {\n    queue.add(fn);\n    start();\n  }\n}\n\nfunction start() {\n  if (ts < 0) {\n    ts = 0;\n\n    if (raf.frameLoop !== 'demand') {\n      nativeRaf(loop);\n    }\n  }\n}\n\nfunction stop() {\n  ts = -1;\n}\n\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop);\n    raf.batchedUpdates(update);\n  }\n}\n\nfunction update() {\n  let prevTs = ts;\n  ts = raf.now();\n  let count = findTimeout(ts);\n\n  if (count) {\n    eachSafely(timeouts.splice(0, count), t => t.handler());\n    pendingCount -= count;\n  }\n\n  onStartQueue.flush();\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667);\n  onFrameQueue.flush();\n  writeQueue.flush();\n  onFinishQueue.flush();\n\n  if (!pendingCount) {\n    stop();\n  }\n}\n\nfunction makeQueue() {\n  let next = new Set();\n  let current = next;\n  return {\n    add(fn) {\n      pendingCount += current == next && !next.has(fn) ? 1 : 0;\n      next.add(fn);\n    },\n\n    delete(fn) {\n      pendingCount -= current == next && next.has(fn) ? 1 : 0;\n      return next.delete(fn);\n    },\n\n    flush(arg) {\n      if (current.size) {\n        next = new Set();\n        pendingCount -= current.size;\n        eachSafely(current, fn => fn(arg) && next.add(fn));\n        pendingCount += next.size;\n        current = next;\n      }\n    }\n\n  };\n}\n\nfunction eachSafely(values, each) {\n  values.forEach(value => {\n    try {\n      each(value);\n    } catch (e) {\n      raf.catch(e);\n    }\n  });\n}\n\nconst __raf = {\n  count() {\n    return pendingCount;\n  },\n\n  isRunning() {\n    return ts >= 0;\n  },\n\n  clear() {\n    ts = -1;\n    timeouts = [];\n    onStartQueue = makeQueue();\n    updateQueue = makeQueue();\n    onFrameQueue = makeQueue();\n    writeQueue = makeQueue();\n    onFinishQueue = makeQueue();\n    pendingCount = 0;\n  }\n\n};\n\nexport { __raf, raf };\n","import { raf } from '@react-spring/rafz';\nexport { raf } from '@react-spring/rafz';\nimport * as React from 'react';\nimport { useRef, useState, useEffect } from 'react';\n\nfunction noop() {}\nconst defineHidden = (obj, key, value) => Object.defineProperty(obj, key, {\n  value,\n  writable: true,\n  configurable: true\n});\nconst is = {\n  arr: Array.isArray,\n  obj: a => !!a && a.constructor.name === 'Object',\n  fun: a => typeof a === 'function',\n  str: a => typeof a === 'string',\n  num: a => typeof a === 'number',\n  und: a => a === undefined\n};\nfunction isEqual(a, b) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false;\n\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n\n    return true;\n  }\n\n  return a === b;\n}\nconst each = (obj, fn) => obj.forEach(fn);\nfunction eachProp(obj, fn, ctx) {\n  if (is.arr(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      fn.call(ctx, obj[i], `${i}`);\n    }\n\n    return;\n  }\n\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      fn.call(ctx, obj[key], key);\n    }\n  }\n}\nconst toArray = a => is.und(a) ? [] : is.arr(a) ? a : [a];\nfunction flush(queue, iterator) {\n  if (queue.size) {\n    const items = Array.from(queue);\n    queue.clear();\n    each(items, iterator);\n  }\n}\nconst flushCalls = (queue, ...args) => flush(queue, fn => fn(...args));\nconst isSSR = () => typeof window === 'undefined' || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\n\nlet createStringInterpolator$1;\nlet to;\nlet colors$1 = null;\nlet skipAnimation = false;\nlet willAdvance = noop;\nconst assign = globals => {\n  if (globals.to) to = globals.to;\n  if (globals.now) raf.now = globals.now;\n  if (globals.colors !== undefined) colors$1 = globals.colors;\n  if (globals.skipAnimation != null) skipAnimation = globals.skipAnimation;\n  if (globals.createStringInterpolator) createStringInterpolator$1 = globals.createStringInterpolator;\n  if (globals.requestAnimationFrame) raf.use(globals.requestAnimationFrame);\n  if (globals.batchedUpdates) raf.batchedUpdates = globals.batchedUpdates;\n  if (globals.willAdvance) willAdvance = globals.willAdvance;\n  if (globals.frameLoop) raf.frameLoop = globals.frameLoop;\n};\n\nvar globals = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  get createStringInterpolator () { return createStringInterpolator$1; },\n  get to () { return to; },\n  get colors () { return colors$1; },\n  get skipAnimation () { return skipAnimation; },\n  get willAdvance () { return willAdvance; },\n  assign: assign\n});\n\nconst startQueue = new Set();\nlet currentFrame = [];\nlet prevFrame = [];\nlet priority = 0;\nconst frameLoop = {\n  get idle() {\n    return !startQueue.size && !currentFrame.length;\n  },\n\n  start(animation) {\n    if (priority > animation.priority) {\n      startQueue.add(animation);\n      raf.onStart(flushStartQueue);\n    } else {\n      startSafely(animation);\n      raf(advance);\n    }\n  },\n\n  advance,\n\n  sort(animation) {\n    if (priority) {\n      raf.onFrame(() => frameLoop.sort(animation));\n    } else {\n      const prevIndex = currentFrame.indexOf(animation);\n\n      if (~prevIndex) {\n        currentFrame.splice(prevIndex, 1);\n        startUnsafely(animation);\n      }\n    }\n  },\n\n  clear() {\n    currentFrame = [];\n    startQueue.clear();\n  }\n\n};\n\nfunction flushStartQueue() {\n  startQueue.forEach(startSafely);\n  startQueue.clear();\n  raf(advance);\n}\n\nfunction startSafely(animation) {\n  if (!currentFrame.includes(animation)) startUnsafely(animation);\n}\n\nfunction startUnsafely(animation) {\n  currentFrame.splice(findIndex(currentFrame, other => other.priority > animation.priority), 0, animation);\n}\n\nfunction advance(dt) {\n  const nextFrame = prevFrame;\n\n  for (let i = 0; i < currentFrame.length; i++) {\n    const animation = currentFrame[i];\n    priority = animation.priority;\n\n    if (!animation.idle) {\n      willAdvance(animation);\n      animation.advance(dt);\n\n      if (!animation.idle) {\n        nextFrame.push(animation);\n      }\n    }\n  }\n\n  priority = 0;\n  prevFrame = currentFrame;\n  prevFrame.length = 0;\n  currentFrame = nextFrame;\n  return currentFrame.length > 0;\n}\n\nfunction findIndex(arr, test) {\n  const index = arr.findIndex(test);\n  return index < 0 ? arr.length : index;\n}\n\nconst colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff\n};\n\nconst NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nconst PERCENTAGE = NUMBER + '%';\n\nfunction call(...parts) {\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nconst rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));\nconst rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));\nconst hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));\nconst hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nconst hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex6 = /^#([0-9a-fA-F]{6})$/;\nconst hex8 = /^#([0-9a-fA-F]{8})$/;\n\nfunction normalizeColor(color) {\n  let match;\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;\n  }\n\n  if (match = hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;\n\n  if (colors$1 && colors$1[color] !== undefined) {\n    return colors$1[color];\n  }\n\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | 0x000000ff) >>> 0;\n  }\n\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | parse1(match[4])) >>> 0;\n  }\n\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + 'ff', 16) >>> 0;\n  }\n\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + match[4] + match[4], 16) >>> 0;\n  }\n\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | 0x000000ff) >>> 0;\n  }\n\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | parse1(match[4])) >>> 0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\n\nfunction parse255(str) {\n  const int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\n\nfunction parse360(str) {\n  const int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\n\nfunction parse1(str) {\n  const num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  const int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\nfunction colorToRgba(input) {\n  let int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  let r = (int32Color & 0xff000000) >>> 24;\n  let g = (int32Color & 0x00ff0000) >>> 16;\n  let b = (int32Color & 0x0000ff00) >>> 8;\n  let a = (int32Color & 0x000000ff) / 255;\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\nconst createInterpolator = (range, output, extrapolate) => {\n  if (is.fun(range)) {\n    return range;\n  }\n\n  if (is.arr(range)) {\n    return createInterpolator({\n      range,\n      output: output,\n      extrapolate\n    });\n  }\n\n  if (is.str(range.output[0])) {\n    return createStringInterpolator$1(range);\n  }\n\n  const config = range;\n  const outputRange = config.output;\n  const inputRange = config.range || [0, 1];\n  const extrapolateLeft = config.extrapolateLeft || config.extrapolate || 'extend';\n  const extrapolateRight = config.extrapolateRight || config.extrapolate || 'extend';\n\n  const easing = config.easing || (t => t);\n\n  return input => {\n    const range = findRange(input, inputRange);\n    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n};\n\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  let result = map ? map(input) : input;\n\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;\n  }\n\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax;\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\n\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) if (inputRange[i] >= input) break;\n\n  return i - 1;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nconst $get = Symbol.for('FluidValue.get');\nconst $observers = Symbol.for('FluidValue.observers');\n\nconst hasFluidValue = arg => Boolean(arg && arg[$get]);\n\nconst getFluidValue = arg => arg && arg[$get] ? arg[$get]() : arg;\n\nconst getFluidObservers = target => target[$observers] || null;\n\nfunction callFluidObserver(observer, event) {\n  if (observer.eventObserved) {\n    observer.eventObserved(event);\n  } else {\n    observer(event);\n  }\n}\n\nfunction callFluidObservers(target, event) {\n  let observers = target[$observers];\n\n  if (observers) {\n    observers.forEach(observer => {\n      callFluidObserver(observer, event);\n    });\n  }\n}\n\nclass FluidValue {\n  constructor(get) {\n    this[$get] = void 0;\n    this[$observers] = void 0;\n\n    if (!get && !(get = this.get)) {\n      throw Error('Unknown getter');\n    }\n\n    setFluidGetter(this, get);\n  }\n\n}\n\nconst setFluidGetter = (target, get) => setHidden(target, $get, get);\n\nfunction addFluidObserver(target, observer) {\n  if (target[$get]) {\n    let observers = target[$observers];\n\n    if (!observers) {\n      setHidden(target, $observers, observers = new Set());\n    }\n\n    if (!observers.has(observer)) {\n      observers.add(observer);\n\n      if (target.observerAdded) {\n        target.observerAdded(observers.size, observer);\n      }\n    }\n  }\n\n  return observer;\n}\n\nfunction removeFluidObserver(target, observer) {\n  let observers = target[$observers];\n\n  if (observers && observers.has(observer)) {\n    const count = observers.size - 1;\n\n    if (count) {\n      observers.delete(observer);\n    } else {\n      target[$observers] = null;\n    }\n\n    if (target.observerRemoved) {\n      target.observerRemoved(count, observer);\n    }\n  }\n}\n\nconst setHidden = (target, key, value) => Object.defineProperty(target, key, {\n  value,\n  writable: true,\n  configurable: true\n});\n\nconst numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nconst colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\nconst unitRegex = new RegExp(`(${numberRegex.source})(%|[a-z]+)`, 'i');\nconst rgbaRegex = /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi;\nconst cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\n\nconst variableToRgba = input => {\n  const [token, fallback] = parseCSSVariable(input);\n\n  if (!token || isSSR()) {\n    return input;\n  }\n\n  const value = window.getComputedStyle(document.documentElement).getPropertyValue(token);\n\n  if (value) {\n    return value.trim();\n  } else if (fallback && fallback.startsWith('--')) {\n    const _value = window.getComputedStyle(document.documentElement).getPropertyValue(fallback);\n\n    if (_value) {\n      return _value;\n    } else {\n      return input;\n    }\n  } else if (fallback && cssVariableRegex.test(fallback)) {\n    return variableToRgba(fallback);\n  } else if (fallback) {\n    return fallback;\n  }\n\n  return input;\n};\n\nconst parseCSSVariable = current => {\n  const match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n  const [, token, fallback] = match;\n  return [token, fallback];\n};\n\nlet namedColorRegex;\n\nconst rgbaRound = (_, p1, p2, p3, p4) => `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`;\n\nconst createStringInterpolator = config => {\n  if (!namedColorRegex) namedColorRegex = colors$1 ? new RegExp(`(${Object.keys(colors$1).join('|')})(?!\\\\w)`, 'g') : /^\\b$/;\n  const output = config.output.map(value => {\n    return getFluidValue(value).replace(cssVariableRegex, variableToRgba).replace(colorRegex, colorToRgba).replace(namedColorRegex, colorToRgba);\n  });\n  const keyframes = output.map(value => value.match(numberRegex).map(Number));\n  const outputRanges = keyframes[0].map((_, i) => keyframes.map(values => {\n    if (!(i in values)) {\n      throw Error('The arity of each \"output\" value must be equal');\n    }\n\n    return values[i];\n  }));\n  const interpolators = outputRanges.map(output => createInterpolator(_extends({}, config, {\n    output\n  })));\n  return input => {\n    var _output$find;\n\n    const missingUnit = !unitRegex.test(output[0]) && ((_output$find = output.find(value => unitRegex.test(value))) == null ? void 0 : _output$find.replace(numberRegex, ''));\n    let i = 0;\n    return output[0].replace(numberRegex, () => `${interpolators[i++](input)}${missingUnit || ''}`).replace(rgbaRegex, rgbaRound);\n  };\n};\n\nconst prefix = 'react-spring: ';\n\nconst once = fn => {\n  const func = fn;\n  let called = false;\n\n  if (typeof func != 'function') {\n    throw new TypeError(`${prefix}once requires a function parameter`);\n  }\n\n  return (...args) => {\n    if (!called) {\n      func(...args);\n      called = true;\n    }\n  };\n};\n\nconst warnInterpolate = once(console.warn);\nfunction deprecateInterpolate() {\n  warnInterpolate(`${prefix}The \"interpolate\" function is deprecated in v9 (use \"to\" instead)`);\n}\nconst warnDirectCall = once(console.warn);\nfunction deprecateDirectCall() {\n  warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use \".start\" instead), this will be removed in later 0.X.0 versions`);\n}\n\nfunction isAnimatedString(value) {\n  return is.str(value) && (value[0] == '#' || /\\d/.test(value) || !isSSR() && cssVariableRegex.test(value) || value in (colors$1 || {}));\n}\n\nconst useLayoutEffect = typeof window !== 'undefined' && window.document && window.document.createElement ? React.useLayoutEffect : React.useEffect;\n\nconst useIsMounted = () => {\n  const isMounted = useRef(false);\n  useLayoutEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n};\n\nfunction useForceUpdate() {\n  const update = useState()[1];\n  const isMounted = useIsMounted();\n  return () => {\n    if (isMounted.current) {\n      update(Math.random());\n    }\n  };\n}\n\nfunction useMemoOne(getResult, inputs) {\n  const [initial] = useState(() => ({\n    inputs,\n    result: getResult()\n  }));\n  const committed = useRef();\n  const prevCache = committed.current;\n  let cache = prevCache;\n\n  if (cache) {\n    const useCache = Boolean(inputs && cache.inputs && areInputsEqual(inputs, cache.inputs));\n\n    if (!useCache) {\n      cache = {\n        inputs,\n        result: getResult()\n      };\n    }\n  } else {\n    cache = initial;\n  }\n\n  useEffect(() => {\n    committed.current = cache;\n\n    if (prevCache == initial) {\n      initial.inputs = initial.result = undefined;\n    }\n  }, [cache]);\n  return cache.result;\n}\n\nfunction areInputsEqual(next, prev) {\n  if (next.length !== prev.length) {\n    return false;\n  }\n\n  for (let i = 0; i < next.length; i++) {\n    if (next[i] !== prev[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nconst useOnce = effect => useEffect(effect, emptyDeps);\nconst emptyDeps = [];\n\nfunction usePrev(value) {\n  const prevRef = useRef();\n  useEffect(() => {\n    prevRef.current = value;\n  });\n  return prevRef.current;\n}\n\nexport { FluidValue, globals as Globals, addFluidObserver, callFluidObserver, callFluidObservers, colorToRgba, colors, createInterpolator, createStringInterpolator, defineHidden, deprecateDirectCall, deprecateInterpolate, each, eachProp, flush, flushCalls, frameLoop, getFluidObservers, getFluidValue, hasFluidValue, hex3, hex4, hex6, hex8, hsl, hsla, is, isAnimatedString, isEqual, isSSR, noop, removeFluidObserver, rgb, rgba, setFluidGetter, toArray, useForceUpdate, useLayoutEffect, useMemoOne, useOnce, usePrev };\n","import { Globals } from '@react-spring/core';\nexport * from '@react-spring/core';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport { eachProp, is, toArray, FluidValue, each, getFluidValue, hasFluidValue, addFluidObserver, removeFluidObserver, callFluidObservers, createStringInterpolator, colors } from '@react-spring/shared';\nimport { AnimatedObject, createHost } from '@react-spring/animated';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst _excluded$2 = [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"];\nconst isCustomPropRE = /^--/;\n\nfunction dangerousStyleValue(name, value) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (typeof value === 'number' && value !== 0 && !isCustomPropRE.test(name) && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px';\n  return ('' + value).trim();\n}\n\nconst attributeCache = {};\nfunction applyAnimatedValues(instance, props) {\n  if (!instance.nodeType || !instance.setAttribute) {\n    return false;\n  }\n\n  const isFilterElement = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';\n\n  const _ref = props,\n        {\n    style,\n    children,\n    scrollTop,\n    scrollLeft\n  } = _ref,\n        attributes = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  const values = Object.values(attributes);\n  const names = Object.keys(attributes).map(name => isFilterElement || instance.hasAttribute(name) ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, n => '-' + n.toLowerCase())));\n\n  if (children !== void 0) {\n    instance.textContent = children;\n  }\n\n  for (let name in style) {\n    if (style.hasOwnProperty(name)) {\n      const value = dangerousStyleValue(name, style[name]);\n\n      if (isCustomPropRE.test(name)) {\n        instance.style.setProperty(name, value);\n      } else {\n        instance.style[name] = value;\n      }\n    }\n  }\n\n  names.forEach((name, i) => {\n    instance.setAttribute(name, values[i]);\n  });\n\n  if (scrollTop !== void 0) {\n    instance.scrollTop = scrollTop;\n  }\n\n  if (scrollLeft !== void 0) {\n    instance.scrollLeft = scrollLeft;\n  }\n}\nlet isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nconst prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\nconst prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {\n  prefixes.forEach(prefix => acc[prefixKey(prefix, prop)] = acc[prop]);\n  return acc;\n}, isUnitlessNumber);\n\nconst _excluded$1 = [\"x\", \"y\", \"z\"];\nconst domTransforms = /^(matrix|translate|scale|rotate|skew)/;\nconst pxTransforms = /^(translate)/;\nconst degTransforms = /^(rotate|skew)/;\n\nconst addUnit = (value, unit) => is.num(value) && value !== 0 ? value + unit : value;\n\nconst isValueIdentity = (value, id) => is.arr(value) ? value.every(v => isValueIdentity(v, id)) : is.num(value) ? value === id : parseFloat(value) === id;\n\nclass AnimatedStyle extends AnimatedObject {\n  constructor(_ref) {\n    let {\n      x,\n      y,\n      z\n    } = _ref,\n        style = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n    const inputs = [];\n    const transforms = [];\n\n    if (x || y || z) {\n      inputs.push([x || 0, y || 0, z || 0]);\n      transforms.push(xyz => [`translate3d(${xyz.map(v => addUnit(v, 'px')).join(',')})`, isValueIdentity(xyz, 0)]);\n    }\n\n    eachProp(style, (value, key) => {\n      if (key === 'transform') {\n        inputs.push([value || '']);\n        transforms.push(transform => [transform, transform === '']);\n      } else if (domTransforms.test(key)) {\n        delete style[key];\n        if (is.und(value)) return;\n        const unit = pxTransforms.test(key) ? 'px' : degTransforms.test(key) ? 'deg' : '';\n        inputs.push(toArray(value));\n        transforms.push(key === 'rotate3d' ? ([x, y, z, deg]) => [`rotate3d(${x},${y},${z},${addUnit(deg, unit)})`, isValueIdentity(deg, 0)] : input => [`${key}(${input.map(v => addUnit(v, unit)).join(',')})`, isValueIdentity(input, key.startsWith('scale') ? 1 : 0)]);\n      }\n    });\n\n    if (inputs.length) {\n      style.transform = new FluidTransform(inputs, transforms);\n    }\n\n    super(style);\n  }\n\n}\n\nclass FluidTransform extends FluidValue {\n  constructor(inputs, transforms) {\n    super();\n    this._value = null;\n    this.inputs = inputs;\n    this.transforms = transforms;\n  }\n\n  get() {\n    return this._value || (this._value = this._get());\n  }\n\n  _get() {\n    let transform = '';\n    let identity = true;\n    each(this.inputs, (input, i) => {\n      const arg1 = getFluidValue(input[0]);\n      const [t, id] = this.transforms[i](is.arr(arg1) ? arg1 : input.map(getFluidValue));\n      transform += ' ' + t;\n      identity = identity && id;\n    });\n    return identity ? 'none' : transform;\n  }\n\n  observerAdded(count) {\n    if (count == 1) each(this.inputs, input => each(input, value => hasFluidValue(value) && addFluidObserver(value, this)));\n  }\n\n  observerRemoved(count) {\n    if (count == 0) each(this.inputs, input => each(input, value => hasFluidValue(value) && removeFluidObserver(value, this)));\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._value = null;\n    }\n\n    callFluidObservers(this, event);\n  }\n\n}\n\nconst primitives = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', 'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n\nconst _excluded = [\"scrollTop\", \"scrollLeft\"];\nGlobals.assign({\n  batchedUpdates: unstable_batchedUpdates,\n  createStringInterpolator,\n  colors\n});\nconst host = createHost(primitives, {\n  applyAnimatedValues,\n  createAnimatedStyle: style => new AnimatedStyle(style),\n  getComponentProps: _ref => {\n    let props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n    return props;\n  }\n});\nconst animated = host.animated;\n\nexport { animated as a, animated };\n","'use strict';\n\nconst arrayMoveMutate = (array, from, to) => {\n\tconst startIndex = to < 0 ? array.length + to : to;\n\tconst item = array.splice(from, 1)[0];\n\tarray.splice(startIndex, 0, item);\n};\n\nconst arrayMove = (array, from, to) => {\n\tarray = array.slice();\n\tarrayMoveMutate(array, from, to);\n\treturn array;\n};\n\nmodule.exports = arrayMove;\n// TODO: Remove this for the next major release\nmodule.exports.default = arrayMove;\n\nmodule.exports.mutate = arrayMoveMutate;\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport React from \"react\";\nimport { object, func, oneOfType, node } from \"prop-types\";\n\nvar cleanProps = function cleanProps(props) {\n  var initialState = props.initialState,\n      getInitialState = props.getInitialState,\n      refs = props.refs,\n      getRefs = props.getRefs,\n      didMount = props.didMount,\n      didUpdate = props.didUpdate,\n      willUnmount = props.willUnmount,\n      getSnapshotBeforeUpdate = props.getSnapshotBeforeUpdate,\n      shouldUpdate = props.shouldUpdate,\n      render = props.render,\n      rest = _objectWithoutProperties(props, [\"initialState\", \"getInitialState\", \"refs\", \"getRefs\", \"didMount\", \"didUpdate\", \"willUnmount\", \"getSnapshotBeforeUpdate\", \"shouldUpdate\", \"render\"]);\n\n  return rest;\n};\n\nvar Component = function (_React$Component) {\n  _inherits(Component, _React$Component);\n\n  function Component() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Component);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Component.prototype.getArgs = function getArgs() {\n    var state = this.state,\n        props = this.props,\n        setState = this._setState,\n        forceUpdate = this._forceUpdate,\n        refs = this._refs;\n\n    return {\n      state: state,\n      props: cleanProps(props),\n      refs: refs,\n      setState: setState,\n      forceUpdate: forceUpdate\n    };\n  };\n\n  Component.prototype.componentDidMount = function componentDidMount() {\n    if (this.props.didMount) this.props.didMount(this.getArgs());\n  };\n\n  Component.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.shouldUpdate) return this.props.shouldUpdate({\n      props: this.props,\n      state: this.state,\n      nextProps: cleanProps(nextProps),\n      nextState: nextState\n    });else return true;\n  };\n\n  Component.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.props.willUnmount) this.props.willUnmount({\n      state: this.state,\n      props: cleanProps(this.props),\n      refs: this._refs\n    });\n  };\n\n  Component.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.didUpdate) this.props.didUpdate(Object.assign(this.getArgs(), {\n      prevProps: cleanProps(prevProps),\n      prevState: prevState\n    }), snapshot);\n  };\n\n  Component.prototype.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (this.props.getSnapshotBeforeUpdate) {\n      return this.props.getSnapshotBeforeUpdate(Object.assign(this.getArgs(), {\n        prevProps: cleanProps(prevProps),\n        prevState: prevState\n      }));\n    } else {\n      return null;\n    }\n  };\n\n  Component.prototype.render = function render() {\n    var _props = this.props,\n        children = _props.children,\n        render = _props.render;\n\n    return render ? render(this.getArgs()) : typeof children === \"function\" ? children(this.getArgs()) : children || null;\n  };\n\n  return Component;\n}(React.Component);\n\nComponent.defaultProps = {\n  getInitialState: function getInitialState() {},\n  getRefs: function getRefs() {\n    return {};\n  }\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.state = this.props.initialState || this.props.getInitialState(this.props);\n  this._refs = this.props.refs || this.props.getRefs(this.getArgs());\n\n  this._setState = function () {\n    return _this2.setState.apply(_this2, arguments);\n  };\n\n  this._forceUpdate = function () {\n    return _this2.forceUpdate.apply(_this2, arguments);\n  };\n};\n\nprocess.env.NODE_ENV !== \"production\" ? Component.propTypes = {\n  initialState: object,\n  getInitialState: func,\n  refs: object,\n  getRefs: func,\n  didMount: func,\n  didUpdate: func,\n  willUnmount: func,\n  getSnapshotBeforeUpdate: func,\n  shouldUpdate: func,\n  render: func,\n  children: oneOfType([func, node])\n} : void 0;\n\n\nexport default Component;","import {\n\tcreateElement,\n\tuseEffect,\n\tcreatePortal,\n\tuseState,\n\tFragment\n} from '@wordpress/element'\nimport Component from '@reach/component-component'\n\nlet Portal = ({\n\tchildren,\n\tcontainer = document.body,\n\ttype = 'reach-portal'\n}) => (\n\t<Component\n\t\tgetRefs={() => ({ node: null })}\n\t\tdidMount={({ refs, forceUpdate }) => {\n\t\t\tlet containerNode = container.hasOwnProperty('current')\n\t\t\t\t? container.current\n\t\t\t\t: container\n\t\t\trefs.node = document.createElement(type)\n\t\t\tcontainerNode.appendChild(refs.node)\n\t\t\tforceUpdate()\n\t\t}}\n\t\twillUnmount={({ refs: { node } }) => {\n\t\t\tlet containerNode = container.hasOwnProperty('current')\n\t\t\t\t? container.current\n\t\t\t\t: container\n\t\t\tif (containerNode) {\n\t\t\t\tcontainerNode.removeChild(node)\n\t\t\t}\n\t\t}}\n\t\trender={({ refs: { node } }) => {\n\t\t\treturn node ? createPortal(children, node) : null\n\t\t}}\n\t/>\n)\n\nexport default Portal\n","var checkedPkgs = {};\n\nvar checkStyles = function checkStyles() {};\n\nif (process.env.NODE_ENV !== \"production\") {\n  checkStyles = function checkStyles(pkg) {\n    // only check once per package\n    if (checkedPkgs[pkg]) return;\n    checkedPkgs[pkg] = true;\n\n    if (parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--reach-\" + pkg), 10) !== 1) {\n      console.warn(\"@reach/\" + pkg + \" styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\\n\\n    import \\\"@reach/\" + pkg + \"/styles.css\\\";\\n\\n  Otherwise you'll need to include them some other way:\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"node_modules/@reach/\" + pkg + \"/styles.css\\\" />\\n\\n  For more information visit https://ui.reach.tech/styling.\\n  \");\n    }\n  };\n}\n\nexport { checkStyles };\n\nexport var wrapEvent = function wrapEvent(theirHandler, ourHandler) {\n  return function (event) {\n    theirHandler && theirHandler(event);\n    if (!event.defaultPrevented) {\n      return ourHandler(event);\n    }\n  };\n};\n\nexport var assignRef = function assignRef(ref, value) {\n  if (ref == null) return;\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else {\n    try {\n      ref.current = value;\n    } catch (error) {\n      throw new Error(\"Cannot assign value \\\"\" + value + \"\\\" to ref \\\"\" + ref + \"\\\"\");\n    }\n  }\n};","import Component from '@reach/component-component'\nimport Portal from './portal'\nimport { checkStyles, wrapEvent } from '@reach/utils'\nimport createFocusTrap from 'focus-trap'\nimport {\n\tcreateElement,\n\tuseEffect,\n\tuseState,\n\tFragment,\n} from '@wordpress/element'\n\nlet createAriaHider = (dialogNode) => {\n\tlet originalValues = []\n\tlet rootNodes = []\n\n\tArray.prototype.forEach.call(\n\t\tdocument.querySelectorAll('body > *'),\n\t\t(node) => {\n\t\t\tif (node === dialogNode.parentNode) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet attr = node.getAttribute('aria-hidden')\n\t\t\tlet alreadyHidden = attr !== null && attr !== 'false'\n\t\t\tif (alreadyHidden) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\toriginalValues.push(attr)\n\t\t\trootNodes.push(node)\n\t\t\tnode.setAttribute('aria-hidden', 'true')\n\t\t}\n\t)\n\n\treturn () => {\n\t\trootNodes.forEach((node, index) => {\n\t\t\tlet originalValue = originalValues[index]\n\t\t\tif (originalValue === null) {\n\t\t\t\tnode.removeAttribute('aria-hidden')\n\t\t\t} else {\n\t\t\t\tnode.setAttribute('aria-hidden', originalValue)\n\t\t\t}\n\t\t})\n\t}\n}\n\nlet k = () => {}\n\nlet checkDialogStyles = () => checkStyles('dialog')\n\nlet portalDidMount = (refs, initialFocusRef) => {\n\trefs.disposeAriaHider = createAriaHider(refs.overlayNode)\n\trefs.trap = createFocusTrap(refs.overlayNode, {\n\t\tinitialFocus: initialFocusRef\n\t\t\t? () => initialFocusRef.current\n\t\t\t: undefined,\n\t\tfallbackFocus: refs.contentNode,\n\t\tescapeDeactivates: false,\n\t\tclickOutsideDeactivates: false,\n\t})\n\t// refs.trap.activate()\n}\n\nlet contentWillUnmount = ({ refs }) => {\n\trefs.trap.deactivate()\n\trefs.disposeAriaHider()\n}\n\nlet FocusContext = React.createContext()\n\nlet DialogOverlay = React.forwardRef(\n\t(\n\t\t{\n\t\t\tcontainer,\n\t\t\tisOpen = true,\n\t\t\tonDismiss = k,\n\t\t\tinitialFocusRef,\n\t\t\tonClick,\n\t\t\tonKeyDown,\n\t\t\t...props\n\t\t},\n\t\tforwardRef\n\t) => (\n\t\t<Component didMount={checkDialogStyles}>\n\t\t\t{isOpen ? (\n\t\t\t\t<Portal container={container} data-reach-dialog-wrapper>\n\t\t\t\t\t<Component\n\t\t\t\t\t\trefs={{ overlayNode: null, contentNode: null }}\n\t\t\t\t\t\tdidMount={({ refs }) => {\n\t\t\t\t\t\t\tportalDidMount(refs, initialFocusRef)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\twillUnmount={contentWillUnmount}>\n\t\t\t\t\t\t{({ refs }) => (\n\t\t\t\t\t\t\t<FocusContext.Provider\n\t\t\t\t\t\t\t\tvalue={(node) => (refs.contentNode = node)}>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tdata-reach-dialog-overlay\n\t\t\t\t\t\t\t\t\tonClick={wrapEvent(onClick, (event) => {\n\t\t\t\t\t\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\t\t\t\t\t\tonDismiss()\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tonKeyDown={wrapEvent(onKeyDown, (event) => {\n\t\t\t\t\t\t\t\t\t\tif (event.key === 'Escape') {\n\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\t\t\t\t\t\t\tonDismiss()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tref={(node) => {\n\t\t\t\t\t\t\t\t\t\trefs.overlayNode = node\n\t\t\t\t\t\t\t\t\t\tforwardRef && forwardRef(node)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FocusContext.Provider>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Component>\n\t\t\t\t</Portal>\n\t\t\t) : null}\n\t\t</Component>\n\t)\n)\n\nDialogOverlay.propTypes = {\n\tinitialFocusRef: () => {},\n}\n\nlet stopPropagation = (event) => event.stopPropagation()\n\nlet DialogContent = React.forwardRef(\n\t({ onClick, onKeyDown, ...props }, forwardRef) => (\n\t\t<FocusContext.Consumer>\n\t\t\t{(contentRef) => (\n\t\t\t\t<div\n\t\t\t\t\taria-modal=\"true\"\n\t\t\t\t\tdata-reach-dialog-content\n\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\tonClick={wrapEvent(onClick, stopPropagation)}\n\t\t\t\t\tref={(node) => {\n\t\t\t\t\t\tcontentRef(node)\n\t\t\t\t\t\tforwardRef && forwardRef(node)\n\t\t\t\t\t}}\n\t\t\t\t\t{...props}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</FocusContext.Consumer>\n\t)\n)\n\nlet Dialog = ({ container, isOpen, onDismiss = k, ...props }) => (\n\t<DialogOverlay container={container} isOpen={isOpen} onDismiss={onDismiss}>\n\t\t<DialogContent {...props} />\n\t</DialogOverlay>\n)\n\nexport { DialogOverlay, DialogContent, Dialog }\n","import {\n\tcreateElement,\n\tComponent,\n\tuseEffect,\n\tuseState,\n\tuseContext,\n\tcreateContext,\n\tFragment,\n} from '@wordpress/element'\nimport { Dialog, DialogOverlay, DialogContent } from './reach/dialog'\nimport { Transition } from 'react-spring/renderprops'\nimport { __ } from 'ct-i18n'\nimport classnames from 'classnames'\n\nconst defaultIsVisible = (i) => !!i\n\nconst Overlay = ({\n\titems,\n\tisVisible = defaultIsVisible,\n\trender,\n\tclassName,\n\tinitialFocusRef,\n\tonDismiss,\n\tonCloseButtonClick,\n}) => {\n\treturn (\n\t\t<Transition\n\t\t\titems={items}\n\t\t\tonStart={() =>\n\t\t\t\tdocument.body.classList[isVisible(items) ? 'add' : 'remove'](\n\t\t\t\t\t'ct-dashboard-overlay-open'\n\t\t\t\t)\n\t\t\t}\n\t\t\tconfig={{ duration: 200 }}\n\t\t\tfrom={{ opacity: 0, y: -10 }}\n\t\t\tenter={{ opacity: 1, y: 0 }}\n\t\t\tleave={{ opacity: 0, y: 10 }}>\n\t\t\t{(items) =>\n\t\t\t\tisVisible(items) &&\n\t\t\t\t((props) => (\n\t\t\t\t\t<DialogOverlay\n\t\t\t\t\t\tstyle={{ opacity: props.opacity }}\n\t\t\t\t\t\tcontainer={document.body}\n\t\t\t\t\t\tonDismiss={() => onDismiss()}\n\t\t\t\t\t\tinitialFocusRef={initialFocusRef}>\n\t\t\t\t\t\t<DialogContent\n\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttransform: `translate3d(0px, ${props.y}px, 0px)`,\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"close-button\"\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tonCloseButtonClick\n\t\t\t\t\t\t\t\t\t\t? onCloseButtonClick()\n\t\t\t\t\t\t\t\t\t\t: onDismiss()\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t{render(items, props)}\n\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t</DialogOverlay>\n\t\t\t\t))\n\t\t\t}\n\t\t</Transition>\n\t)\n}\n\nexport default Overlay\n","import { createElement, Component, Fragment } from '@wordpress/element'\nimport classnames from 'classnames'\nexport { maybePromoteScalarValueIntoResponsive } from 'customizer-sync-helpers/dist/promote-into-responsive'\nimport { getOptionFor } from '../../options/GenericOptionType'\n\n/**\n * true\n * false\n * skip\n */\nexport const isOptionEnabledFor = (currentDevice, responsiveDescriptor) =>\n\t({\n\t\tdesktop: true,\n\t\ttablet: true,\n\t\tmobile: true,\n\n\t\t...(typeof responsiveDescriptor === 'boolean'\n\t\t\t? {}\n\t\t\t: responsiveDescriptor || {}),\n\t}[currentDevice])\n\nexport const isOptionResponsiveFor = (option, args = {}) => {\n\tlet { ignoreHidden = false } = args\n\n\tlet OptionComponent = getOptionFor(option)\n\n\tif (OptionComponent.hiddenResponsive) {\n\t\tif (!ignoreHidden) {\n\t\t\treturn true\n\t\t}\n\t}\n\n\treturn !!option.responsive\n}\n\nexport const getValueForDevice = ({ value, option, device }) => {\n\tconst devices = ['desktop', 'tablet', 'mobile']\n\n\tif (\n\t\tdevice === 'tablet' &&\n\t\tisOptionEnabledFor(device, option.responsive) === 'skip'\n\t) {\n\t\treturn value.mobile\n\t}\n\n\treturn value[device]\n}\n\nconst ResponsiveControls = ({ device, setDevice, responsiveDescriptor }) => (\n\t<div className=\"ct-control-options\">\n\t\t<ul className=\"ct-responsive-controls ct-devices\">\n\t\t\t{['desktop', 'tablet', 'mobile']\n\t\t\t\t.filter(\n\t\t\t\t\t(d) =>\n\t\t\t\t\t\tisOptionEnabledFor(d, responsiveDescriptor) !== 'skip'\n\t\t\t\t)\n\t\t\t\t.map((d) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tonClick={() => setDevice(d)}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tactive: d === device,\n\t\t\t\t\t\t\t\t'ct-disabled': !isOptionEnabledFor(\n\t\t\t\t\t\t\t\t\td,\n\t\t\t\t\t\t\t\t\tresponsiveDescriptor\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t`ct-${d}`\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tkey={d}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t</ul>\n\t</div>\n)\n\nexport default ResponsiveControls\n","import {\n\tuseState,\n\tuseEffect,\n\tuseCallback,\n\tcreateContext,\n\tcreateElement,\n\tuseContext,\n} from '@wordpress/element'\n\nexport const DeviceManagerStateContext = createContext()\nexport const DeviceManagerActionsContext = createContext()\n\nexport const useDeviceManagerState = () => {\n\tconst context = useContext(DeviceManagerStateContext)\n\n\treturn context || { currentView: 'desktop' }\n}\n\nexport const useDeviceManagerActions = () => {\n\tconst context = useContext(DeviceManagerActionsContext)\n\treturn context || {}\n}\n\nexport const useDeviceManager = (args = {}) => {\n\tconst { withTablet = true } = args\n\n\tconst [currentView, setCurrentView] = useState(\n\t\twp.customize && wp.customize.previewedDevice\n\t\t\t? wp.customize.previewedDevice()\n\t\t\t: 'desktop'\n\t)\n\n\tconst listener = () => {\n\t\tsetCurrentView(\n\t\t\twp.customize && wp.customize.previewedDevice\n\t\t\t\t? wp.customize.previewedDevice()\n\t\t\t\t: 'desktop'\n\t\t)\n\t}\n\n\tuseEffect(() => {\n\t\tif (!wp.customize) return\n\t\tsetTimeout(() => wp.customize.previewedDevice.bind(listener), 1000)\n\n\t\treturn () => {\n\t\t\tif (!wp.customize) return\n\t\t\twp.customize.previewedDevice.unbind(listener)\n\t\t}\n\t}, [])\n\n\treturn [\n\t\twithTablet\n\t\t\t? currentView\n\t\t\t: currentView === 'tablet'\n\t\t\t? 'mobile'\n\t\t\t: currentView,\n\t\t(device) => {\n\t\t\tsetCurrentView(device)\n\t\t\twp.customize && wp.customize.previewedDevice.set(device)\n\t\t},\n\t]\n}\n\nexport const DeviceManagerProvider = ({ children }) => {\n\tconst [currentView, setDevice] = useDeviceManager()\n\n\treturn (\n\t\t<DeviceManagerStateContext.Provider value={{ currentView }}>\n\t\t\t<DeviceManagerActionsContext.Provider value={{ setDevice }}>\n\t\t\t\t{children}\n\t\t\t</DeviceManagerActionsContext.Provider>\n\t\t</DeviceManagerStateContext.Provider>\n\t)\n}\n","import { createElement, Component } from '@wordpress/element'\nimport SortableJS, { Sortable as SortableChanged } from './sortablejs'\n\nconst store = {\n\tnextSibling: null,\n\tactiveComponent: null,\n}\n\nclass Sortable extends Component {\n\tstatic defaultProps = {\n\t\toptions: {},\n\t\ttag: 'div',\n\t\tstyle: {},\n\t}\n\n\tsortable = null\n\n\tcomponentDidMount() {\n\t\tconst options = { ...this.props.options }\n\n\t\t;[\n\t\t\t'onChoose',\n\t\t\t'onStart',\n\t\t\t'onEnd',\n\t\t\t'onAdd',\n\t\t\t'onUpdate',\n\t\t\t'onSort',\n\t\t\t'onRemove',\n\t\t\t'onFilter',\n\t\t\t'onMove',\n\t\t\t'onClone',\n\t\t].forEach((name) => {\n\t\t\tconst eventHandler = options[name]\n\n\t\t\toptions[name] = (...params) => {\n\t\t\t\tconst [evt] = params\n\n\t\t\t\tif (name === 'onChoose') {\n\t\t\t\t\tstore.nextSibling = evt.item.nextElementSibling\n\t\t\t\t\tstore.activeComponent = this\n\t\t\t\t} else if (\n\t\t\t\t\t(name === 'onAdd' || name === 'onUpdate') &&\n\t\t\t\t\tthis.props.onChange\n\t\t\t\t) {\n\t\t\t\t\tconst items = this.sortable.toArray()\n\t\t\t\t\tconst remote = store.activeComponent\n\t\t\t\t\tconst remoteItems = remote.sortable.toArray()\n\n\t\t\t\t\tconst referenceNode =\n\t\t\t\t\t\tstore.nextSibling &&\n\t\t\t\t\t\tstore.nextSibling.parentNode !== null\n\t\t\t\t\t\t\t? store.nextSibling\n\t\t\t\t\t\t\t: null\n\n\t\t\t\t\tevt.from.insertBefore(evt.item, referenceNode)\n\t\t\t\t\tif (remote !== this) {\n\t\t\t\t\t\tconst remoteOptions = remote.props.options || {}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof remoteOptions.group === 'object' &&\n\t\t\t\t\t\t\tremoteOptions.group.pull === 'clone'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// Remove the node with the same data-reactid\n\t\t\t\t\t\t\t// evt.item.parentNode.removeChild(evt.item)\n\t\t\t\t\t\t\t;[...evt.item.parentNode.children]\n\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t(el) =>\n\t\t\t\t\t\t\t\t\t\tel.dataset.id === evt.item.dataset.id &&\n\t\t\t\t\t\t\t\t\t\tel !== evt.item\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.map((el) => el.remove())\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tremote.props.onChange &&\n\t\t\t\t\t\t\tremote.props.onChange(\n\t\t\t\t\t\t\t\tremoteItems,\n\t\t\t\t\t\t\t\tremote.sortable,\n\t\t\t\t\t\t\t\tevt\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.props.onChange &&\n\t\t\t\t\t\tthis.props.onChange(items, this.sortable, evt)\n\t\t\t\t}\n\n\t\t\t\tif (evt.type === 'move') {\n\t\t\t\t\tconst [evt, originalEvent] = params\n\t\t\t\t\tconst canMove = eventHandler\n\t\t\t\t\t\t? eventHandler(evt, originalEvent)\n\t\t\t\t\t\t: true\n\t\t\t\t\treturn canMove\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\teventHandler && eventHandler(evt)\n\t\t\t\t}, 0)\n\t\t\t}\n\t\t})\n\n\t\tthis.sortable = SortableJS.create(this.node, options)\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this.sortable) {\n\t\t\tthis.sortable.destroy()\n\t\t\tthis.sortable = null\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { tag: Component, options, onChange, ...props } = this.props\n\n\t\treturn <Component {...props} ref={(node) => (this.node = node)} />\n\t}\n}\n\nexport default Sortable\n","export const customItemsSeparator = () => '~'\nexport const getOriginalId = (id) => id.split('~')[0]\n\nexport const shortenItemId = (id) => {\n\tlet components = id.split(customItemsSeparator())\n\n\tif (components.length === 1) {\n\t\treturn components[0]\n\t}\n\n\treturn components[1].substring(0, 6)\n}\n","/**!\n * Sortable 1.11.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\n(function (global, factory) {\n  typeof exports === \"object\" && typeof module !== \"undefined\"\n    ? (module.exports = factory())\n    : typeof define === \"function\" && define.amd\n    ? define(factory)\n    : ((global =\n        typeof globalThis !== \"undefined\" ? globalThis : global || self),\n      (global.Sortable = factory()));\n})(this, function () {\n  \"use strict\";\n  const __warn =\n    \"\" +\n    \"Importing Sortable directly from GitHub is deprecated.\\n\" +\n    \"This file will not receive any more updates.\\n\" +\n    \"Please follow the usage instructions to continue getting support: https://github.com/SortableJS/Sortable\";\n\n  // console.warn(__warn);\n\n  var version = \"1.11.0\";\n\n  function userAgent(pattern) {\n    if (typeof window !== \"undefined\" && window.navigator) {\n      return !!(/*@__PURE__*/ navigator.userAgent.match(pattern));\n    }\n  }\n\n  const IE11OrLess = userAgent(\n    /(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i\n  );\n  const Edge = userAgent(/Edge/i);\n  const FireFox = userAgent(/firefox/i);\n  const Safari =\n    userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\n  const IOS = userAgent(/iP(ad|od|hone)/i);\n  const ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\n  const captureMode = {\n    capture: false,\n    passive: false,\n  };\n\n  function on(el, event, fn) {\n    el.addEventListener(event, fn, !IE11OrLess && captureMode);\n  }\n\n  function off(el, event, fn) {\n    el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n  }\n\n  function matches(/**HTMLElement*/ el, /**String*/ selector) {\n    if (!selector) return;\n\n    selector[0] === \">\" && (selector = selector.substring(1));\n\n    if (el) {\n      try {\n        if (el.matches) {\n          return el.matches(selector);\n        } else if (el.msMatchesSelector) {\n          return el.msMatchesSelector(selector);\n        } else if (el.webkitMatchesSelector) {\n          return el.webkitMatchesSelector(selector);\n        }\n      } catch (_) {\n        return false;\n      }\n    }\n\n    return false;\n  }\n\n  function getParentOrHost(el) {\n    return el.host && el !== document && el.host.nodeType\n      ? el.host\n      : el.parentNode;\n  }\n\n  function closest(\n    /**HTMLElement*/ el,\n    /**String*/ selector,\n    /**HTMLElement*/ ctx,\n    includeCTX\n  ) {\n    if (el) {\n      ctx = ctx || document;\n\n      do {\n        if (\n          (selector != null &&\n            (selector[0] === \">\"\n              ? el.parentNode === ctx && matches(el, selector)\n              : matches(el, selector))) ||\n          (includeCTX && el === ctx)\n        ) {\n          return el;\n        }\n\n        if (el === ctx) break;\n        /* jshint boss:true */\n      } while ((el = getParentOrHost(el)));\n    }\n\n    return null;\n  }\n\n  const R_SPACE = /\\s+/g;\n\n  function toggleClass(el, name, state) {\n    if (el && name) {\n      if (el.classList) {\n        el.classList[state ? \"add\" : \"remove\"](name);\n      } else {\n        let className = (\" \" + el.className + \" \")\n          .replace(R_SPACE, \" \")\n          .replace(\" \" + name + \" \", \" \");\n        el.className = (className + (state ? \" \" + name : \"\")).replace(\n          R_SPACE,\n          \" \"\n        );\n      }\n    }\n  }\n\n  function css(el, prop, val) {\n    let style = el && el.style;\n\n    if (style) {\n      if (val === void 0) {\n        if (document.defaultView && document.defaultView.getComputedStyle) {\n          val = document.defaultView.getComputedStyle(el, \"\");\n        } else if (el.currentStyle) {\n          val = el.currentStyle;\n        }\n\n        return prop === void 0 ? val : val[prop];\n      } else {\n        if (!(prop in style) && prop.indexOf(\"webkit\") === -1) {\n          prop = \"-webkit-\" + prop;\n        }\n\n        style[prop] = val + (typeof val === \"string\" ? \"\" : \"px\");\n      }\n    }\n  }\n\n  function matrix(el, selfOnly) {\n    let appliedTransforms = \"\";\n    if (typeof el === \"string\") {\n      appliedTransforms = el;\n    } else {\n      do {\n        //@ts-ignore\n        let transform = css(el, \"transform\");\n\n        if (transform && transform !== \"none\") {\n          appliedTransforms = transform + \" \" + appliedTransforms;\n        }\n        /* jshint boss:true */\n      } while (!selfOnly && (el = el.parentNode));\n    }\n\n    //@ts-ignore\n    const matrixFn =\n      window.DOMMatrix ||\n      window.WebKitCSSMatrix ||\n      window.CSSMatrix ||\n      window.MSCSSMatrix;\n    /*jshint -W056 */\n    return matrixFn && new matrixFn(appliedTransforms);\n  }\n\n  function find(ctx, tagName, iterator) {\n    if (ctx) {\n      let list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n      if (iterator) {\n        for (; i < n; i++) {\n          iterator(list[i], i);\n        }\n      }\n\n      return list;\n    }\n\n    return [];\n  }\n\n  function getWindowScrollingElement() {\n    let scrollingElement = document.scrollingElement;\n\n    if (scrollingElement) {\n      return scrollingElement;\n    } else {\n      return document.documentElement;\n    }\n  }\n\n  /**\n   * Returns the \"bounding client rect\" of given element\n   * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n   * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n   * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n   * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n   * @param  {[HTMLElement]} container              The parent the element will be placed in\n   * @return {Object}                               The boundingClientRect of el, with specified adjustments\n   */\n  function getRect(\n    el,\n    relativeToContainingBlock,\n    relativeToNonStaticParent,\n    undoScale,\n    container\n  ) {\n    if (!el.getBoundingClientRect && el !== window) return;\n\n    let elRect, top, left, bottom, right, height, width;\n\n    if (el !== window && el !== getWindowScrollingElement()) {\n      elRect = el.getBoundingClientRect();\n      top = elRect.top;\n      left = elRect.left;\n      bottom = elRect.bottom;\n      right = elRect.right;\n      height = elRect.height;\n      width = elRect.width;\n    } else {\n      top = 0;\n      left = 0;\n      bottom = window.innerHeight;\n      right = window.innerWidth;\n      height = window.innerHeight;\n      width = window.innerWidth;\n    }\n\n    if (\n      (relativeToContainingBlock || relativeToNonStaticParent) &&\n      el !== window\n    ) {\n      // Adjust for translate()\n      container = container || el.parentNode;\n\n      // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n      // Not needed on <= IE11\n      if (!IE11OrLess) {\n        do {\n          if (\n            container &&\n            container.getBoundingClientRect &&\n            //@ts-ignore\n            (css(container, \"transform\") !== \"none\" ||\n              (relativeToNonStaticParent &&\n                //@ts-ignore\n                css(container, \"position\") !== \"static\"))\n          ) {\n            let containerRect = container.getBoundingClientRect();\n\n            // Set relative to edges of padding box of container\n            //@ts-ignore\n            top -=\n              containerRect.top + parseInt(css(container, \"border-top-width\"));\n            //@ts-ignore\n            left -=\n              containerRect.left +\n              parseInt(css(container, \"border-left-width\"));\n            bottom = top + elRect.height;\n            right = left + elRect.width;\n\n            break;\n          }\n          /* jshint boss:true */\n        } while ((container = container.parentNode));\n      }\n    }\n\n    if (undoScale && el !== window) {\n      // Adjust for scale()\n      //@ts-ignore\n      let elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n      if (elMatrix) {\n        top /= scaleY;\n        left /= scaleX;\n\n        width /= scaleX;\n        height /= scaleY;\n\n        bottom = top + height;\n        right = left + width;\n      }\n    }\n\n    return {\n      top: top,\n      left: left,\n      bottom: bottom,\n      right: right,\n      width: width,\n      height: height,\n    };\n  }\n\n  /**\n   * Checks if a side of an element is scrolled past a side of its parents\n   * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n   * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n   * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n   * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n   */\n  function isScrolledPast(el, elSide, parentSide) {\n    let parent = getParentAutoScrollElement(el, true),\n      //@ts-ignore\n      elSideVal = getRect(el)[elSide];\n\n    /* jshint boss:true */\n    while (parent) {\n      //@ts-ignore\n      let parentSideVal = getRect(parent)[parentSide],\n        visible;\n\n      if (parentSide === \"top\" || parentSide === \"left\") {\n        visible = elSideVal >= parentSideVal;\n      } else {\n        visible = elSideVal <= parentSideVal;\n      }\n\n      if (!visible) return parent;\n\n      if (parent === getWindowScrollingElement()) break;\n\n      parent = getParentAutoScrollElement(parent, false);\n    }\n\n    return false;\n  }\n\n  /**\n   * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n   * and non-draggable elements\n   * @param  {HTMLElement} el       The parent element\n   * @param  {Number} childNum      The index of the child\n   * @param  {Object} options       Parent Sortable's options\n   * @return {HTMLElement}          The child at index childNum, or null if not found\n   */\n  function getChild(el, childNum, options) {\n    let currentChild = 0,\n      i = 0,\n      children = el.children;\n\n    while (i < children.length) {\n      if (\n        children[i].style.display !== \"none\" &&\n        //@ts-ignore\n        children[i] !== Sortable.ghost &&\n        //@ts-ignore\n        children[i] !== Sortable.dragged &&\n        closest(children[i], options.draggable, el, false)\n      ) {\n        if (currentChild === childNum) {\n          return children[i];\n        }\n        currentChild++;\n      }\n\n      i++;\n    }\n    return null;\n  }\n\n  /**\n   * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n   * @param  {HTMLElement} el       Parent element\n   * @param  {selector} selector    Any other elements that should be ignored\n   * @return {HTMLElement}          The last child, ignoring ghostEl\n   */\n  function lastChild(el, selector) {\n    let last = el.lastElementChild;\n\n    while (\n      last &&\n      //@ts-ignore\n      (last === Sortable.ghost ||\n        //@ts-ignore\n        css(last, \"display\") === \"none\" ||\n        (selector && !matches(last, selector)))\n    ) {\n      last = last.previousElementSibling;\n    }\n\n    return last || null;\n  }\n\n  /**\n   * Returns the index of an element within its parent for a selected set of\n   * elements\n   * @param  {HTMLElement} el\n   * @param  {selector} selector\n   * @return {number}\n   */\n  function index(el, selector) {\n    let index = 0;\n\n    if (!el || !el.parentNode) {\n      return -1;\n    }\n\n    /* jshint boss:true */\n    while ((el = el.previousElementSibling)) {\n      //@ts-ignore\n      if (\n        el.nodeName.toUpperCase() !== \"TEMPLATE\" &&\n        !el.matches('.ct-pointer') &&\n        el !== Sortable.clone &&\n        (!selector || matches(el, selector))\n      ) {\n        index++;\n      }\n    }\n\n    return index;\n  }\n\n  /**\n   * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n   * The value is returned in real pixels.\n   * @param  {HTMLElement} el\n   * @return {Array}             Offsets in the format of [left, top]\n   */\n  function getRelativeScrollOffset(el) {\n    let offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n    if (el) {\n      do {\n        //@ts-ignore\n        let elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n\n        offsetLeft += el.scrollLeft * scaleX;\n        offsetTop += el.scrollTop * scaleY;\n      } while (el !== winScroller && (el = el.parentNode));\n    }\n\n    return [offsetLeft, offsetTop];\n  }\n\n  /**\n   * Returns the index of the object within the given array\n   * @param  {Array} arr   Array that may or may not hold the object\n   * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n   * @return {Number}      The index of the object in the array, or -1\n   */\n  function indexOfObject(arr, obj) {\n    for (let i in arr) {\n      if (!arr.hasOwnProperty(i)) continue;\n      for (let key in obj) {\n        if (obj.hasOwnProperty(key) && obj[key] === arr[i][key])\n          return Number(i);\n      }\n    }\n    return -1;\n  }\n\n  function getParentAutoScrollElement(el, includeSelf) {\n    // skip to window\n    if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n\n    let elem = el;\n    let gotSelf = false;\n    do {\n      // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n      if (\n        elem.clientWidth < elem.scrollWidth ||\n        elem.clientHeight < elem.scrollHeight\n      ) {\n        //@ts-ignore\n        let elemCSS = css(elem);\n        if (\n          (elem.clientWidth < elem.scrollWidth &&\n            (elemCSS.overflowX == \"auto\" || elemCSS.overflowX == \"scroll\")) ||\n          (elem.clientHeight < elem.scrollHeight &&\n            (elemCSS.overflowY == \"auto\" || elemCSS.overflowY == \"scroll\"))\n        ) {\n          if (!elem.getBoundingClientRect || elem === document.body)\n            return getWindowScrollingElement();\n\n          if (gotSelf || includeSelf) return elem;\n          gotSelf = true;\n        }\n      }\n      /* jshint boss:true */\n    } while ((elem = elem.parentNode));\n\n    return getWindowScrollingElement();\n  }\n\n  function extend(dst, src) {\n    if (dst && src) {\n      for (let key in src) {\n        if (src.hasOwnProperty(key)) {\n          dst[key] = src[key];\n        }\n      }\n    }\n\n    return dst;\n  }\n\n  function isRectEqual(rect1, rect2) {\n    return (\n      Math.round(rect1.top) === Math.round(rect2.top) &&\n      Math.round(rect1.left) === Math.round(rect2.left) &&\n      Math.round(rect1.height) === Math.round(rect2.height) &&\n      Math.round(rect1.width) === Math.round(rect2.width)\n    );\n  }\n\n  let _throttleTimeout;\n  function throttle(callback, ms) {\n    return function () {\n      if (!_throttleTimeout) {\n        let args = arguments,\n          _this = this;\n\n        if (args.length === 1) {\n          callback.call(_this, args[0]);\n        } else {\n          callback.apply(_this, args);\n        }\n\n        _throttleTimeout = setTimeout(function () {\n          _throttleTimeout = void 0;\n        }, ms);\n      }\n    };\n  }\n\n  function cancelThrottle() {\n    clearTimeout(_throttleTimeout);\n    _throttleTimeout = void 0;\n  }\n\n  function scrollBy(el, x, y) {\n    el.scrollLeft += x;\n    el.scrollTop += y;\n  }\n\n  function clone(el) {\n    //@ts-ignore\n    let Polymer = window.Polymer;\n    //@ts-ignore\n    let $ = window.jQuery || window.Zepto;\n\n    if (Polymer && Polymer.dom) {\n      return Polymer.dom(el).cloneNode(true);\n    } else if ($) {\n      return $(el).clone(true)[0];\n    } else {\n      return el.cloneNode(true);\n    }\n  }\n\n  function setRect(el, rect) {\n    css(el, \"position\", \"absolute\");\n    css(el, \"top\", rect.top);\n    css(el, \"left\", rect.left);\n    css(el, \"width\", rect.width);\n    css(el, \"height\", rect.height);\n  }\n\n  function unsetRect(el) {\n    css(el, \"position\", \"\");\n    css(el, \"top\", \"\");\n    css(el, \"left\", \"\");\n    css(el, \"width\", \"\");\n    css(el, \"height\", \"\");\n  }\n\n  const expando = \"Sortable\" + new Date().getTime();\n\n  function AnimationStateManager() {\n    let animationStates = [],\n      animationCallbackId;\n\n    return {\n      captureAnimationState() {\n        animationStates = [];\n        if (!this.options.animation) return;\n        let children = [].slice.call(this.el.children);\n\n        children.forEach((child) => {\n          if (css(child, \"display\") === \"none\" || child === Sortable.ghost)\n            return;\n          animationStates.push({\n            target: child,\n            rect: getRect(child),\n          });\n          let fromRect = {\n            ...animationStates[animationStates.length - 1].rect,\n          };\n\n          // If animating: compensate for current animation\n          if (child.thisAnimationDuration) {\n            let childMatrix = matrix(child, true);\n            if (childMatrix) {\n              fromRect.top -= childMatrix.f;\n              fromRect.left -= childMatrix.e;\n            }\n          }\n\n          child.fromRect = fromRect;\n        });\n      },\n\n      addAnimationState(state) {\n        animationStates.push(state);\n      },\n\n      removeAnimationState(target) {\n        animationStates.splice(indexOfObject(animationStates, { target }), 1);\n      },\n\n      animateAll(callback) {\n        if (!this.options.animation) {\n          clearTimeout(animationCallbackId);\n          if (typeof callback === \"function\") callback();\n          return;\n        }\n\n        let animating = false,\n          animationTime = 0;\n\n        animationStates.forEach((state) => {\n          let time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n          if (targetMatrix) {\n            // Compensate for current animation\n            toRect.top -= targetMatrix.f;\n            toRect.left -= targetMatrix.e;\n          }\n\n          target.toRect = toRect;\n\n          if (target.thisAnimationDuration) {\n            // Could also check if animatingRect is between fromRect and toRect\n            if (\n              isRectEqual(prevFromRect, toRect) &&\n              !isRectEqual(fromRect, toRect) &&\n              // Make sure animatingRect is on line between toRect & fromRect\n              (animatingRect.top - toRect.top) /\n                (animatingRect.left - toRect.left) ===\n                (fromRect.top - toRect.top) / (fromRect.left - toRect.left)\n            ) {\n              // If returning to same place as started from animation and on same axis\n              time = calculateRealTime(\n                animatingRect,\n                prevFromRect,\n                prevToRect,\n                this.options\n              );\n            }\n          }\n\n          // if fromRect != toRect: animate\n          if (!isRectEqual(toRect, fromRect)) {\n            target.prevFromRect = fromRect;\n            target.prevToRect = toRect;\n\n            if (!time) {\n              time = this.options.animation;\n            }\n            this.animate(target, animatingRect, toRect, time);\n          }\n\n          if (time) {\n            animating = true;\n            animationTime = Math.max(animationTime, time);\n            clearTimeout(target.animationResetTimer);\n            target.animationResetTimer = setTimeout(function () {\n              target.animationTime = 0;\n              target.prevFromRect = null;\n              target.fromRect = null;\n              target.prevToRect = null;\n              target.thisAnimationDuration = null;\n            }, time);\n            target.thisAnimationDuration = time;\n          }\n        });\n\n        clearTimeout(animationCallbackId);\n        if (!animating) {\n          if (typeof callback === \"function\") callback();\n        } else {\n          animationCallbackId = setTimeout(function () {\n            if (typeof callback === \"function\") callback();\n          }, animationTime);\n        }\n        animationStates = [];\n      },\n\n      animate(target, currentRect, toRect, duration) {\n        if (duration) {\n          css(target, \"transition\", \"\");\n          css(target, \"transform\", \"\");\n          let elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n\n          target.animatingX = !!translateX;\n          target.animatingY = !!translateY;\n\n          css(\n            target,\n            \"transform\",\n            \"translate3d(\" + translateX + \"px,\" + translateY + \"px,0)\"\n          );\n\n          this.forRepaintDummy = repaint(target); // repaint\n\n          css(\n            target,\n            \"transition\",\n            \"transform \" +\n              duration +\n              \"ms\" +\n              (this.options.easing ? \" \" + this.options.easing : \"\")\n          );\n          css(target, \"transform\", \"translate3d(0,0,0)\");\n          typeof target.animated === \"number\" && clearTimeout(target.animated);\n          target.animated = setTimeout(function () {\n            css(target, \"transition\", \"\");\n            css(target, \"transform\", \"\");\n            target.animated = false;\n\n            target.animatingX = false;\n            target.animatingY = false;\n          }, duration);\n        }\n      },\n    };\n  }\n\n  function repaint(target) {\n    return target.offsetWidth;\n  }\n\n  function calculateRealTime(animatingRect, fromRect, toRect, options) {\n    return (\n      (Math.sqrt(\n        Math.pow(fromRect.top - animatingRect.top, 2) +\n          Math.pow(fromRect.left - animatingRect.left, 2)\n      ) /\n        Math.sqrt(\n          Math.pow(fromRect.top - toRect.top, 2) +\n            Math.pow(fromRect.left - toRect.left, 2)\n        )) *\n      options.animation\n    );\n  }\n\n  let plugins = [];\n\n  const defaults = {\n    initializeByDefault: true,\n  };\n\n  var PluginManager = {\n    mount(plugin) {\n      // Set default static properties\n      for (let option in defaults) {\n        if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n          plugin[option] = defaults[option];\n        }\n      }\n      plugins.push(plugin);\n    },\n    pluginEvent(eventName, sortable, evt) {\n      this.eventCanceled = false;\n      evt.cancel = () => {\n        this.eventCanceled = true;\n      };\n      const eventNameGlobal = eventName + \"Global\";\n      plugins.forEach((plugin) => {\n        if (!sortable[plugin.pluginName]) return;\n        // Fire global events if it exists in this sortable\n        if (sortable[plugin.pluginName][eventNameGlobal]) {\n          sortable[plugin.pluginName][eventNameGlobal]({ sortable, ...evt });\n        }\n\n        // Only fire plugin event if plugin is enabled in this sortable,\n        // and plugin has event defined\n        if (\n          sortable.options[plugin.pluginName] &&\n          sortable[plugin.pluginName][eventName]\n        ) {\n          sortable[plugin.pluginName][eventName]({ sortable, ...evt });\n        }\n      });\n    },\n    initializePlugins(sortable, el, defaults, options) {\n      plugins.forEach((plugin) => {\n        const pluginName = plugin.pluginName;\n        if (!sortable.options[pluginName] && !plugin.initializeByDefault)\n          return;\n\n        let initialized = new plugin(sortable, el, sortable.options);\n        initialized.sortable = sortable;\n        initialized.options = sortable.options;\n        sortable[pluginName] = initialized;\n\n        // Add default options from plugin\n        Object.assign(defaults, initialized.defaults);\n      });\n\n      for (let option in sortable.options) {\n        if (!sortable.options.hasOwnProperty(option)) continue;\n        let modified = this.modifyOption(\n          sortable,\n          option,\n          sortable.options[option]\n        );\n        if (typeof modified !== \"undefined\") {\n          sortable.options[option] = modified;\n        }\n      }\n    },\n    getEventProperties(name, sortable) {\n      let eventProperties = {};\n      plugins.forEach((plugin) => {\n        if (typeof plugin.eventProperties !== \"function\") return;\n        Object.assign(\n          eventProperties,\n          plugin.eventProperties.call(sortable[plugin.pluginName], name)\n        );\n      });\n\n      return eventProperties;\n    },\n    modifyOption(sortable, name, value) {\n      let modifiedValue;\n      plugins.forEach((plugin) => {\n        // Plugin must exist on the Sortable\n        if (!sortable[plugin.pluginName]) return;\n\n        // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n        if (\n          plugin.optionListeners &&\n          typeof plugin.optionListeners[name] === \"function\"\n        ) {\n          modifiedValue = plugin.optionListeners[name].call(\n            sortable[plugin.pluginName],\n            value\n          );\n        }\n      });\n\n      return modifiedValue;\n    },\n  };\n\n  function dispatchEvent({\n    sortable,\n    rootEl,\n    name,\n    targetEl,\n    cloneEl,\n    toEl,\n    fromEl,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    originalEvent,\n    putSortable,\n    extraEventProperties,\n  }) {\n    sortable = sortable || (rootEl && rootEl[expando]);\n    if (!sortable) return;\n\n    let evt,\n      options = sortable.options,\n      onName = \"on\" + name.charAt(0).toUpperCase() + name.substr(1);\n    // Support for new CustomEvent feature\n    if (window.CustomEvent && !IE11OrLess && !Edge) {\n      evt = new CustomEvent(name, {\n        bubbles: true,\n        cancelable: true,\n      });\n    } else {\n      evt = document.createEvent(\"Event\");\n      evt.initEvent(name, true, true);\n    }\n\n    evt.to = toEl || rootEl;\n    evt.from = fromEl || rootEl;\n    evt.item = targetEl || rootEl;\n    evt.clone = cloneEl;\n\n    evt.oldIndex = oldIndex;\n    evt.newIndex = newIndex;\n\n    evt.oldDraggableIndex = oldDraggableIndex;\n    evt.newDraggableIndex = newDraggableIndex;\n\n    evt.originalEvent = originalEvent;\n    evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n    let allEventProperties = {\n      ...extraEventProperties,\n      ...PluginManager.getEventProperties(name, sortable),\n    };\n    for (let option in allEventProperties) {\n      evt[option] = allEventProperties[option];\n    }\n\n    if (rootEl) {\n      rootEl.dispatchEvent(evt);\n    }\n\n    if (options[onName]) {\n      options[onName].call(sortable, evt);\n    }\n  }\n\n  /**!\n   * Sortable\n   * @author\tRubaXa   <trash@rubaxa.org>\n   * @author\towenm    <owen23355@gmail.com>\n   * @license MIT\n   */\n\n  let pluginEvent = function (\n    eventName,\n    sortable,\n    { evt: originalEvent, ...data } = {}\n  ) {\n    PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, {\n      dragEl,\n      parentEl,\n      ghostEl,\n      rootEl,\n      nextEl,\n      lastDownEl,\n      cloneEl,\n      cloneHidden,\n      dragStarted: moved,\n      putSortable,\n      activeSortable: Sortable.active,\n      originalEvent,\n\n      oldIndex,\n      oldDraggableIndex,\n      newIndex,\n      newDraggableIndex,\n\n      hideGhostForTarget: _hideGhostForTarget,\n      unhideGhostForTarget: _unhideGhostForTarget,\n\n      cloneNowHidden() {\n        cloneHidden = true;\n      },\n      cloneNowShown() {\n        cloneHidden = false;\n      },\n\n      dispatchSortableEvent(name) {\n        _dispatchEvent({ sortable, name, originalEvent });\n      },\n\n      ...data,\n    });\n  };\n\n  function _dispatchEvent(info) {\n    dispatchEvent({\n      putSortable,\n      cloneEl,\n      targetEl: dragEl,\n      rootEl,\n      oldIndex,\n      oldDraggableIndex,\n      newIndex,\n      newDraggableIndex,\n      ...info,\n    });\n  }\n\n  let dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\n    ghostRelativeParent,\n    ghostRelativeParentInitialScroll = [], // (left, top)\n    _silent = false,\n    savedInputChecked = [];\n\n  /** @const */\n  const documentExists = typeof document !== \"undefined\",\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? \"cssFloat\" : \"float\",\n    // This will not pass for IE9, because IE9 DnD only works on anchors\n    supportDraggable =\n      documentExists &&\n      !ChromeForAndroid &&\n      !IOS &&\n      \"draggable\" in document.createElement(\"div\"),\n    supportCssPointerEvents = (function () {\n      if (!documentExists) return;\n      // false when <= IE11\n      if (IE11OrLess) {\n        return false;\n      }\n      let el = document.createElement(\"x\");\n      el.style.cssText = \"pointer-events:auto\";\n      return el.style.pointerEvents === \"auto\";\n    })(),\n    _detectDirection = function (el, options) {\n      let elCSS = css(el),\n        elWidth =\n          parseInt(elCSS.width) -\n          parseInt(elCSS.paddingLeft) -\n          parseInt(elCSS.paddingRight) -\n          parseInt(elCSS.borderLeftWidth) -\n          parseInt(elCSS.borderRightWidth),\n        child1 = getChild(el, 0, options),\n        child2 = getChild(el, 1, options),\n        firstChildCSS = child1 && css(child1),\n        secondChildCSS = child2 && css(child2),\n        firstChildWidth =\n          firstChildCSS &&\n          parseInt(firstChildCSS.marginLeft) +\n            parseInt(firstChildCSS.marginRight) +\n            getRect(child1).width,\n        secondChildWidth =\n          secondChildCSS &&\n          parseInt(secondChildCSS.marginLeft) +\n            parseInt(secondChildCSS.marginRight) +\n            getRect(child2).width;\n\n      if (elCSS.display === \"flex\") {\n        return elCSS.flexDirection === \"column\" ||\n          elCSS.flexDirection === \"column-reverse\"\n          ? \"vertical\"\n          : \"horizontal\";\n      }\n\n      if (elCSS.display === \"grid\") {\n        return elCSS.gridTemplateColumns.split(\" \").length <= 1\n          ? \"vertical\"\n          : \"horizontal\";\n      }\n\n      if (child1 && firstChildCSS.float && firstChildCSS.float !== \"none\") {\n        let touchingSideChild2 =\n          firstChildCSS.float === \"left\" ? \"left\" : \"right\";\n\n        return child2 &&\n          (secondChildCSS.clear === \"both\" ||\n            secondChildCSS.clear === touchingSideChild2)\n          ? \"vertical\"\n          : \"horizontal\";\n      }\n\n      return child1 &&\n        (firstChildCSS.display === \"block\" ||\n          firstChildCSS.display === \"flex\" ||\n          firstChildCSS.display === \"table\" ||\n          firstChildCSS.display === \"grid\" ||\n          (firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === \"none\") ||\n          (child2 &&\n            elCSS[CSSFloatProperty] === \"none\" &&\n            firstChildWidth + secondChildWidth > elWidth))\n        ? \"vertical\"\n        : \"horizontal\";\n    },\n    _dragElInRowColumn = function (dragRect, targetRect, vertical) {\n      let dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n        dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n        dragElOppLength = vertical ? dragRect.width : dragRect.height,\n        targetS1Opp = vertical ? targetRect.left : targetRect.top,\n        targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n        targetOppLength = vertical ? targetRect.width : targetRect.height;\n\n      return (\n        dragElS1Opp === targetS1Opp ||\n        dragElS2Opp === targetS2Opp ||\n        dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2\n      );\n    },\n    /**\n     * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n     * @param  {Number} x      X position\n     * @param  {Number} y      Y position\n     * @return {HTMLElement}   Element of the first found nearest Sortable\n     */\n    _detectNearestEmptySortable = function (x, y) {\n      let ret;\n      sortables.some((sortable) => {\n        if (lastChild(sortable)) return;\n\n        let rect = getRect(sortable),\n          threshold = sortable[expando].options.emptyInsertThreshold,\n          insideHorizontally =\n            x >= rect.left - threshold && x <= rect.right + threshold,\n          insideVertically =\n            y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n        if (threshold && insideHorizontally && insideVertically) {\n          return (ret = sortable);\n        }\n      });\n      return ret;\n    },\n    _prepareGroup = function (options) {\n      function toFn(value, pull) {\n        return function (to, from, dragEl, evt) {\n          let sameGroup =\n            to.options.group.name &&\n            from.options.group.name &&\n            to.options.group.name === from.options.group.name;\n\n          if (value == null && (pull || sameGroup)) {\n            // Default pull value\n            // Default pull and put value if same group\n            return true;\n          } else if (value == null || value === false) {\n            return false;\n          } else if (pull && value === \"clone\") {\n            return value;\n          } else if (typeof value === \"function\") {\n            return toFn(value(to, from, dragEl, evt), pull)(\n              to,\n              from,\n              dragEl,\n              evt\n            );\n          } else {\n            let otherGroup = (pull ? to : from).options.group.name;\n\n            return (\n              value === true ||\n              (typeof value === \"string\" && value === otherGroup) ||\n              (value.join && value.indexOf(otherGroup) > -1)\n            );\n          }\n        };\n      }\n\n      let group = {};\n      let originalGroup = options.group;\n\n      if (!originalGroup || typeof originalGroup != \"object\") {\n        originalGroup = { name: originalGroup };\n      }\n\n      group.name = originalGroup.name;\n      group.checkPull = toFn(originalGroup.pull, true);\n      group.checkPut = toFn(originalGroup.put);\n      group.revertClone = originalGroup.revertClone;\n\n      options.group = group;\n    },\n    _hideGhostForTarget = function () {\n      if (!supportCssPointerEvents && ghostEl) {\n        css(ghostEl, \"display\", \"none\");\n      }\n    },\n    _unhideGhostForTarget = function () {\n      if (!supportCssPointerEvents && ghostEl) {\n        css(ghostEl, \"display\", \"\");\n      }\n    };\n\n  // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n  if (documentExists) {\n    document.addEventListener(\n      \"click\",\n      function (evt) {\n        if (ignoreNextClick) {\n          evt.preventDefault();\n          evt.stopPropagation && evt.stopPropagation();\n          evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n          ignoreNextClick = false;\n          return false;\n        }\n      },\n      true\n    );\n  }\n\n  let nearestEmptyInsertDetectEvent = function (evt) {\n    if (dragEl) {\n      evt = evt.touches ? evt.touches[0] : evt;\n      let nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n      if (nearest) {\n        // Create imitation event\n        let event = {};\n        for (let i in evt) {\n          if (evt.hasOwnProperty(i)) {\n            event[i] = evt[i];\n          }\n        }\n        event.target = event.rootEl = nearest;\n        event.preventDefault = void 0;\n        event.stopPropagation = void 0;\n        nearest[expando]._onDragOver(event);\n      }\n    }\n  };\n\n  let _checkOutsideTargetEl = function (evt) {\n    if (dragEl) {\n      dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n    }\n  };\n\n  /**\n   * @class  Sortable\n   * @param  {HTMLElement}  el\n   * @param  {Object}       [options]\n   */\n  function Sortable(el, options) {\n    if (!(el && el.nodeType && el.nodeType === 1)) {\n      throw `Sortable: \\`el\\` must be an HTMLElement, not ${{}.toString.call(\n        el\n      )}`;\n    }\n\n    this.el = el; // root element\n    this.options = options = Object.assign({}, options);\n\n    // Export instance\n    el[expando] = this;\n\n    let defaults = {\n      group: null,\n      sort: true,\n      disabled: false,\n      store: null,\n      handle: null,\n      draggable: /^[uo]l$/i.test(el.nodeName) ? \">li\" : \">*\",\n      swapThreshold: 1, // percentage; 0 <= x <= 1\n      invertSwap: false, // invert always\n      invertedSwapThreshold: null, // will be set to same as swapThreshold if default\n      removeCloneOnHide: true,\n      direction: function () {\n        return _detectDirection(el, this.options);\n      },\n      ghostClass: \"sortable-ghost\",\n      chosenClass: \"sortable-chosen\",\n      dragClass: \"sortable-drag\",\n      ignore: \"a, img\",\n      filter: null,\n      preventOnFilter: true,\n      animation: 0,\n      easing: null,\n      setData: function (dataTransfer, dragEl) {\n        dataTransfer.setData(\"Text\", dragEl.textContent);\n      },\n      dropBubble: false,\n      dragoverBubble: false,\n      dataIdAttr: \"data-id\",\n      delay: 0,\n      delayOnTouchOnly: false,\n      touchStartThreshold:\n        (Number.parseInt ? Number : window).parseInt(\n          window.devicePixelRatio,\n          10\n        ) || 1,\n      forceFallback: false,\n      fallbackClass: \"sortable-fallback\",\n      fallbackOnBody: false,\n      fallbackTolerance: 0,\n      fallbackOffset: { x: 0, y: 0 },\n      supportPointer:\n        Sortable.supportPointer !== false && \"PointerEvent\" in window,\n      emptyInsertThreshold: 5,\n    };\n\n    PluginManager.initializePlugins(this, el, defaults);\n\n    // Set default options\n    for (let name in defaults) {\n      !(name in options) && (options[name] = defaults[name]);\n    }\n\n    _prepareGroup(options);\n\n    // Bind all private methods\n    for (let fn in this) {\n      if (fn.charAt(0) === \"_\" && typeof this[fn] === \"function\") {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    // Setup drag mode\n    this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n    if (this.nativeDraggable) {\n      // Touch start threshold cannot be greater than the native dragstart threshold\n      this.options.touchStartThreshold = 1;\n    }\n\n    // Bind events\n    if (options.supportPointer) {\n      on(el, \"pointerdown\", this._onTapStart);\n    } else {\n      on(el, \"mousedown\", this._onTapStart);\n      on(el, \"touchstart\", this._onTapStart);\n    }\n\n    if (this.nativeDraggable) {\n      on(el, \"dragover\", this);\n      on(el, \"dragenter\", this);\n    }\n\n    sortables.push(this.el);\n\n    // Restore sorting\n    options.store &&\n      options.store.get &&\n      this.sort(options.store.get(this) || []);\n\n    // Add animation state manager\n    Object.assign(this, AnimationStateManager());\n  }\n\n  Sortable.prototype = /** @lends Sortable.prototype */ {\n    constructor: Sortable,\n\n    _isOutsideThisEl: function (target) {\n      if (!this.el.contains(target) && target !== this.el) {\n        lastTarget = null;\n      }\n    },\n\n    _getDirection: function (evt, target) {\n      return typeof this.options.direction === \"function\"\n        ? this.options.direction.call(this, evt, target, dragEl)\n        : this.options.direction;\n    },\n\n    _onTapStart: function (/** Event|TouchEvent */ evt) {\n      if (!evt.cancelable) return;\n      let _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch =\n          (evt.touches && evt.touches[0]) ||\n          (evt.pointerType && evt.pointerType === \"touch\" && evt),\n        target = (touch || evt).target,\n        originalTarget =\n          (evt.target.shadowRoot &&\n            ((evt.path && evt.path[0]) ||\n              (evt.composedPath && evt.composedPath()[0]))) ||\n          target,\n        filter = options.filter;\n\n      _saveInputCheckedState(el);\n\n      // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n      if (dragEl) {\n        return;\n      }\n\n      if (\n        (/mousedown|pointerdown/.test(type) && evt.button !== 0) ||\n        options.disabled\n      ) {\n        return; // only left button and enabled\n      }\n\n      // cancel dnd if original target is content editable\n      if (originalTarget.isContentEditable) {\n        return;\n      }\n\n      // Safari ignores further event handling after mousedown\n      if (\n        !this.nativeDraggable &&\n        Safari &&\n        target &&\n        target.tagName.toUpperCase() === \"SELECT\"\n      ) {\n        return;\n      }\n\n      target = closest(target, options.draggable, el, false);\n\n      if (target && target.animated) {\n        return;\n      }\n\n      if (lastDownEl === target) {\n        // Ignoring duplicate `down`\n        return;\n      }\n\n      // Get the index of the dragged element within its parent\n      oldIndex = index(target);\n      oldDraggableIndex = index(target, options.draggable);\n\n      // Check filter\n      if (typeof filter === \"function\") {\n        if (filter.call(this, evt, target, this)) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: originalTarget,\n            name: \"filter\",\n            targetEl: target,\n            toEl: el,\n            fromEl: el,\n          });\n          pluginEvent(\"filter\", _this, { evt });\n          preventOnFilter && evt.cancelable && evt.preventDefault();\n          return; // cancel dnd\n        }\n      } else if (filter) {\n        filter = filter.split(\",\").some(function (criteria) {\n          criteria = closest(originalTarget, criteria.trim(), el, false);\n\n          if (criteria) {\n            _dispatchEvent({\n              sortable: _this,\n              rootEl: criteria,\n              name: \"filter\",\n              targetEl: target,\n              fromEl: el,\n              toEl: el,\n            });\n            pluginEvent(\"filter\", _this, { evt });\n            return true;\n          }\n        });\n\n        if (filter) {\n          preventOnFilter && evt.cancelable && evt.preventDefault();\n          return; // cancel dnd\n        }\n      }\n\n      if (\n        options.handle &&\n        !closest(originalTarget, options.handle, el, false)\n      ) {\n        return;\n      }\n\n      // Prepare `dragstart`\n      this._prepareDragStart(evt, touch, target);\n    },\n\n    _prepareDragStart: function (\n      /** Event */ evt,\n      /** Touch */ touch,\n      /** HTMLElement */ target\n    ) {\n      let _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n      if (target && !dragEl && target.parentNode === el) {\n        let dragRect = getRect(target);\n        rootEl = el;\n        dragEl = target;\n        parentEl = dragEl.parentNode;\n        nextEl = dragEl.nextSibling;\n        lastDownEl = target;\n        activeGroup = options.group;\n\n        Sortable.dragged = dragEl;\n\n        // PORTME: added offset\n        let offset = 0;\n\n        const targetBoundingRect = target.getBoundingClientRect()\n\n        if (targetBoundingRect.left + 95 < ((touch || evt).clientX)) {\n            offset = ((touch || evt).clientX) - targetBoundingRect.left - (\n                95 / 2\n            )\n        }\n\n        tapEvt = {\n          target: dragEl,\n          clientX: (touch || evt).clientX - offset,\n          clientY: (touch || evt).clientY,\n        };\n\n        tapDistanceLeft = tapEvt.clientX - dragRect.left;\n        tapDistanceTop = tapEvt.clientY - dragRect.top;\n\n        this._lastX = (touch || evt).clientX - offset;\n        this._lastY = (touch || evt).clientY;\n\n        dragEl.style[\"will-change\"] = \"all\";\n\n        dragStartFn = function () {\n          pluginEvent(\"delayEnded\", _this, { evt });\n          if (Sortable.eventCanceled) {\n            _this._onDrop();\n            return;\n          }\n          // Delayed drag has been triggered\n          // we can re-enable the events: touchmove/mousemove\n          _this._disableDelayedDragEvents();\n\n          if (!FireFox && _this.nativeDraggable) {\n            dragEl.draggable = true;\n          }\n\n          // Bind the events: dragstart/dragend\n          _this._triggerDragStart(evt, touch);\n\n          // Drag start event\n          _dispatchEvent({\n            sortable: _this,\n            name: \"choose\",\n            originalEvent: evt,\n          });\n\n          // Chosen item\n          toggleClass(dragEl, options.chosenClass, true);\n        };\n\n        // Disable \"draggable\"\n        options.ignore.split(\",\").forEach(function (criteria) {\n          find(dragEl, criteria.trim(), _disableDraggable);\n        });\n\n        on(ownerDocument, \"dragover\", nearestEmptyInsertDetectEvent);\n        on(ownerDocument, \"mousemove\", nearestEmptyInsertDetectEvent);\n        on(ownerDocument, \"touchmove\", nearestEmptyInsertDetectEvent);\n\n        on(ownerDocument, \"mouseup\", _this._onDrop);\n        on(ownerDocument, \"touchend\", _this._onDrop);\n        on(ownerDocument, \"touchcancel\", _this._onDrop);\n\n        // Make dragEl draggable (must be before delay for FireFox)\n        if (FireFox && this.nativeDraggable) {\n          this.options.touchStartThreshold = 4;\n          dragEl.draggable = true;\n        }\n\n        pluginEvent(\"delayStart\", this, { evt });\n\n        // Delay is impossible for native DnD in Edge or IE\n        if (\n          options.delay &&\n          (!options.delayOnTouchOnly || touch) &&\n          (!this.nativeDraggable || !(Edge || IE11OrLess))\n        ) {\n          if (Sortable.eventCanceled) {\n            this._onDrop();\n            return;\n          }\n          // If the user moves the pointer or let go the click or touch\n          // before the delay has been reached:\n          // disable the delayed drag\n          on(ownerDocument, \"mouseup\", _this._disableDelayedDrag);\n          on(ownerDocument, \"touchend\", _this._disableDelayedDrag);\n          on(ownerDocument, \"touchcancel\", _this._disableDelayedDrag);\n          on(ownerDocument, \"mousemove\", _this._delayedDragTouchMoveHandler);\n          on(ownerDocument, \"touchmove\", _this._delayedDragTouchMoveHandler);\n          options.supportPointer &&\n            on(\n              ownerDocument,\n              \"pointermove\",\n              _this._delayedDragTouchMoveHandler\n            );\n\n          _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n        } else {\n          dragStartFn();\n        }\n      }\n    },\n\n    _delayedDragTouchMoveHandler: function (/** TouchEvent|PointerEvent **/ e) {\n      let touch = e.touches ? e.touches[0] : e;\n      if (\n        Math.max(\n          Math.abs(touch.clientX - this._lastX),\n          Math.abs(touch.clientY - this._lastY)\n        ) >=\n        Math.floor(\n          this.options.touchStartThreshold /\n            ((this.nativeDraggable && window.devicePixelRatio) || 1)\n        )\n      ) {\n        this._disableDelayedDrag();\n      }\n    },\n\n    _disableDelayedDrag: function () {\n      dragEl && _disableDraggable(dragEl);\n      clearTimeout(this._dragStartTimer);\n\n      this._disableDelayedDragEvents();\n    },\n\n    _disableDelayedDragEvents: function () {\n      let ownerDocument = this.el.ownerDocument;\n      off(ownerDocument, \"mouseup\", this._disableDelayedDrag);\n      off(ownerDocument, \"touchend\", this._disableDelayedDrag);\n      off(ownerDocument, \"touchcancel\", this._disableDelayedDrag);\n      off(ownerDocument, \"mousemove\", this._delayedDragTouchMoveHandler);\n      off(ownerDocument, \"touchmove\", this._delayedDragTouchMoveHandler);\n      off(ownerDocument, \"pointermove\", this._delayedDragTouchMoveHandler);\n    },\n\n    _triggerDragStart: function (/** Event */ evt, /** Touch */ touch) {\n      touch = touch || (evt.pointerType == \"touch\" && evt);\n\n      if (!this.nativeDraggable || touch) {\n        if (this.options.supportPointer) {\n          on(document, \"pointermove\", this._onTouchMove);\n        } else if (touch) {\n          on(document, \"touchmove\", this._onTouchMove);\n        } else {\n          on(document, \"mousemove\", this._onTouchMove);\n        }\n      } else {\n        on(dragEl, \"dragend\", this);\n        on(rootEl, \"dragstart\", this._onDragStart);\n      }\n\n      try {\n        if (document.selection) {\n          // Timeout neccessary for IE9\n          _nextTick(function () {\n            document.selection.empty();\n          });\n        } else {\n          window.getSelection().removeAllRanges();\n        }\n      } catch (err) {}\n    },\n\n    _dragStarted: function (fallback, evt) {\n      awaitingDragStarted = false;\n      if (rootEl && dragEl) {\n        pluginEvent(\"dragStarted\", this, { evt });\n\n        if (this.nativeDraggable) {\n          on(document, \"dragover\", _checkOutsideTargetEl);\n        }\n        let options = this.options;\n\n        // Apply effect\n        !fallback && toggleClass(dragEl, options.dragClass, false);\n        toggleClass(dragEl, options.ghostClass, true);\n\n        Sortable.active = this;\n\n        fallback && this._appendGhost();\n\n        // Drag start event\n        _dispatchEvent({\n          sortable: this,\n          name: \"start\",\n          originalEvent: evt,\n        });\n      } else {\n        this._nulling();\n      }\n    },\n\n    _emulateDragOver: function () {\n      if (touchEvt) {\n        this._lastX = touchEvt.clientX;\n        this._lastY = touchEvt.clientY;\n\n        _hideGhostForTarget();\n\n        let target = document.elementFromPoint(\n          touchEvt.clientX,\n          touchEvt.clientY\n        );\n        let parent = target;\n\n        while (target && target.shadowRoot) {\n          target = target.shadowRoot.elementFromPoint(\n            touchEvt.clientX,\n            touchEvt.clientY\n          );\n          if (target === parent) break;\n          parent = target;\n        }\n\n        dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n        if (parent) {\n          do {\n            if (parent[expando]) {\n              let inserted;\n\n              inserted = parent[expando]._onDragOver({\n                clientX: touchEvt.clientX,\n                clientY: touchEvt.clientY,\n                target: target,\n                rootEl: parent,\n              });\n\n              if (inserted && !this.options.dragoverBubble) {\n                break;\n              }\n            }\n\n            target = parent; // store last element\n          } while (\n            /* jshint boss:true */\n            (parent = parent.parentNode)\n          );\n        }\n\n        _unhideGhostForTarget();\n      }\n    },\n\n    _onTouchMove: function (/**TouchEvent*/ evt) {\n      if (tapEvt) {\n        let options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset =\n            PositionGhostAbsolutely &&\n            ghostRelativeParent &&\n            getRelativeScrollOffset(ghostRelativeParent),\n          dx =\n            (touch.clientX - tapEvt.clientX + fallbackOffset.x) /\n              (scaleX || 1) +\n            (relativeScrollOffset\n              ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0]\n              : 0) /\n              (scaleX || 1),\n          dy =\n            (touch.clientY - tapEvt.clientY + fallbackOffset.y) /\n              (scaleY || 1) +\n            (relativeScrollOffset\n              ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1]\n              : 0) /\n              (scaleY || 1);\n\n        // only set the status to dragging, when we are actually dragging\n        if (!Sortable.active && !awaitingDragStarted) {\n          if (\n            fallbackTolerance &&\n            Math.max(\n              Math.abs(touch.clientX - this._lastX),\n              Math.abs(touch.clientY - this._lastY)\n            ) < fallbackTolerance\n          ) {\n            return;\n          }\n          this._onDragStart(evt, true);\n        }\n\n        if (ghostEl) {\n          if (ghostMatrix) {\n            ghostMatrix.e += dx - (lastDx || 0);\n            ghostMatrix.f += dy - (lastDy || 0);\n          } else {\n            ghostMatrix = {\n              a: 1,\n              b: 0,\n              c: 0,\n              d: 1,\n              e: dx,\n              f: dy,\n            };\n          }\n\n          let cssMatrix = `matrix(${ghostMatrix.a},${ghostMatrix.b},${ghostMatrix.c},${ghostMatrix.d},${ghostMatrix.e},${ghostMatrix.f})`;\n\n          css(ghostEl, \"webkitTransform\", cssMatrix);\n          css(ghostEl, \"mozTransform\", cssMatrix);\n          css(ghostEl, \"msTransform\", cssMatrix);\n          css(ghostEl, \"transform\", cssMatrix);\n\n          lastDx = dx;\n          lastDy = dy;\n\n          touchEvt = touch;\n        }\n\n        evt.cancelable && evt.preventDefault();\n      }\n    },\n\n    _appendGhost: function () {\n      // Bug if using scale(): https://stackoverflow.com/questions/2637058\n      // Not being adjusted for\n      if (!ghostEl) {\n        let container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(\n            dragEl,\n            true,\n            PositionGhostAbsolutely,\n            true,\n            container\n          ),\n          options = this.options;\n\n        // Position absolutely\n        if (PositionGhostAbsolutely) {\n          // Get relatively positioned parent\n          ghostRelativeParent = container;\n\n          while (\n            css(ghostRelativeParent, \"position\") === \"static\" &&\n            css(ghostRelativeParent, \"transform\") === \"none\" &&\n            ghostRelativeParent !== document\n          ) {\n            ghostRelativeParent = ghostRelativeParent.parentNode;\n          }\n\n          if (\n            ghostRelativeParent !== document.body &&\n            ghostRelativeParent !== document.documentElement\n          ) {\n            if (ghostRelativeParent === document)\n              ghostRelativeParent = getWindowScrollingElement();\n\n            rect.top += ghostRelativeParent.scrollTop;\n            rect.left += ghostRelativeParent.scrollLeft;\n          } else {\n            ghostRelativeParent = getWindowScrollingElement();\n          }\n          ghostRelativeParentInitialScroll = getRelativeScrollOffset(\n            ghostRelativeParent\n          );\n        }\n\n        ghostEl = dragEl.cloneNode(true);\n\n        toggleClass(ghostEl, options.ghostClass, false);\n        toggleClass(ghostEl, options.fallbackClass, true);\n        toggleClass(ghostEl, options.dragClass, true);\n\n        css(ghostEl, \"transition\", \"\");\n        css(ghostEl, \"transform\", \"\");\n\n        css(ghostEl, \"box-sizing\", \"border-box\");\n        css(ghostEl, \"margin\", 0);\n        css(ghostEl, \"top\", rect.top);\n        css(ghostEl, \"left\", rect.left);\n        css(ghostEl, \"width\", rect.width);\n        css(ghostEl, \"height\", rect.height);\n        css(ghostEl, \"opacity\", \"0.8\");\n        css(\n          ghostEl,\n          \"position\",\n          PositionGhostAbsolutely ? \"absolute\" : \"fixed\"\n        );\n        css(ghostEl, \"zIndex\", \"100000\");\n        css(ghostEl, \"pointerEvents\", \"none\");\n\n        Sortable.ghost = ghostEl;\n\n        container.appendChild(ghostEl);\n\n        // Set transform-origin\n        css(\n          ghostEl,\n          \"transform-origin\",\n          (tapDistanceLeft / parseInt(ghostEl.style.width)) * 100 +\n            \"% \" +\n            (tapDistanceTop / parseInt(ghostEl.style.height)) * 100 +\n            \"%\"\n        );\n      }\n    },\n\n    _onDragStart: function (/**Event*/ evt, /**boolean*/ fallback) {\n      let _this = this;\n      let dataTransfer = evt.dataTransfer;\n      let options = _this.options;\n\n      pluginEvent(\"dragStart\", this, { evt });\n      if (Sortable.eventCanceled) {\n        this._onDrop();\n        return;\n      }\n\n      pluginEvent(\"setupClone\", this);\n      if (!Sortable.eventCanceled) {\n        cloneEl = clone(dragEl);\n\n        cloneEl.draggable = false;\n        cloneEl.style[\"will-change\"] = \"\";\n\n        this._hideClone();\n\n        toggleClass(cloneEl, this.options.chosenClass, false);\n        Sortable.clone = cloneEl;\n      }\n\n      // #1143: IFrame support workaround\n      _this.cloneId = _nextTick(function () {\n        pluginEvent(\"clone\", _this);\n        if (Sortable.eventCanceled) return;\n\n        if (!_this.options.removeCloneOnHide) {\n          rootEl.insertBefore(cloneEl, dragEl);\n        }\n        _this._hideClone();\n\n        _dispatchEvent({\n          sortable: _this,\n          name: \"clone\",\n        });\n      });\n\n      !fallback && toggleClass(dragEl, options.dragClass, true);\n\n      // Set proper drop events\n      if (fallback) {\n        ignoreNextClick = true;\n        _this._loopId = setInterval(_this._emulateDragOver, 50);\n      } else {\n        // Undo what was set in _prepareDragStart before drag started\n        off(document, \"mouseup\", _this._onDrop);\n        off(document, \"touchend\", _this._onDrop);\n        off(document, \"touchcancel\", _this._onDrop);\n\n        if (dataTransfer) {\n          dataTransfer.effectAllowed = \"move\";\n          options.setData && options.setData.call(_this, dataTransfer, dragEl);\n        }\n\n        on(document, \"drop\", _this);\n\n        // #1276 fix:\n        css(dragEl, \"transform\", \"translateZ(0)\");\n      }\n\n      awaitingDragStarted = true;\n\n      _this._dragStartId = _nextTick(\n        _this._dragStarted.bind(_this, fallback, evt)\n      );\n      on(document, \"selectstart\", _this);\n\n      moved = true;\n\n      if (Safari) {\n        css(document.body, \"user-select\", \"none\");\n      }\n    },\n\n    // Returns true - if no further action is needed (either inserted or another condition)\n    _onDragOver: function (/**Event*/ evt) {\n      let el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n      if (_silent) return;\n\n      function dragOverEvent(name, extra) {\n        pluginEvent(name, _this, {\n          evt,\n          isOwner,\n          axis: vertical ? \"vertical\" : \"horizontal\",\n          revert,\n          dragRect,\n          targetRect,\n          canSort,\n          fromSortable,\n          target,\n          completed,\n          onMove(target, after) {\n            return onMove(\n              rootEl,\n              el,\n              dragEl,\n              dragRect,\n              target,\n              getRect(target),\n              evt,\n              after\n            );\n          },\n          changed,\n          ...extra,\n        });\n      }\n\n      // Capture animation state\n      function capture() {\n        dragOverEvent(\"dragOverAnimationCapture\");\n\n        _this.captureAnimationState();\n        if (_this !== fromSortable) {\n          fromSortable.captureAnimationState();\n        }\n      }\n\n      // Return invocation when dragEl is inserted (or completed)\n      function completed(insertion) {\n        dragOverEvent(\"dragOverCompleted\", { insertion });\n\n        if (insertion) {\n          // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n          if (isOwner) {\n            activeSortable._hideClone();\n          } else {\n            activeSortable._showClone(_this);\n          }\n\n          if (_this !== fromSortable) {\n            // Set ghost class to new sortable's ghost class\n            toggleClass(\n              dragEl,\n              putSortable\n                ? putSortable.options.ghostClass\n                : activeSortable.options.ghostClass,\n              false\n            );\n            toggleClass(dragEl, options.ghostClass, true);\n          }\n\n          if (putSortable !== _this && _this !== Sortable.active) {\n            putSortable = _this;\n          } else if (_this === Sortable.active && putSortable) {\n            putSortable = null;\n          }\n\n          // Animation\n          if (fromSortable === _this) {\n            _this._ignoreWhileAnimating = target;\n          }\n          _this.animateAll(function () {\n            dragOverEvent(\"dragOverAnimationComplete\");\n            _this._ignoreWhileAnimating = null;\n          });\n          if (_this !== fromSortable) {\n            fromSortable.animateAll();\n            fromSortable._ignoreWhileAnimating = null;\n          }\n        }\n\n        // Null lastTarget if it is not inside a previously swapped element\n        if (\n          (target === dragEl && !dragEl.animated) ||\n          (target === el && !target.animated)\n        ) {\n          lastTarget = null;\n        }\n\n        // no bubbling and not fallback\n        if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n          dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n\n          // Do not detect for empty insert if already inserted\n          !insertion && nearestEmptyInsertDetectEvent(evt);\n        }\n\n        !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n\n        return (completedFired = true);\n      }\n\n      // Call when dragEl has been inserted\n      function changed() {\n        newIndex = index(dragEl);\n        newDraggableIndex = index(dragEl, options.draggable);\n        _dispatchEvent({\n          sortable: _this,\n          name: \"change\",\n          toEl: el,\n          newIndex,\n          newDraggableIndex,\n          originalEvent: evt,\n        });\n      }\n\n      if (evt.preventDefault !== void 0) {\n        evt.cancelable && evt.preventDefault();\n      }\n\n      target = closest(target, options.draggable, el, true);\n\n      dragOverEvent(\"dragOver\");\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (\n        dragEl.contains(evt.target) ||\n        (target.animated && target.animatingX && target.animatingY) ||\n        _this._ignoreWhileAnimating === target\n      ) {\n        return completed(false);\n      }\n\n      ignoreNextClick = false;\n\n      if (\n        activeSortable &&\n        !options.disabled &&\n        (isOwner\n          ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n          : putSortable === this ||\n            ((this.lastPutMode = activeGroup.checkPull(\n              this,\n              activeSortable,\n              dragEl,\n              evt\n            )) &&\n              group.checkPut(this, activeSortable, dragEl, evt)))\n      ) {\n        vertical = this._getDirection(evt, target) === \"vertical\";\n\n        dragRect = getRect(dragEl);\n\n        dragOverEvent(\"dragOverValid\");\n        if (Sortable.eventCanceled) return completedFired;\n\n        if (revert) {\n          parentEl = rootEl; // actualization\n          capture();\n\n          this._hideClone();\n\n          dragOverEvent(\"revert\");\n\n          if (!Sortable.eventCanceled) {\n            if (nextEl) {\n              rootEl.insertBefore(dragEl, nextEl);\n            } else {\n              rootEl.appendChild(dragEl);\n            }\n          }\n\n          return completed(true);\n        }\n\n        let elLastChild = lastChild(el, options.draggable);\n\n        if (\n          !elLastChild ||\n          (_ghostIsLast(evt, vertical, this) && !elLastChild.animated)\n        ) {\n          // If already at end of list: Do not insert\n          if (elLastChild === dragEl) {\n            return completed(false);\n          }\n\n          // assign target only if condition is true\n          if (elLastChild && el === evt.target) {\n            target = elLastChild;\n          }\n\n          if (target) {\n            targetRect = getRect(target);\n          }\n\n          if (\n            onMove(\n              rootEl,\n              el,\n              dragEl,\n              dragRect,\n              target,\n              targetRect,\n              evt,\n              !!target\n            ) !== false\n          ) {\n            capture();\n            el.appendChild(dragEl);\n            parentEl = el; // actualization\n\n            changed();\n            return completed(true);\n          }\n        } else if (target.parentNode === el) {\n          targetRect = getRect(target);\n          let direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(\n              (dragEl.animated && dragEl.toRect) || dragRect,\n              (target.animated && target.toRect) || targetRect,\n              vertical\n            ),\n            side1 = vertical ? \"top\" : \"left\",\n            scrolledPastTop =\n              isScrolledPast(target, \"top\", \"top\") ||\n              isScrolledPast(dragEl, \"top\", \"top\"),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n          if (lastTarget !== target) {\n            targetBeforeFirstSwap = targetRect[side1];\n            pastFirstInvertThresh = false;\n            isCircumstantialInvert =\n              (!differentRowCol && options.invertSwap) || differentLevel;\n          }\n\n          direction = _getSwapDirection(\n            evt,\n            target,\n            targetRect,\n            vertical,\n            differentRowCol ? 1 : options.swapThreshold,\n            options.invertedSwapThreshold == null\n              ? options.swapThreshold\n              : options.invertedSwapThreshold,\n            isCircumstantialInvert,\n            lastTarget === target\n          );\n\n          let sibling;\n\n          if (direction !== 0) {\n            // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n            let dragIndex = index(dragEl);\n\n            do {\n              dragIndex -= direction;\n              sibling = parentEl.children[dragIndex];\n            } while (\n              sibling &&\n              (css(sibling, \"display\") === \"none\" || sibling === ghostEl)\n            );\n          }\n          // If dragEl is already beside target: Do not insert\n          if (direction === 0 || sibling === target) {\n            return completed(false);\n          }\n\n          lastTarget = target;\n\n          lastDirection = direction;\n\n          let nextSibling = target.nextElementSibling,\n            after = false;\n\n          after = direction === 1;\n\n          let moveVector = onMove(\n            rootEl,\n            el,\n            dragEl,\n            dragRect,\n            target,\n            targetRect,\n            evt,\n            after\n          );\n\n          if (moveVector !== false) {\n            if (moveVector === 1 || moveVector === -1) {\n              after = moveVector === 1;\n            }\n\n            _silent = true;\n            setTimeout(_unsilent, 30);\n\n            capture();\n\n            if (after && !nextSibling) {\n              el.appendChild(dragEl);\n            } else {\n              target.parentNode.insertBefore(\n                dragEl,\n                after ? nextSibling : target\n              );\n            }\n\n            // Undo chrome's scroll adjustment (has no effect on other browsers)\n            if (scrolledPastTop) {\n              scrollBy(\n                scrolledPastTop,\n                0,\n                scrollBefore - scrolledPastTop.scrollTop\n              );\n            }\n\n            parentEl = dragEl.parentNode; // actualization\n\n            // must be done before animation\n            if (\n              targetBeforeFirstSwap !== undefined &&\n              !isCircumstantialInvert\n            ) {\n              targetMoveDistance = Math.abs(\n                targetBeforeFirstSwap - getRect(target)[side1]\n              );\n            }\n            changed();\n\n            return completed(true);\n          }\n        }\n\n        if (el.contains(dragEl)) {\n          return completed(false);\n        }\n      }\n\n      return false;\n    },\n\n    _ignoreWhileAnimating: null,\n\n    _offMoveEvents: function () {\n      off(document, \"mousemove\", this._onTouchMove);\n      off(document, \"touchmove\", this._onTouchMove);\n      off(document, \"pointermove\", this._onTouchMove);\n      off(document, \"dragover\", nearestEmptyInsertDetectEvent);\n      off(document, \"mousemove\", nearestEmptyInsertDetectEvent);\n      off(document, \"touchmove\", nearestEmptyInsertDetectEvent);\n    },\n\n    _offUpEvents: function () {\n      let ownerDocument = this.el.ownerDocument;\n\n      off(ownerDocument, \"mouseup\", this._onDrop);\n      off(ownerDocument, \"touchend\", this._onDrop);\n      off(ownerDocument, \"pointerup\", this._onDrop);\n      off(ownerDocument, \"touchcancel\", this._onDrop);\n      off(document, \"selectstart\", this);\n    },\n\n    _onDrop: function (/**Event*/ evt) {\n      let el = this.el,\n        options = this.options;\n\n      // Get the index of the dragged element within its parent\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      pluginEvent(\"drop\", this, {\n        evt,\n      });\n\n      parentEl = dragEl && dragEl.parentNode;\n\n      // Get again after plugin event\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      if (Sortable.eventCanceled) {\n        this._nulling();\n        return;\n      }\n\n      awaitingDragStarted = false;\n      isCircumstantialInvert = false;\n      pastFirstInvertThresh = false;\n\n      clearInterval(this._loopId);\n\n      clearTimeout(this._dragStartTimer);\n\n      _cancelNextTick(this.cloneId);\n      _cancelNextTick(this._dragStartId);\n\n      // Unbind events\n      if (this.nativeDraggable) {\n        off(document, \"drop\", this);\n        off(el, \"dragstart\", this._onDragStart);\n      }\n      this._offMoveEvents();\n      this._offUpEvents();\n\n      if (Safari) {\n        css(document.body, \"user-select\", \"\");\n      }\n\n      css(dragEl, \"transform\", \"\");\n\n      if (evt) {\n        if (moved) {\n          evt.cancelable && evt.preventDefault();\n          !options.dropBubble && evt.stopPropagation();\n        }\n\n        ghostEl &&\n          ghostEl.parentNode &&\n          ghostEl.parentNode.removeChild(ghostEl);\n\n        if (\n          rootEl === parentEl ||\n          (putSortable && putSortable.lastPutMode !== \"clone\")\n        ) {\n          // Remove clone(s)\n          cloneEl &&\n            cloneEl.parentNode &&\n            cloneEl.parentNode.removeChild(cloneEl);\n        }\n\n        if (dragEl) {\n          if (this.nativeDraggable) {\n            off(dragEl, \"dragend\", this);\n          }\n\n          _disableDraggable(dragEl);\n          dragEl.style[\"will-change\"] = \"\";\n\n          // Remove classes\n          // ghostClass is added in dragStarted\n          if (moved && !awaitingDragStarted) {\n            toggleClass(\n              dragEl,\n              putSortable\n                ? putSortable.options.ghostClass\n                : this.options.ghostClass,\n              false\n            );\n          }\n          toggleClass(dragEl, this.options.chosenClass, false);\n\n          // Drag stop event\n          _dispatchEvent({\n            sortable: this,\n            name: \"unchoose\",\n            toEl: parentEl,\n            newIndex: null,\n            newDraggableIndex: null,\n            originalEvent: evt,\n          });\n\n          if (rootEl !== parentEl) {\n            if (newIndex >= 0) {\n              // Add event\n              _dispatchEvent({\n                rootEl: parentEl,\n                name: \"add\",\n                toEl: parentEl,\n                fromEl: rootEl,\n                originalEvent: evt,\n              });\n\n              // Remove event\n              _dispatchEvent({\n                sortable: this,\n                name: \"remove\",\n                toEl: parentEl,\n                originalEvent: evt,\n              });\n\n              // drag from one list and drop into another\n              _dispatchEvent({\n                rootEl: parentEl,\n                name: \"sort\",\n                toEl: parentEl,\n                fromEl: rootEl,\n                originalEvent: evt,\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: \"sort\",\n                toEl: parentEl,\n                originalEvent: evt,\n              });\n            }\n\n            putSortable && putSortable.save();\n          } else {\n            if (newIndex !== oldIndex) {\n              if (newIndex >= 0) {\n                // drag & drop within the same list\n                _dispatchEvent({\n                  sortable: this,\n                  name: \"update\",\n                  toEl: parentEl,\n                  originalEvent: evt,\n                });\n\n                _dispatchEvent({\n                  sortable: this,\n                  name: \"sort\",\n                  toEl: parentEl,\n                  originalEvent: evt,\n                });\n              }\n            }\n          }\n\n          if (Sortable.active) {\n            /* jshint eqnull:true */\n            if (newIndex == null || newIndex === -1) {\n              newIndex = oldIndex;\n              newDraggableIndex = oldDraggableIndex;\n            }\n\n            _dispatchEvent({\n              sortable: this,\n              name: \"end\",\n              toEl: parentEl,\n              originalEvent: evt,\n            });\n\n            // Save sorting\n            this.save();\n          } else {\n              // PORTME: added the dispatch block\n            _dispatchEvent({\n              sortable: this,\n              name: 'end',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n        }\n      }\n      this._nulling();\n    },\n\n    _nulling: function () {\n      pluginEvent(\"nulling\", this);\n\n      rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n\n      savedInputChecked.forEach(function (el) {\n        el.checked = true;\n      });\n\n      savedInputChecked.length = lastDx = lastDy = 0;\n    },\n\n    handleEvent: function (/**Event*/ evt) {\n      switch (evt.type) {\n        case \"drop\":\n        case \"dragend\":\n          this._onDrop(evt);\n          break;\n\n        case \"dragenter\":\n        case \"dragover\":\n          if (dragEl) {\n            this._onDragOver(evt);\n            _globalDragOver(evt);\n          }\n          break;\n\n        case \"selectstart\":\n          evt.preventDefault();\n          break;\n      }\n    },\n\n    /**\n     * Serializes the item into an array of string.\n     * @returns {String[]}\n     */\n    toArray: function () {\n      let order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n      for (; i < n; i++) {\n        el = children[i];\n        if (closest(el, options.draggable, this.el, false)) {\n          order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n        }\n      }\n\n      return order;\n    },\n\n    /**\n     * Sorts the elements according to the array.\n     * @param  {String[]}  order  order of the items\n     */\n    sort: function (order) {\n      let items = {},\n        rootEl = this.el;\n\n      this.toArray().forEach(function (id, i) {\n        let el = rootEl.children[i];\n\n        if (closest(el, this.options.draggable, rootEl, false)) {\n          items[id] = el;\n        }\n      }, this);\n\n      order.forEach(function (id) {\n        if (items[id]) {\n          rootEl.removeChild(items[id]);\n          rootEl.appendChild(items[id]);\n        }\n      });\n    },\n\n    /**\n     * Save the current sorting\n     */\n    save: function () {\n      let store = this.options.store;\n      store && store.set && store.set(this);\n    },\n\n    /**\n     * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n     * @param   {HTMLElement}  el\n     * @param   {String}       [selector]  default: `options.draggable`\n     * @returns {HTMLElement|null}\n     */\n    closest: function (el, selector) {\n      return closest(el, selector || this.options.draggable, this.el, false);\n    },\n\n    /**\n     * Set/get option\n     * @param   {string} name\n     * @param   {*}      [value]\n     * @returns {*}\n     */\n    option: function (name, value) {\n      let options = this.options;\n\n      if (value === void 0) {\n        return options[name];\n      } else {\n        let modifiedValue = PluginManager.modifyOption(this, name, value);\n        if (typeof modifiedValue !== \"undefined\") {\n          options[name] = modifiedValue;\n        } else {\n          options[name] = value;\n        }\n\n        if (name === \"group\") {\n          _prepareGroup(options);\n        }\n      }\n    },\n\n    /**\n     * Destroy\n     */\n    destroy: function () {\n      pluginEvent(\"destroy\", this);\n      let el = this.el;\n\n      el[expando] = null;\n\n      off(el, \"mousedown\", this._onTapStart);\n      off(el, \"touchstart\", this._onTapStart);\n      off(el, \"pointerdown\", this._onTapStart);\n\n      if (this.nativeDraggable) {\n        off(el, \"dragover\", this);\n        off(el, \"dragenter\", this);\n      }\n      // Remove draggable attributes\n      Array.prototype.forEach.call(\n        el.querySelectorAll(\"[draggable]\"),\n        function (el) {\n          el.removeAttribute(\"draggable\");\n        }\n      );\n\n      this._onDrop();\n\n      this._disableDelayedDragEvents();\n\n      sortables.splice(sortables.indexOf(this.el), 1);\n\n      this.el = el = null;\n    },\n\n    _hideClone: function () {\n      if (!cloneHidden) {\n        pluginEvent(\"hideClone\", this);\n        if (Sortable.eventCanceled) return;\n\n        css(cloneEl, \"display\", \"none\");\n        if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n          cloneEl.parentNode.removeChild(cloneEl);\n        }\n        cloneHidden = true;\n      }\n    },\n\n    _showClone: function (putSortable) {\n      if (putSortable.lastPutMode !== \"clone\") {\n        this._hideClone();\n        return;\n      }\n\n      if (cloneHidden) {\n        pluginEvent(\"showClone\", this);\n        if (Sortable.eventCanceled) return;\n\n        // show clone at dragEl or original position\n        if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n          rootEl.insertBefore(cloneEl, dragEl);\n        } else if (nextEl) {\n          rootEl.insertBefore(cloneEl, nextEl);\n        } else {\n          rootEl.appendChild(cloneEl);\n        }\n\n        if (this.options.group.revertClone) {\n          this.animate(dragEl, cloneEl);\n        }\n\n        css(cloneEl, \"display\", \"\");\n        cloneHidden = false;\n      }\n    },\n  };\n\n  function _globalDragOver(/**Event*/ evt) {\n    if (evt.dataTransfer) {\n      evt.dataTransfer.dropEffect = \"move\";\n    }\n    evt.cancelable && evt.preventDefault();\n  }\n\n  function onMove(\n    fromEl,\n    toEl,\n    dragEl,\n    dragRect,\n    targetEl,\n    targetRect,\n    originalEvent,\n    willInsertAfter\n  ) {\n    let evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal;\n    // Support for new CustomEvent feature\n    if (window.CustomEvent && !IE11OrLess && !Edge) {\n      evt = new CustomEvent(\"move\", {\n        bubbles: true,\n        cancelable: true,\n      });\n    } else {\n      evt = document.createEvent(\"Event\");\n      evt.initEvent(\"move\", true, true);\n    }\n\n    evt.to = toEl;\n    evt.from = fromEl;\n    evt.dragged = dragEl;\n    evt.draggedRect = dragRect;\n    evt.related = targetEl || toEl;\n    evt.relatedRect = targetRect || getRect(toEl);\n    evt.willInsertAfter = willInsertAfter;\n\n    evt.originalEvent = originalEvent;\n\n    fromEl.dispatchEvent(evt);\n\n    if (onMoveFn) {\n      retVal = onMoveFn.call(sortable, evt, originalEvent);\n    }\n\n    return retVal;\n  }\n\n  function _disableDraggable(el) {\n    el.draggable = false;\n  }\n\n  function _unsilent() {\n    _silent = false;\n  }\n\n  function _ghostIsLast(evt, vertical, sortable) {\n    let rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n    const spacer = 10;\n\n    return vertical\n      ? evt.clientX > rect.right + spacer ||\n          (evt.clientX <= rect.right &&\n            evt.clientY > rect.bottom &&\n            evt.clientX >= rect.left)\n      : (evt.clientX > rect.right && evt.clientY > rect.top) ||\n          (evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer);\n  }\n\n  function _getSwapDirection(\n    evt,\n    target,\n    targetRect,\n    vertical,\n    swapThreshold,\n    invertedSwapThreshold,\n    invertSwap,\n    isLastTarget\n  ) {\n    let mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n    if (!invertSwap) {\n      // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n      if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n        // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n        // check if past first invert threshold on side opposite of lastDirection\n        if (\n          !pastFirstInvertThresh &&\n          (lastDirection === 1\n            ? mouseOnAxis >\n              targetS1 + (targetLength * invertedSwapThreshold) / 2\n            : mouseOnAxis <\n              targetS2 - (targetLength * invertedSwapThreshold) / 2)\n        ) {\n          // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n          pastFirstInvertThresh = true;\n        }\n\n        if (!pastFirstInvertThresh) {\n          // dragEl shadow (target move distance shadow)\n          if (\n            lastDirection === 1\n              ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n              : mouseOnAxis > targetS2 - targetMoveDistance\n          ) {\n            return -lastDirection;\n          }\n        } else {\n          invert = true;\n        }\n      } else {\n        // Regular\n        if (\n          mouseOnAxis > targetS1 + (targetLength * (1 - swapThreshold)) / 2 &&\n          mouseOnAxis < targetS2 - (targetLength * (1 - swapThreshold)) / 2\n        ) {\n          return _getInsertDirection(target);\n        }\n      }\n    }\n\n    invert = invert || invertSwap;\n\n    if (invert) {\n      // Invert of regular\n      if (\n        mouseOnAxis < targetS1 + (targetLength * invertedSwapThreshold) / 2 ||\n        mouseOnAxis > targetS2 - (targetLength * invertedSwapThreshold) / 2\n      ) {\n        return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n      }\n    }\n\n    return 0;\n  }\n\n  /**\n   * Gets the direction dragEl must be swapped relative to target in order to make it\n   * seem that dragEl has been \"inserted\" into that element's position\n   * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n   * @return {Number}                   Direction dragEl must be swapped\n   */\n  function _getInsertDirection(target) {\n    if (index(dragEl) < index(target)) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n\n  /**\n   * Generate id\n   * @param   {HTMLElement} el\n   * @returns {String}\n   * @private\n   */\n  function _generateId(el) {\n    let str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n    while (i--) {\n      sum += str.charCodeAt(i);\n    }\n\n    return sum.toString(36);\n  }\n\n  function _saveInputCheckedState(root) {\n    savedInputChecked.length = 0;\n\n    let inputs = root.getElementsByTagName(\"input\");\n    let idx = inputs.length;\n\n    while (idx--) {\n      let el = inputs[idx];\n      el.checked && savedInputChecked.push(el);\n    }\n  }\n\n  function _nextTick(fn) {\n    return setTimeout(fn, 0);\n  }\n\n  function _cancelNextTick(id) {\n    return clearTimeout(id);\n  }\n\n  // Fixed #973:\n  if (documentExists) {\n    on(document, \"touchmove\", function (evt) {\n      if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n        evt.preventDefault();\n      }\n    });\n  }\n\n  // Export utils\n  Sortable.utils = {\n    on: on,\n    off: off,\n    css: css,\n    find: find,\n    is: function (el, selector) {\n      return !!closest(el, selector, el, false);\n    },\n    extend: extend,\n    throttle: throttle,\n    closest: closest,\n    toggleClass: toggleClass,\n    clone: clone,\n    index: index,\n    nextTick: _nextTick,\n    cancelNextTick: _cancelNextTick,\n    detectDirection: _detectDirection,\n    getChild: getChild,\n  };\n\n  /**\n   * Get the Sortable instance of an element\n   * @param  {HTMLElement} element The element\n   * @return {Sortable|undefined}         The instance of Sortable\n   */\n  Sortable.get = function (element) {\n    return element[expando];\n  };\n\n  /**\n   * Mount a plugin to Sortable\n   * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n   */\n  Sortable.mount = function (...plugins) {\n    if (plugins[0].constructor === Array) plugins = plugins[0];\n\n    plugins.forEach((plugin) => {\n      if (!plugin.prototype || !plugin.prototype.constructor) {\n        throw `Sortable: Mounted plugin must be a constructor function, not ${{}.toString.call(\n          plugin\n        )}`;\n      }\n      if (plugin.utils) Sortable.utils = { ...Sortable.utils, ...plugin.utils };\n\n      PluginManager.mount(plugin);\n    });\n  };\n\n  /**\n   * Create sortable instance\n   * @param {HTMLElement}  el\n   * @param {Object}      [options]\n   */\n  Sortable.create = function (el, options) {\n    return new Sortable(el, options);\n  };\n\n  // Export\n  Sortable.version = version;\n\n  let autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\n  function AutoScrollPlugin() {\n    function AutoScroll() {\n      this.defaults = {\n        scroll: true,\n        scrollSensitivity: 30,\n        scrollSpeed: 10,\n        bubbleScroll: true,\n      };\n\n      // Bind all private methods\n      for (let fn in this) {\n        if (fn.charAt(0) === \"_\" && typeof this[fn] === \"function\") {\n          this[fn] = this[fn].bind(this);\n        }\n      }\n    }\n\n    AutoScroll.prototype = {\n      dragStarted({ originalEvent }) {\n        if (this.sortable.nativeDraggable) {\n          on(document, \"dragover\", this._handleAutoScroll);\n        } else {\n          if (this.options.supportPointer) {\n            on(document, \"pointermove\", this._handleFallbackAutoScroll);\n          } else if (originalEvent.touches) {\n            on(document, \"touchmove\", this._handleFallbackAutoScroll);\n          } else {\n            on(document, \"mousemove\", this._handleFallbackAutoScroll);\n          }\n        }\n      },\n\n      dragOverCompleted({ originalEvent }) {\n        // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n        if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n          this._handleAutoScroll(originalEvent);\n        }\n      },\n\n      drop() {\n        if (this.sortable.nativeDraggable) {\n          off(document, \"dragover\", this._handleAutoScroll);\n        } else {\n          off(document, \"pointermove\", this._handleFallbackAutoScroll);\n          off(document, \"touchmove\", this._handleFallbackAutoScroll);\n          off(document, \"mousemove\", this._handleFallbackAutoScroll);\n        }\n\n        clearPointerElemChangedInterval();\n        clearAutoScrolls();\n        cancelThrottle();\n      },\n\n      nulling() {\n        touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n\n        autoScrolls.length = 0;\n      },\n\n      _handleFallbackAutoScroll(evt) {\n        this._handleAutoScroll(evt, true);\n      },\n\n      _handleAutoScroll(evt, fallback) {\n        const x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n\n        touchEvt$1 = evt;\n\n        // IE does not seem to have native autoscroll,\n        // Edge's autoscroll seems too conditional,\n        // MACOS Safari does not have autoscroll,\n        // Firefox and Chrome are good\n        if (fallback || Edge || IE11OrLess || Safari) {\n          autoScroll(evt, this.options, elem, fallback);\n\n          // Listener for pointer element change\n          let ogElemScroller = getParentAutoScrollElement(elem, true);\n          if (\n            scrolling &&\n            (!pointerElemChangedInterval ||\n              x !== lastAutoScrollX ||\n              y !== lastAutoScrollY)\n          ) {\n            pointerElemChangedInterval && clearPointerElemChangedInterval();\n            // Detect for pointer elem change, emulating native DnD behaviour\n            pointerElemChangedInterval = setInterval(() => {\n              let newElem = getParentAutoScrollElement(\n                document.elementFromPoint(x, y),\n                true\n              );\n              if (newElem !== ogElemScroller) {\n                ogElemScroller = newElem;\n                clearAutoScrolls();\n              }\n              autoScroll(evt, this.options, newElem, fallback);\n            }, 10);\n            lastAutoScrollX = x;\n            lastAutoScrollY = y;\n          }\n        } else {\n          // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n          if (\n            !this.options.bubbleScroll ||\n            getParentAutoScrollElement(elem, true) ===\n              getWindowScrollingElement()\n          ) {\n            clearAutoScrolls();\n            return;\n          }\n          autoScroll(\n            evt,\n            this.options,\n            getParentAutoScrollElement(elem, false),\n            false\n          );\n        }\n      },\n    };\n\n    return Object.assign(AutoScroll, {\n      pluginName: \"scroll\",\n      initializeByDefault: true,\n    });\n  }\n\n  function clearAutoScrolls() {\n    autoScrolls.forEach(function (autoScroll) {\n      clearInterval(autoScroll.pid);\n    });\n    autoScrolls = [];\n  }\n\n  function clearPointerElemChangedInterval() {\n    clearInterval(pointerElemChangedInterval);\n  }\n\n  const autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n    // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n    if (!options.scroll) return;\n    const x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n\n    let scrollThisInstance = false,\n      scrollCustomFn;\n\n    // New scroll root, set scrollEl\n    if (scrollRootEl !== rootEl) {\n      scrollRootEl = rootEl;\n\n      clearAutoScrolls();\n\n      scrollEl = options.scroll;\n      scrollCustomFn = options.scrollFn;\n\n      if (scrollEl === true) {\n        scrollEl = getParentAutoScrollElement(rootEl, true);\n      }\n    }\n\n    let layersOut = 0;\n    let currentParent = scrollEl;\n    do {\n      let el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX,\n        canScrollY,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n      if (el === winScroller) {\n        canScrollX =\n          width < scrollWidth &&\n          (elCSS.overflowX === \"auto\" ||\n            elCSS.overflowX === \"scroll\" ||\n            elCSS.overflowX === \"visible\");\n        canScrollY =\n          height < scrollHeight &&\n          (elCSS.overflowY === \"auto\" ||\n            elCSS.overflowY === \"scroll\" ||\n            elCSS.overflowY === \"visible\");\n      } else {\n        canScrollX =\n          width < scrollWidth &&\n          (elCSS.overflowX === \"auto\" || elCSS.overflowX === \"scroll\");\n        canScrollY =\n          height < scrollHeight &&\n          (elCSS.overflowY === \"auto\" || elCSS.overflowY === \"scroll\");\n      }\n\n      let vx =\n        canScrollX &&\n        (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) -\n          (Math.abs(left - x) <= sens && !!scrollPosX);\n      let vy =\n        canScrollY &&\n        (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) -\n          (Math.abs(top - y) <= sens && !!scrollPosY);\n\n      if (!autoScrolls[layersOut]) {\n        for (let i = 0; i <= layersOut; i++) {\n          if (!autoScrolls[i]) {\n            autoScrolls[i] = {};\n          }\n        }\n      }\n\n      if (\n        autoScrolls[layersOut].vx != vx ||\n        autoScrolls[layersOut].vy != vy ||\n        autoScrolls[layersOut].el !== el\n      ) {\n        autoScrolls[layersOut].el = el;\n        autoScrolls[layersOut].vx = vx;\n        autoScrolls[layersOut].vy = vy;\n\n        clearInterval(autoScrolls[layersOut].pid);\n\n        if (vx != 0 || vy != 0) {\n          scrollThisInstance = true;\n          /* jshint loopfunc:true */\n          autoScrolls[layersOut].pid = setInterval(\n            function () {\n              // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n              if (isFallback && this.layer === 0) {\n                Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n              }\n              let scrollOffsetY = autoScrolls[this.layer].vy\n                ? autoScrolls[this.layer].vy * speed\n                : 0;\n              let scrollOffsetX = autoScrolls[this.layer].vx\n                ? autoScrolls[this.layer].vx * speed\n                : 0;\n\n              if (typeof scrollCustomFn === \"function\") {\n                if (\n                  scrollCustomFn.call(\n                    Sortable.dragged.parentNode[expando],\n                    scrollOffsetX,\n                    scrollOffsetY,\n                    evt,\n                    touchEvt$1,\n                    autoScrolls[this.layer].el\n                  ) !== \"continue\"\n                ) {\n                  return;\n                }\n              }\n\n              scrollBy(\n                autoScrolls[this.layer].el,\n                scrollOffsetX,\n                scrollOffsetY\n              );\n            }.bind({ layer: layersOut }),\n            24\n          );\n        }\n      }\n      layersOut++;\n    } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n    scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n  }, 30);\n\n  const drop = function ({\n    originalEvent,\n    putSortable,\n    dragEl,\n    activeSortable,\n    dispatchSortableEvent,\n    hideGhostForTarget,\n    unhideGhostForTarget,\n  }) {\n    if (!originalEvent) return;\n    let toSortable = putSortable || activeSortable;\n    hideGhostForTarget();\n    let touch =\n      originalEvent.changedTouches && originalEvent.changedTouches.length\n        ? originalEvent.changedTouches[0]\n        : originalEvent;\n    let target = document.elementFromPoint(touch.clientX, touch.clientY);\n    unhideGhostForTarget();\n    if (toSortable && !toSortable.el.contains(target)) {\n      dispatchSortableEvent(\"spill\");\n      this.onSpill({ dragEl, putSortable });\n    }\n  };\n\n  function Revert() {}\n\n  Revert.prototype = {\n    startIndex: null,\n    dragStart({ oldDraggableIndex }) {\n      this.startIndex = oldDraggableIndex;\n    },\n    onSpill({ dragEl, putSortable }) {\n      this.sortable.captureAnimationState();\n      if (putSortable) {\n        putSortable.captureAnimationState();\n      }\n      let nextSibling = getChild(\n        this.sortable.el,\n        this.startIndex,\n        this.options\n      );\n\n      if (nextSibling) {\n        this.sortable.el.insertBefore(dragEl, nextSibling);\n      } else {\n        this.sortable.el.appendChild(dragEl);\n      }\n      this.sortable.animateAll();\n      if (putSortable) {\n        putSortable.animateAll();\n      }\n    },\n    drop,\n  };\n\n  Object.assign(Revert, {\n    pluginName: \"revertOnSpill\",\n  });\n\n  function Remove() {}\n\n  Remove.prototype = {\n    onSpill({ dragEl, putSortable }) {\n      const parentSortable = putSortable || this.sortable;\n      parentSortable.captureAnimationState();\n      dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n      parentSortable.animateAll();\n    },\n    drop,\n  };\n\n  Object.assign(Remove, {\n    pluginName: \"removeOnSpill\",\n  });\n\n  let lastSwapEl;\n\n  function SwapPlugin() {\n    function Swap() {\n      this.defaults = {\n        swapClass: \"sortable-swap-highlight\",\n      };\n    }\n\n    Swap.prototype = {\n      dragStart({ dragEl }) {\n        lastSwapEl = dragEl;\n      },\n      dragOverValid({\n        completed,\n        target,\n        onMove,\n        activeSortable,\n        changed,\n        cancel,\n      }) {\n        if (!activeSortable.options.swap) return;\n        let el = this.sortable.el,\n          options = this.options;\n        if (target && target !== el) {\n          let prevSwapEl = lastSwapEl;\n          if (onMove(target) !== false) {\n            toggleClass(target, options.swapClass, true);\n            lastSwapEl = target;\n          } else {\n            lastSwapEl = null;\n          }\n\n          if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n            toggleClass(prevSwapEl, options.swapClass, false);\n          }\n        }\n        changed();\n\n        completed(true);\n        cancel();\n      },\n      drop({ activeSortable, putSortable, dragEl }) {\n        let toSortable = putSortable || this.sortable;\n        let options = this.options;\n        lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n        if (\n          lastSwapEl &&\n          (options.swap || (putSortable && putSortable.options.swap))\n        ) {\n          if (dragEl !== lastSwapEl) {\n            toSortable.captureAnimationState();\n            if (toSortable !== activeSortable)\n              activeSortable.captureAnimationState();\n            swapNodes(dragEl, lastSwapEl);\n\n            toSortable.animateAll();\n            if (toSortable !== activeSortable) activeSortable.animateAll();\n          }\n        }\n      },\n      nulling() {\n        lastSwapEl = null;\n      },\n    };\n\n    return Object.assign(Swap, {\n      pluginName: \"swap\",\n      eventProperties() {\n        return {\n          swapItem: lastSwapEl,\n        };\n      },\n    });\n  }\n\n  function swapNodes(n1, n2) {\n    let p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n\n    if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n\n    i1 = index(n1);\n    i2 = index(n2);\n\n    if (p1.isEqualNode(p2) && i1 < i2) {\n      i2++;\n    }\n    p1.insertBefore(n2, p1.children[i1]);\n    p2.insertBefore(n1, p2.children[i2]);\n  }\n\n  let multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect, // for selection with modifier key down (SHIFT)\n    multiDragSortable,\n    initialFolding = false, // Initial multi-drag fold when drag started\n    folding = false, // Folding any other time\n    dragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\n  function MultiDragPlugin() {\n    function MultiDrag(sortable) {\n      // Bind all private methods\n      for (let fn in this) {\n        if (fn.charAt(0) === \"_\" && typeof this[fn] === \"function\") {\n          this[fn] = this[fn].bind(this);\n        }\n      }\n\n      if (sortable.options.supportPointer) {\n        on(document, \"pointerup\", this._deselectMultiDrag);\n      } else {\n        on(document, \"mouseup\", this._deselectMultiDrag);\n        on(document, \"touchend\", this._deselectMultiDrag);\n      }\n\n      on(document, \"keydown\", this._checkKeyDown);\n      on(document, \"keyup\", this._checkKeyUp);\n\n      this.defaults = {\n        selectedClass: \"sortable-selected\",\n        multiDragKey: null,\n        setData(dataTransfer, dragEl) {\n          let data = \"\";\n          if (multiDragElements.length && multiDragSortable === sortable) {\n            multiDragElements.forEach((multiDragElement, i) => {\n              data += (!i ? \"\" : \", \") + multiDragElement.textContent;\n            });\n          } else {\n            data = dragEl.textContent;\n          }\n          dataTransfer.setData(\"Text\", data);\n        },\n      };\n    }\n\n    MultiDrag.prototype = {\n      multiDragKeyDown: false,\n      isMultiDrag: false,\n\n      delayStartGlobal({ dragEl: dragged }) {\n        dragEl$1 = dragged;\n      },\n\n      delayEnded() {\n        this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n      },\n\n      setupClone({ sortable, cancel }) {\n        if (!this.isMultiDrag) return;\n        for (let i = 0; i < multiDragElements.length; i++) {\n          multiDragClones.push(clone(multiDragElements[i]));\n\n          multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n\n          multiDragClones[i].draggable = false;\n          multiDragClones[i].style[\"will-change\"] = \"\";\n\n          toggleClass(multiDragClones[i], this.options.selectedClass, false);\n          multiDragElements[i] === dragEl$1 &&\n            toggleClass(multiDragClones[i], this.options.chosenClass, false);\n        }\n\n        sortable._hideClone();\n        cancel();\n      },\n\n      clone({ sortable, rootEl, dispatchSortableEvent, cancel }) {\n        if (!this.isMultiDrag) return;\n        if (!this.options.removeCloneOnHide) {\n          if (multiDragElements.length && multiDragSortable === sortable) {\n            insertMultiDragClones(true, rootEl);\n            dispatchSortableEvent(\"clone\");\n\n            cancel();\n          }\n        }\n      },\n\n      showClone({ cloneNowShown, rootEl, cancel }) {\n        if (!this.isMultiDrag) return;\n        insertMultiDragClones(false, rootEl);\n        multiDragClones.forEach((clone) => {\n          css(clone, \"display\", \"\");\n        });\n\n        cloneNowShown();\n        clonesHidden = false;\n        cancel();\n      },\n\n      hideClone({ sortable, cloneNowHidden, cancel }) {\n        if (!this.isMultiDrag) return;\n        multiDragClones.forEach((clone) => {\n          css(clone, \"display\", \"none\");\n          if (this.options.removeCloneOnHide && clone.parentNode) {\n            clone.parentNode.removeChild(clone);\n          }\n        });\n\n        cloneNowHidden();\n        clonesHidden = true;\n        cancel();\n      },\n\n      dragStartGlobal({ sortable }) {\n        if (!this.isMultiDrag && multiDragSortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n        }\n\n        multiDragElements.forEach((multiDragElement) => {\n          multiDragElement.sortableIndex = index(multiDragElement);\n        });\n\n        // Sort multi-drag elements\n        multiDragElements = multiDragElements.sort(function (a, b) {\n          return a.sortableIndex - b.sortableIndex;\n        });\n        dragStarted = true;\n      },\n\n      dragStarted({ sortable }) {\n        if (!this.isMultiDrag) return;\n        if (this.options.sort) {\n          // Capture rects,\n          // hide multi drag elements (by positioning them absolute),\n          // set multi drag elements rects to dragRect,\n          // show multi drag elements,\n          // animate to rects,\n          // unset rects & remove from DOM\n\n          sortable.captureAnimationState();\n\n          if (this.options.animation) {\n            multiDragElements.forEach((multiDragElement) => {\n              if (multiDragElement === dragEl$1) return;\n              css(multiDragElement, \"position\", \"absolute\");\n            });\n\n            let dragRect = getRect(dragEl$1, false, true, true);\n\n            multiDragElements.forEach((multiDragElement) => {\n              if (multiDragElement === dragEl$1) return;\n              setRect(multiDragElement, dragRect);\n            });\n\n            folding = true;\n            initialFolding = true;\n          }\n        }\n\n        sortable.animateAll(() => {\n          folding = false;\n          initialFolding = false;\n\n          if (this.options.animation) {\n            multiDragElements.forEach((multiDragElement) => {\n              unsetRect(multiDragElement);\n            });\n          }\n\n          // Remove all auxiliary multidrag items from el, if sorting enabled\n          if (this.options.sort) {\n            removeMultiDragElements();\n          }\n        });\n      },\n\n      dragOver({ target, completed, cancel }) {\n        if (folding && ~multiDragElements.indexOf(target)) {\n          completed(false);\n          cancel();\n        }\n      },\n\n      revert({ fromSortable, rootEl, sortable, dragRect }) {\n        if (multiDragElements.length > 1) {\n          // Setup unfold animation\n          multiDragElements.forEach((multiDragElement) => {\n            sortable.addAnimationState({\n              target: multiDragElement,\n              rect: folding ? getRect(multiDragElement) : dragRect,\n            });\n\n            unsetRect(multiDragElement);\n\n            multiDragElement.fromRect = dragRect;\n\n            fromSortable.removeAnimationState(multiDragElement);\n          });\n          folding = false;\n          insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n        }\n      },\n\n      dragOverCompleted({\n        sortable,\n        isOwner,\n        insertion,\n        activeSortable,\n        parentEl,\n        putSortable,\n      }) {\n        let options = this.options;\n        if (insertion) {\n          // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n          if (isOwner) {\n            activeSortable._hideClone();\n          }\n\n          initialFolding = false;\n          // If leaving sort:false root, or already folding - Fold to new location\n          if (\n            options.animation &&\n            multiDragElements.length > 1 &&\n            (folding ||\n              (!isOwner && !activeSortable.options.sort && !putSortable))\n          ) {\n            // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n            let dragRectAbsolute = getRect(dragEl$1, false, true, true);\n\n            multiDragElements.forEach((multiDragElement) => {\n              if (multiDragElement === dragEl$1) return;\n              setRect(multiDragElement, dragRectAbsolute);\n\n              // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n              // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n              parentEl.appendChild(multiDragElement);\n            });\n\n            folding = true;\n          }\n\n          // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n          if (!isOwner) {\n            // Only remove if not folding (folding will remove them anyways)\n            if (!folding) {\n              removeMultiDragElements();\n            }\n\n            if (multiDragElements.length > 1) {\n              let clonesHiddenBefore = clonesHidden;\n              activeSortable._showClone(sortable);\n\n              // Unfold animation for clones if showing from hidden\n              if (\n                activeSortable.options.animation &&\n                !clonesHidden &&\n                clonesHiddenBefore\n              ) {\n                multiDragClones.forEach((clone) => {\n                  activeSortable.addAnimationState({\n                    target: clone,\n                    rect: clonesFromRect,\n                  });\n\n                  clone.fromRect = clonesFromRect;\n                  clone.thisAnimationDuration = null;\n                });\n              }\n            } else {\n              activeSortable._showClone(sortable);\n            }\n          }\n        }\n      },\n\n      dragOverAnimationCapture({ dragRect, isOwner, activeSortable }) {\n        multiDragElements.forEach((multiDragElement) => {\n          multiDragElement.thisAnimationDuration = null;\n        });\n\n        if (\n          activeSortable.options.animation &&\n          !isOwner &&\n          activeSortable.multiDrag.isMultiDrag\n        ) {\n          clonesFromRect = Object.assign({}, dragRect);\n          let dragMatrix = matrix(dragEl$1, true);\n          clonesFromRect.top -= dragMatrix.f;\n          clonesFromRect.left -= dragMatrix.e;\n        }\n      },\n\n      dragOverAnimationComplete() {\n        if (folding) {\n          folding = false;\n          removeMultiDragElements();\n        }\n      },\n\n      drop({\n        originalEvent: evt,\n        rootEl,\n        parentEl,\n        sortable,\n        dispatchSortableEvent,\n        oldIndex,\n        putSortable,\n      }) {\n        let toSortable = putSortable || this.sortable;\n\n        if (!evt) return;\n\n        let options = this.options,\n          children = parentEl.children;\n\n        // Multi-drag selection\n        if (!dragStarted) {\n          if (options.multiDragKey && !this.multiDragKeyDown) {\n            this._deselectMultiDrag();\n          }\n          toggleClass(\n            dragEl$1,\n            options.selectedClass,\n            !~multiDragElements.indexOf(dragEl$1)\n          );\n\n          if (!~multiDragElements.indexOf(dragEl$1)) {\n            multiDragElements.push(dragEl$1);\n            dispatchEvent({\n              sortable,\n              rootEl,\n              name: \"select\",\n              targetEl: dragEl$1,\n              originalEvt: evt,\n            });\n\n            // Modifier activated, select from last to dragEl\n            if (\n              evt.shiftKey &&\n              lastMultiDragSelect &&\n              sortable.el.contains(lastMultiDragSelect)\n            ) {\n              let lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n              if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n                // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n                // (but previous selection existed)\n                let n, i;\n                if (currentIndex > lastIndex) {\n                  i = lastIndex;\n                  n = currentIndex;\n                } else {\n                  i = currentIndex;\n                  n = lastIndex + 1;\n                }\n\n                for (; i < n; i++) {\n                  if (~multiDragElements.indexOf(children[i])) continue;\n                  toggleClass(children[i], options.selectedClass, true);\n                  multiDragElements.push(children[i]);\n\n                  dispatchEvent({\n                    sortable,\n                    rootEl,\n                    name: \"select\",\n                    targetEl: children[i],\n                    originalEvt: evt,\n                  });\n                }\n              }\n            } else {\n              lastMultiDragSelect = dragEl$1;\n            }\n\n            multiDragSortable = toSortable;\n          } else {\n            multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n            lastMultiDragSelect = null;\n            dispatchEvent({\n              sortable,\n              rootEl,\n              name: \"deselect\",\n              targetEl: dragEl$1,\n              originalEvt: evt,\n            });\n          }\n        }\n\n        // Multi-drag drop\n        if (dragStarted && this.isMultiDrag) {\n          // Do not \"unfold\" after around dragEl if reverted\n          if (\n            (parentEl[expando].options.sort || parentEl !== rootEl) &&\n            multiDragElements.length > 1\n          ) {\n            let dragRect = getRect(dragEl$1),\n              multiDragIndex = index(\n                dragEl$1,\n                \":not(.\" + this.options.selectedClass + \")\"\n              );\n\n            if (!initialFolding && options.animation)\n              dragEl$1.thisAnimationDuration = null;\n\n            toSortable.captureAnimationState();\n\n            if (!initialFolding) {\n              if (options.animation) {\n                dragEl$1.fromRect = dragRect;\n                multiDragElements.forEach((multiDragElement) => {\n                  multiDragElement.thisAnimationDuration = null;\n                  if (multiDragElement !== dragEl$1) {\n                    let rect = folding ? getRect(multiDragElement) : dragRect;\n                    multiDragElement.fromRect = rect;\n\n                    // Prepare unfold animation\n                    toSortable.addAnimationState({\n                      target: multiDragElement,\n                      rect: rect,\n                    });\n                  }\n                });\n              }\n\n              // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n              // properly they must all be removed\n              removeMultiDragElements();\n\n              multiDragElements.forEach((multiDragElement) => {\n                if (children[multiDragIndex]) {\n                  parentEl.insertBefore(\n                    multiDragElement,\n                    children[multiDragIndex]\n                  );\n                } else {\n                  parentEl.appendChild(multiDragElement);\n                }\n                multiDragIndex++;\n              });\n\n              // If initial folding is done, the elements may have changed position because they are now\n              // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n              // must be fired here as Sortable will not.\n              if (oldIndex === index(dragEl$1)) {\n                let update = false;\n                multiDragElements.forEach((multiDragElement) => {\n                  if (\n                    multiDragElement.sortableIndex !== index(multiDragElement)\n                  ) {\n                    update = true;\n                    return;\n                  }\n                });\n\n                if (update) {\n                  dispatchSortableEvent(\"update\");\n                }\n              }\n            }\n\n            // Must be done after capturing individual rects (scroll bar)\n            multiDragElements.forEach((multiDragElement) => {\n              unsetRect(multiDragElement);\n            });\n\n            toSortable.animateAll();\n          }\n\n          multiDragSortable = toSortable;\n        }\n\n        // Remove clones if necessary\n        if (\n          rootEl === parentEl ||\n          (putSortable && putSortable.lastPutMode !== \"clone\")\n        ) {\n          multiDragClones.forEach((clone) => {\n            clone.parentNode && clone.parentNode.removeChild(clone);\n          });\n        }\n      },\n\n      nullingGlobal() {\n        this.isMultiDrag = dragStarted = false;\n        multiDragClones.length = 0;\n      },\n\n      destroyGlobal() {\n        this._deselectMultiDrag();\n        off(document, \"pointerup\", this._deselectMultiDrag);\n        off(document, \"mouseup\", this._deselectMultiDrag);\n        off(document, \"touchend\", this._deselectMultiDrag);\n\n        off(document, \"keydown\", this._checkKeyDown);\n        off(document, \"keyup\", this._checkKeyUp);\n      },\n\n      _deselectMultiDrag(evt) {\n        if (typeof dragStarted !== \"undefined\" && dragStarted) return;\n\n        // Only deselect if selection is in this sortable\n        if (multiDragSortable !== this.sortable) return;\n\n        // Only deselect if target is not item in this sortable\n        if (\n          evt &&\n          closest(evt.target, this.options.draggable, this.sortable.el, false)\n        )\n          return;\n\n        // Only deselect if left click\n        if (evt && evt.button !== 0) return;\n\n        while (multiDragElements.length) {\n          let el = multiDragElements[0];\n          toggleClass(el, this.options.selectedClass, false);\n          multiDragElements.shift();\n          dispatchEvent({\n            sortable: this.sortable,\n            rootEl: this.sortable.el,\n            name: \"deselect\",\n            targetEl: el,\n            originalEvt: evt,\n          });\n        }\n      },\n\n      _checkKeyDown(evt) {\n        if (evt.key === this.options.multiDragKey) {\n          this.multiDragKeyDown = true;\n        }\n      },\n\n      _checkKeyUp(evt) {\n        if (evt.key === this.options.multiDragKey) {\n          this.multiDragKeyDown = false;\n        }\n      },\n    };\n\n    return Object.assign(MultiDrag, {\n      // Static methods & properties\n      pluginName: \"multiDrag\",\n      utils: {\n        /**\n         * Selects the provided multi-drag item\n         * @param  {HTMLElement} el    The element to be selected\n         */\n        select(el) {\n          let sortable = el.parentNode[expando];\n          if (\n            !sortable ||\n            !sortable.options.multiDrag ||\n            ~multiDragElements.indexOf(el)\n          )\n            return;\n          if (multiDragSortable && multiDragSortable !== sortable) {\n            multiDragSortable.multiDrag._deselectMultiDrag();\n            multiDragSortable = sortable;\n          }\n          toggleClass(el, sortable.options.selectedClass, true);\n          multiDragElements.push(el);\n        },\n        /**\n         * Deselects the provided multi-drag item\n         * @param  {HTMLElement} el    The element to be deselected\n         */\n        deselect(el) {\n          let sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n          if (!sortable || !sortable.options.multiDrag || !~index) return;\n          toggleClass(el, sortable.options.selectedClass, false);\n          multiDragElements.splice(index, 1);\n        },\n      },\n      eventProperties() {\n        const oldIndicies = [],\n          newIndicies = [];\n\n        multiDragElements.forEach((multiDragElement) => {\n          oldIndicies.push({\n            multiDragElement,\n            index: multiDragElement.sortableIndex,\n          });\n\n          // multiDragElements will already be sorted if folding\n          let newIndex;\n          if (folding && multiDragElement !== dragEl$1) {\n            newIndex = -1;\n          } else if (folding) {\n            newIndex = index(\n              multiDragElement,\n              \":not(.\" + this.options.selectedClass + \")\"\n            );\n          } else {\n            newIndex = index(multiDragElement);\n          }\n          newIndicies.push({\n            multiDragElement,\n            index: newIndex,\n          });\n        });\n        return {\n          items: [...multiDragElements],\n          clones: [...multiDragClones],\n          oldIndicies,\n          newIndicies,\n        };\n      },\n      optionListeners: {\n        multiDragKey(key) {\n          key = key.toLowerCase();\n          if (key === \"ctrl\") {\n            key = \"Control\";\n          } else if (key.length > 1) {\n            key = key.charAt(0).toUpperCase() + key.substr(1);\n          }\n          return key;\n        },\n      },\n    });\n  }\n\n  function insertMultiDragElements(clonesInserted, rootEl) {\n    multiDragElements.forEach((multiDragElement, i) => {\n      let target =\n        rootEl.children[\n          multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)\n        ];\n      if (target) {\n        rootEl.insertBefore(multiDragElement, target);\n      } else {\n        rootEl.appendChild(multiDragElement);\n      }\n    });\n  }\n\n  /**\n   * Insert multi-drag clones\n   * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\n   * @param  {HTMLElement} rootEl\n   */\n  function insertMultiDragClones(elementsInserted, rootEl) {\n    multiDragClones.forEach((clone, i) => {\n      let target =\n        rootEl.children[\n          clone.sortableIndex + (elementsInserted ? Number(i) : 0)\n        ];\n      if (target) {\n        rootEl.insertBefore(clone, target);\n      } else {\n        rootEl.appendChild(clone);\n      }\n    });\n  }\n\n  function removeMultiDragElements() {\n    multiDragElements.forEach((multiDragElement) => {\n      if (multiDragElement === dragEl$1) return;\n      multiDragElement.parentNode &&\n        multiDragElement.parentNode.removeChild(multiDragElement);\n    });\n  }\n\n  Sortable.mount(new AutoScrollPlugin());\n  Sortable.mount(Remove, Revert);\n\n  Sortable.mount(new SwapPlugin());\n  Sortable.mount(new MultiDragPlugin());\n\n  return Sortable;\n});\n","import {\n\tcreateElement,\n\tFragment,\n\tComponent,\n\tuseState,\n\tuseRef,\n\tuseEffect,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport ResponsiveControls, {\n\tmaybePromoteScalarValueIntoResponsive,\n\tisOptionEnabledFor,\n\tgetValueForDevice,\n\tisOptionResponsiveFor,\n} from '../customizer/components/responsive-controls'\nimport deepEqual from 'deep-equal'\nimport { normalizeCondition, matchValuesWithCondition } from 'match-conditions'\nimport { __ } from 'ct-i18n'\nimport { getOptionLabelFor } from './helpers/get-label'\nimport ctEvents from 'ct-events'\n\nconst CORE_OPTIONS_CONTEXT = require.context('./options/', false, /\\.js$/)\nCORE_OPTIONS_CONTEXT.keys().forEach(CORE_OPTIONS_CONTEXT)\n\nconst hasCoreOptionModifier = (type) => {\n\tlet index = CORE_OPTIONS_CONTEXT.keys()\n\t\t.map((module) => module.replace(/^\\.\\//, '').replace(/\\.js$/, ''))\n\t\t.indexOf(type)\n\n\treturn index > -1 && CORE_OPTIONS_CONTEXT.keys()[index]\n}\n\nexport const capitalizeFirstLetter = (str) => {\n\tstr = str == null ? '' : String(str)\n\treturn str.charAt(0).toUpperCase() + str.slice(1)\n}\n\nconst DefaultOptionComponent = ({ option }) => {\n\treturn <div>Unimplemented option: {option.type}</div>\n}\n\nexport const getOptionFor = (option) => {\n\tconst dynamicOptionTypes = {}\n\tctEvents.trigger('blocksy:options:register', dynamicOptionTypes)\n\n\tif (hasCoreOptionModifier(option.type)) {\n\t\treturn CORE_OPTIONS_CONTEXT(hasCoreOptionModifier(option.type)).default\n\t}\n\n\tif (dynamicOptionTypes[option.type]) {\n\t\treturn dynamicOptionTypes[option.type]\n\t}\n\n\treturn DefaultOptionComponent\n}\n\nexport const optionWithDefault = ({ option, value }) =>\n\tvalue === undefined ? option.value : value\n\nconst GenericOptionType = ({\n\toption,\n\tvalue,\n\tvalues,\n\tonChange,\n\tonChangeFor,\n\thasRevertButton,\n\tid,\n\tpurpose,\n}) => {\n\tlet maybeGutenbergDevice = null\n\n\tconst childComponentRef = useRef(null)\n\n\tif (wp.data && wp.data.useSelect) {\n\t\tmaybeGutenbergDevice = wp.data.useSelect((select) => {\n\t\t\tif (!select('core/edit-post')) {\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\treturn select('core/edit-post').__experimentalGetPreviewDeviceType()\n\t\t})\n\t}\n\n\tconst getInitialDevice = () => {\n\t\tif (wp.customize && wp.customize.previewedDevice) {\n\t\t\treturn wp.customize.previewedDevice()\n\t\t}\n\n\t\tif (\n\t\t\twp.data &&\n\t\t\twp.data.select &&\n\t\t\twp.data.select('core/edit-post') &&\n\t\t\twp.data.select('core/edit-post').__experimentalGetPreviewDeviceType\n\t\t) {\n\t\t\treturn wp.data\n\t\t\t\t.select('core/edit-post')\n\t\t\t\t.__experimentalGetPreviewDeviceType()\n\t\t\t\t.toLowerCase()\n\t\t}\n\n\t\treturn 'desktop'\n\t}\n\n\tconst [device, setInnerDevice] = useState(getInitialDevice())\n\n\tconst listener = () => {\n\t\tsetInnerDevice(getInitialDevice())\n\t}\n\n\tconst ctEventsListener = ({ device }) => {\n\t\tsetInnerDevice(device)\n\t}\n\n\tconst setDevice = (device) => {\n\t\tctEvents.trigger('ct:options:device:update', { device })\n\t\tsetInnerDevice(device)\n\t\twp.customize && wp.customize.previewedDevice.set(device)\n\n\t\tif (\n\t\t\twp.data &&\n\t\t\twp.data.dispatch &&\n\t\t\twp.data.dispatch('core/edit-post') &&\n\t\t\twp.data.dispatch('core/edit-post')\n\t\t\t\t.__experimentalSetPreviewDeviceType\n\t\t) {\n\t\t\twp.data\n\t\t\t\t.dispatch('core/edit-post')\n\t\t\t\t.__experimentalSetPreviewDeviceType(\n\t\t\t\t\tdevice.replace(/\\w/, (c) => c.toUpperCase())\n\t\t\t\t)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (maybeGutenbergDevice) {\n\t\t\tsetInnerDevice(maybeGutenbergDevice.toLowerCase())\n\t\t}\n\t}, [maybeGutenbergDevice])\n\n\tuseEffect(() => {\n\t\tif (option.type !== 'ct-typography') {\n\t\t\tif (!isOptionResponsiveFor(option) && !option.markAsAutoFor) {\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tif (wp.customize) {\n\t\t\tsetTimeout(() => wp.customize.previewedDevice.bind(listener), 1000)\n\t\t}\n\n\t\tctEvents.on('ct:options:device:update', ctEventsListener)\n\n\t\tsetInnerDevice(getInitialDevice())\n\n\t\treturn () => {\n\t\t\tif (option.type !== 'ct-typography') {\n\t\t\t\tif (!isOptionResponsiveFor(option)) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (wp.customize) {\n\t\t\t\twp.customize.previewedDevice.unbind(listener)\n\t\t\t}\n\n\t\t\tctEvents.off('ct:options:device:update', ctEventsListener)\n\t\t}\n\t}, [])\n\n\tlet OptionComponent = getOptionFor(option)\n\tlet BeforeOptionContent = { content: null, option }\n\n\tctEvents.trigger('blocksy:options:before-option', BeforeOptionContent)\n\n\tconst globalResponsiveValue = maybePromoteScalarValueIntoResponsive(\n\t\toptionWithDefault({ value, option }),\n\t\tisOptionResponsiveFor(option)\n\t)\n\n\tconst valueWithResponsive = isOptionResponsiveFor(option, {\n\t\tignoreHidden: true,\n\t})\n\t\t? getValueForDevice({ option, value: globalResponsiveValue, device })\n\t\t: globalResponsiveValue\n\n\tconst onChangeWithMobileBridge = (value) => {\n\t\tif (option.triggerRefreshOnChange) {\n\t\t\twp.customize &&\n\t\t\t\twp.customize.previewer &&\n\t\t\t\twp.customize.previewer.refresh()\n\t\t}\n\n\t\tif (\n\t\t\toption.switchDeviceOnChange &&\n\t\t\twp.customize &&\n\t\t\twp.customize.previewedDevice() !== option.switchDeviceOnChange\n\t\t) {\n\t\t\twp.customize.previewedDevice.set(option.switchDeviceOnChange)\n\t\t}\n\n\t\tif (\n\t\t\toption.sync &&\n\t\t\t(Object.keys(option.sync).length > 0 ||\n\t\t\t\tArray.isArray(option.sync)) &&\n\t\t\twp.customize &&\n\t\t\twp.customize.previewer\n\t\t) {\n\t\t\twp.customize.previewer.send('ct:sync:refresh_partial', {\n\t\t\t\tid: option.sync.id || option.id,\n\t\t\t\toption,\n\t\t\t})\n\t\t}\n\n\t\tonChange(value)\n\t}\n\n\tconst onChangeWithResponsiveBridge = (scalarValue) => {\n\t\tconst responsiveValue = maybePromoteScalarValueIntoResponsive(\n\t\t\toptionWithDefault({ value, option }),\n\t\t\tisOptionResponsiveFor(option)\n\t\t)\n\n\t\tonChangeWithMobileBridge(\n\t\t\tisOptionResponsiveFor(option, { ignoreHidden: true })\n\t\t\t\t? {\n\t\t\t\t\t\t...responsiveValue,\n\t\t\t\t\t\t[device === 'tablet' &&\n\t\t\t\t\t\tisOptionEnabledFor('tablet', option.responsive) ===\n\t\t\t\t\t\t\t'skip'\n\t\t\t\t\t\t\t? 'mobile'\n\t\t\t\t\t\t\t: device]: scalarValue,\n\t\t\t\t\t\t...(device === 'desktop'\n\t\t\t\t\t\t\t? Object.keys(responsiveValue).reduce(\n\t\t\t\t\t\t\t\t\t(currentValue, key) => ({\n\t\t\t\t\t\t\t\t\t\t...currentValue,\n\t\t\t\t\t\t\t\t\t\t...(key !== 'desktop' &&\n\t\t\t\t\t\t\t\t\t\tkey !== '__changed' &&\n\t\t\t\t\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\t\t\t\t\tmaybePromoteScalarValueIntoResponsive(\n\t\t\t\t\t\t\t\t\t\t\t\toption.value\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t).reduce(\n\t\t\t\t\t\t\t\t\t\t\t(result, key) =>\n\t\t\t\t\t\t\t\t\t\t\t\tresult\n\t\t\t\t\t\t\t\t\t\t\t\t\t? maybePromoteScalarValueIntoResponsive(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toption.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )[key] ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t  maybePromoteScalarValueIntoResponsive(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toption.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t  ).desktop\n\t\t\t\t\t\t\t\t\t\t\t\t\t: false,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\tresponsiveValue.__changed || []\n\t\t\t\t\t\t\t\t\t\t).indexOf('tablet') === -1\n\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\t[key]: scalarValue,\n\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t...(device === 'tablet' &&\n\t\t\t\t\t\tisOptionEnabledFor('tablet', option.responsive) !==\n\t\t\t\t\t\t\t'skip'\n\t\t\t\t\t\t\t? Object.keys(responsiveValue).reduce(\n\t\t\t\t\t\t\t\t\t(currentValue, key) => ({\n\t\t\t\t\t\t\t\t\t\t...currentValue,\n\t\t\t\t\t\t\t\t\t\t...(key !== 'desktop' &&\n\t\t\t\t\t\t\t\t\t\tkey !== 'tablet' &&\n\t\t\t\t\t\t\t\t\t\tkey !== '__changed' &&\n\t\t\t\t\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\t\t\t\t\tmaybePromoteScalarValueIntoResponsive(\n\t\t\t\t\t\t\t\t\t\t\t\toption.value\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t).reduce(\n\t\t\t\t\t\t\t\t\t\t\t(result, key) =>\n\t\t\t\t\t\t\t\t\t\t\t\tresult\n\t\t\t\t\t\t\t\t\t\t\t\t\t? maybePromoteScalarValueIntoResponsive(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toption.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )[key] ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t  maybePromoteScalarValueIntoResponsive(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toption.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t  ).desktop\n\t\t\t\t\t\t\t\t\t\t\t\t\t: false,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\tresponsiveValue.__changed || []\n\t\t\t\t\t\t\t\t\t\t).indexOf(key) === -1\n\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\t[key]: scalarValue,\n\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t__changed: [\n\t\t\t\t\t\t\t...(responsiveValue.__changed || []),\n\t\t\t\t\t\t\t...(device !== 'desktop' ? [device] : []),\n\t\t\t\t\t\t].filter(\n\t\t\t\t\t\t\t(value, index, self) =>\n\t\t\t\t\t\t\t\tself.indexOf(value) === index\n\t\t\t\t\t\t),\n\t\t\t\t  }\n\t\t\t\t: scalarValue\n\t\t)\n\t}\n\n\t/**\n\t * Handle transparent components\n\t */\n\tif (!OptionComponent) {\n\t\treturn <div>Unimplemented option: {option.type}</div>\n\t}\n\n\tlet renderingConfig = { design: true, label: true, wrapperAttr: {} }\n\tlet LabelToolbar = () => null\n\tlet OptionMetaWrapper = null\n\tlet ControlEnd = () => null\n\tlet sectionClassName = () => ({})\n\n\trenderingConfig = {\n\t\t...renderingConfig,\n\t\t...(OptionComponent.renderingConfig || {}),\n\t}\n\n\tif (option.design) {\n\t\trenderingConfig.design = option.design\n\t}\n\n\tif (typeof renderingConfig.design === 'function') {\n\t\trenderingConfig.design = renderingConfig.design({\n\t\t\toption,\n\t\t\tvalue: valueWithResponsive,\n\t\t})\n\t}\n\n\tif (OptionComponent.LabelToolbar) {\n\t\tLabelToolbar = OptionComponent.LabelToolbar\n\t}\n\n\tif (OptionComponent.ControlEnd) {\n\t\tControlEnd = OptionComponent.ControlEnd\n\t}\n\n\tif (OptionComponent.MetaWrapper) {\n\t\tOptionMetaWrapper = OptionComponent.MetaWrapper\n\t}\n\n\tif (OptionComponent.sectionClassName) {\n\t\tsectionClassName = OptionComponent.sectionClassName\n\t}\n\n\tlet OptionComponentWithoutDesign = (\n\t\t<Fragment>\n\t\t\t{BeforeOptionContent && BeforeOptionContent.content}\n\t\t\t<OptionComponent\n\t\t\t\tkey={id}\n\t\t\t\tref={(c) => {\n\t\t\t\t\tif (c) {\n\t\t\t\t\t\tchildComponentRef.current = c\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\t{...{\n\t\t\t\t\toption: {\n\t\t\t\t\t\t...option,\n\t\t\t\t\t\tvalue: isOptionResponsiveFor(option, {\n\t\t\t\t\t\t\tignoreHidden: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t? getValueForDevice({\n\t\t\t\t\t\t\t\t\tdevice,\n\t\t\t\t\t\t\t\t\toption,\n\t\t\t\t\t\t\t\t\tvalue: maybePromoteScalarValueIntoResponsive(\n\t\t\t\t\t\t\t\t\t\toption.value || ''\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t: maybePromoteScalarValueIntoResponsive(\n\t\t\t\t\t\t\t\t\toption.value || '',\n\t\t\t\t\t\t\t\t\tisOptionResponsiveFor(option)\n\t\t\t\t\t\t\t  ),\n\t\t\t\t\t},\n\t\t\t\t\tvalue: valueWithResponsive,\n\t\t\t\t\tid,\n\t\t\t\t\tvalues,\n\t\t\t\t\tonChangeFor,\n\t\t\t\t\tdevice,\n\t\t\t\t\tonChange: onChangeWithResponsiveBridge,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Fragment>\n\t)\n\n\tif (!renderingConfig.design || renderingConfig.design === 'none') {\n\t\treturn OptionComponentWithoutDesign\n\t}\n\n\tlet maybeLabel = getOptionLabelFor({\n\t\tid,\n\t\toption,\n\t\tvalues,\n\t\trenderingConfig,\n\t})\n\n\tlet maybeDesc =\n\t\tObject.keys(option).indexOf('desc') === -1 ? false : option.desc\n\n\tlet maybeLink =\n\t\tObject.keys(option).indexOf('link') === -1 ? false : option.link || ' '\n\n\tconst actualDesignType =\n\t\ttypeof renderingConfig.design === 'boolean'\n\t\t\t? 'block'\n\t\t\t: renderingConfig.design\n\n\tif (renderingConfig.design === 'compact') {\n\t\treturn (\n\t\t\t<section {...(option.sectionAttr || {})}>\n\t\t\t\t{maybeLabel && <label>{maybeLabel}</label>}\n\n\t\t\t\t{((isOptionResponsiveFor(option) &&\n\t\t\t\t\tisOptionEnabledFor(device, option.responsive)) ||\n\t\t\t\t\t!isOptionResponsiveFor(option)) &&\n\t\t\t\t\tOptionComponentWithoutDesign}\n\t\t\t\t{maybeLink && (\n\t\t\t\t\t<a\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: maybeLink,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t{...(option.linkAttr || {})}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</section>\n\t\t)\n\t}\n\n\tconst getActualOption = ({\n\t\twrapperAttr: { className, ...additionalWrapperAttr } = {},\n\t\t...props\n\t} = {}) => {\n\t\tconst { className: optionClassName, ...optionAdditionalWrapperAttr } =\n\t\t\toption.wrapperAttr || {}\n\n\t\tlet computeOptionValue = renderingConfig.computeOptionValue\n\n\t\tif (!computeOptionValue) {\n\t\t\tcomputeOptionValue = (o) => o\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t'ct-control',\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\toptionClassName,\n\t\t\t\t\t\t{}\n\t\t\t\t\t)}\n\t\t\t\t\tdata-design={actualDesignType}\n\t\t\t\t\t{...(option.divider\n\t\t\t\t\t\t? { 'data-divider': option.divider }\n\t\t\t\t\t\t: {})}\n\t\t\t\t\t{...{\n\t\t\t\t\t\t...((isOptionResponsiveFor(option) &&\n\t\t\t\t\t\t\t!isOptionEnabledFor(device, option.responsive)) ||\n\t\t\t\t\t\toption.state === 'disabled'\n\t\t\t\t\t\t\t? { 'data-state': 'disabled' }\n\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t}}\n\t\t\t\t\t{...{\n\t\t\t\t\t\t...optionAdditionalWrapperAttr,\n\t\t\t\t\t\t...additionalWrapperAttr,\n\t\t\t\t\t}}>\n\t\t\t\t\t<header>\n\t\t\t\t\t\t{maybeLabel && <label>{maybeLabel}</label>}\n\n\t\t\t\t\t\t{option.type !== 'ct-image-picker' &&\n\t\t\t\t\t\t\toption.type !== 'ct-layers' &&\n\t\t\t\t\t\t\toption.type !== 'ct-image-uploader' &&\n\t\t\t\t\t\t\toption.type !== 'ct-panel' &&\n\t\t\t\t\t\t\thasRevertButton &&\n\t\t\t\t\t\t\t!option.disableRevertButton && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tdisabled={deepEqual(\n\t\t\t\t\t\t\t\t\t\tcomputeOptionValue(option.value),\n\t\t\t\t\t\t\t\t\t\trenderingConfig.getValueForRevert\n\t\t\t\t\t\t\t\t\t\t\t? renderingConfig.getValueForRevert(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toption,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdevice,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: optionWithDefault({\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\t\toption,\n\t\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tclassName=\"ct-revert\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tchildComponentRef &&\n\t\t\t\t\t\t\t\t\t\t\tchildComponentRef.current\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tchildComponentRef.current.handleOptionRevert()\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (renderingConfig.performRevert) {\n\t\t\t\t\t\t\t\t\t\t\trenderingConfig.performRevert({\n\t\t\t\t\t\t\t\t\t\t\t\tonChangeFor,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tonChangeWithMobileBridge(option.value)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<LabelToolbar\n\t\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\t\toption,\n\t\t\t\t\t\t\t\tvalue: valueWithResponsive,\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tonChange: onChangeWithResponsiveBridge,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{isOptionResponsiveFor(option, {\n\t\t\t\t\t\t\tignoreHidden: true,\n\t\t\t\t\t\t}) &&\n\t\t\t\t\t\t\tactualDesignType.indexOf('block') > -1 &&\n\t\t\t\t\t\t\t!option.skipResponsiveControls && (\n\t\t\t\t\t\t\t\t<ResponsiveControls\n\t\t\t\t\t\t\t\t\tdevice={device}\n\t\t\t\t\t\t\t\t\tresponsiveDescriptor={option.responsive}\n\t\t\t\t\t\t\t\t\tsetDevice={setDevice}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t</header>\n\n\t\t\t\t\t{isOptionResponsiveFor(option) &&\n\t\t\t\t\t\t!isOptionEnabledFor(device, option.responsive) && (\n\t\t\t\t\t\t\t<div className=\"ct-disabled-notification\">\n\t\t\t\t\t\t\t\t{option.disabledDeviceMessage ||\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\"Option can't be edited for current device\",\n\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t{((isOptionResponsiveFor(option) &&\n\t\t\t\t\t\tisOptionEnabledFor(device, option.responsive)) ||\n\t\t\t\t\t\t!isOptionResponsiveFor(option)) && (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<section\n\t\t\t\t\t\t\t\t{...(option.sectionAttr || {})}\n\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'ct-responsive-container':\n\t\t\t\t\t\t\t\t\t\t\tisOptionResponsiveFor(option, {\n\t\t\t\t\t\t\t\t\t\t\t\tignoreHidden: true,\n\t\t\t\t\t\t\t\t\t\t\t}) && actualDesignType === 'inline',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsectionClassName({\n\t\t\t\t\t\t\t\t\t\tdesign: actualDesignType,\n\t\t\t\t\t\t\t\t\t\toption,\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t(option.sectionAttr || {}).class || ''\n\t\t\t\t\t\t\t\t)}>\n\t\t\t\t\t\t\t\t{isOptionResponsiveFor(option, {\n\t\t\t\t\t\t\t\t\tignoreHidden: true,\n\t\t\t\t\t\t\t\t}) &&\n\t\t\t\t\t\t\t\t\tactualDesignType === 'inline' && (\n\t\t\t\t\t\t\t\t\t\t<ResponsiveControls\n\t\t\t\t\t\t\t\t\t\t\tdevice={device}\n\t\t\t\t\t\t\t\t\t\t\tresponsiveDescriptor={\n\t\t\t\t\t\t\t\t\t\t\t\toption.responsive\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsetDevice={setDevice}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{OptionComponentWithoutDesign}\n\n\t\t\t\t\t\t\t\t{maybeLink && (\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: maybeLink,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t{...(option.linkAttr || {})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</section>\n\n\t\t\t\t\t\t\t<ControlEnd />\n\n\t\t\t\t\t\t\t{maybeDesc && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: maybeDesc,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName=\"ct-option-description\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\treturn OptionMetaWrapper ? (\n\t\t<OptionMetaWrapper\n\t\t\tid={id}\n\t\t\toption={option}\n\t\t\tvalue={valueWithResponsive}\n\t\t\tonChangeFor={onChangeFor}\n\t\t\tvalues={values}\n\t\t\tgetActualOption={getActualOption}\n\t\t/>\n\t) : (\n\t\tgetActualOption()\n\t)\n}\n\nexport default GenericOptionType\n","import { useMemo, useReducer } from '@wordpress/element'\n\nconst reducer = (state, _) => !state\n\nconst useForceUpdate = () => {\n\tconst [, dispatch] = useReducer(reducer, true)\n\n\tconst memoizedDispatch = useMemo(\n\t\t() => () => {\n\t\t\tdispatch(null)\n\t\t},\n\t\t[dispatch]\n\t)\n\n\treturn memoizedDispatch\n}\n\nexport default useForceUpdate\n","import { createElement, useMemo, useEffect } from '@wordpress/element'\nimport OptionsPanel from '../OptionsPanel'\nimport { normalizeCondition, matchValuesWithCondition } from 'match-conditions'\nimport { useDeviceManagerState } from '../../customizer/components/useDeviceManager'\n\nimport useForceUpdate from './use-force-update'\n\nconst Condition = ({\n\trenderingChunk,\n\tvalue,\n\tonChange,\n\tpurpose,\n\tparentValue,\n\thasRevertButton,\n}) => {\n\tconst forceUpdate = useForceUpdate()\n\tconst { currentView } = useDeviceManagerState()\n\n\tuseEffect(() => {\n\t\trenderingChunk.map(\n\t\t\t(conditionOption) =>\n\t\t\t\tconditionOption.global &&\n\t\t\t\tObject.keys(conditionOption.condition).map((key) =>\n\t\t\t\t\twp.customize(key, (val) =>\n\t\t\t\t\t\tval.bind((to) => setTimeout(() => forceUpdate()))\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t)\n\t}, [])\n\n\treturn renderingChunk.map((conditionOption) => {\n\t\tlet valueForCondition = null\n\n\t\tif (conditionOption.values_source === 'global') {\n\t\t\tlet allReplaces = Array.isArray(conditionOption.perform_replace)\n\t\t\t\t? conditionOption.perform_replace\n\t\t\t\t: [conditionOption.perform_replace]\n\n\t\t\tlet conditionToWatch = {\n\t\t\t\t...conditionOption.condition,\n\t\t\t\t...(conditionOption.perform_replace\n\t\t\t\t\t? (Array.isArray(conditionOption.perform_replace)\n\t\t\t\t\t\t\t? conditionOption.perform_replace\n\t\t\t\t\t\t\t: [conditionOption.perform_replace]\n\t\t\t\t\t  ).reduce((res, singleReplace) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...res,\n\t\t\t\t\t\t\t\t...conditionOption.perform_replace.condition,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t  }, {})\n\t\t\t\t\t: {}),\n\t\t\t}\n\n\t\t\tvalueForCondition = Object.keys(conditionToWatch).reduce(\n\t\t\t\t(current, key) => ({\n\t\t\t\t\t...current,\n\t\t\t\t\t[key]: wp.customize(key)(),\n\t\t\t\t}),\n\t\t\t\t{}\n\t\t\t)\n\t\t}\n\n\t\tif (conditionOption.values_source === 'parent') {\n\t\t\tvalueForCondition = parentValue\n\t\t}\n\n\t\tif (!valueForCondition) {\n\t\t\tvalueForCondition = {\n\t\t\t\t...value,\n\t\t\t\twp_customizer_current_view: currentView,\n\t\t\t}\n\t\t}\n\n\t\tif (conditionOption.perform_replace) {\n\t\t\tlet allReplaces = Array.isArray(conditionOption.perform_replace)\n\t\t\t\t? conditionOption.perform_replace\n\t\t\t\t: [conditionOption.perform_replace]\n\n\t\t\tallReplaces.map((singleReplace) => {\n\t\t\t\tlet conditionReplaceMatches = matchValuesWithCondition(\n\t\t\t\t\tnormalizeCondition(singleReplace.condition),\n\t\t\t\t\tvalueForCondition\n\t\t\t\t)\n\n\t\t\t\tif (\n\t\t\t\t\tconditionReplaceMatches &&\n\t\t\t\t\tvalueForCondition[singleReplace.key] &&\n\t\t\t\t\tvalueForCondition[singleReplace.key] === singleReplace.from\n\t\t\t\t) {\n\t\t\t\t\tvalueForCondition[singleReplace.key] = singleReplace.to\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tlet conditionMatches = matchValuesWithCondition(\n\t\t\tnormalizeCondition(conditionOption.condition),\n\t\t\tvalueForCondition\n\t\t)\n\n\t\treturn conditionMatches ? (\n\t\t\t<OptionsPanel\n\t\t\t\tpurpose={purpose}\n\t\t\t\tkey={conditionOption.id}\n\t\t\t\tonChange={onChange}\n\t\t\t\toptions={conditionOption.options}\n\t\t\t\tvalue={value}\n\t\t\t\thasRevertButton={hasRevertButton}\n\t\t\t\tparentValue={parentValue}\n\t\t\t/>\n\t\t) : (\n\t\t\t[]\n\t\t)\n\t})\n}\n\nexport default Condition\n","import { createElement, Fragment, Component } from '@wordpress/element'\nimport OptionsPanel from '../OptionsPanel'\nimport classnames from 'classnames'\nimport { normalizeCondition, matchValuesWithCondition } from 'match-conditions'\n\nexport default class Tabs extends Component {\n\tstate = {\n\t\tcurrentTab: 0\n\t}\n\n\trender() {\n\t\tconst filteredTabs = this.props.renderingChunk.filter(\n\t\t\tsingleTab =>\n\t\t\t\t!singleTab.condition ||\n\t\t\t\tmatchValuesWithCondition(\n\t\t\t\t\tnormalizeCondition(singleTab.condition),\n\t\t\t\t\tthis.props.value\n\t\t\t\t)\n\t\t)\n\n\t\tconst currentTab = filteredTabs[this.state.currentTab]\n\n\t\treturn (\n\t\t\t<div className=\"ct-tabs\">\n\t\t\t\t<ul>\n\t\t\t\t\t{filteredTabs\n\t\t\t\t\t\t.map((singleTab, index) => ({ singleTab, index }))\n\t\t\t\t\t\t.map(({ singleTab, index }) => (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={singleTab.id}\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tthis.setState({ currentTab: index })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\tactive: index === this.state.currentTab\n\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t{singleTab.title\n\t\t\t\t\t\t\t\t\t? singleTab.title\n\t\t\t\t\t\t\t\t\t: singleTab.id}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t</ul>\n\n\t\t\t\t<div className=\"ct-current-tab\">\n\t\t\t\t\t<OptionsPanel\n\t\t\t\t\t\tpurpose={this.props.purpose}\n\t\t\t\t\t\tkey={currentTab.id}\n\t\t\t\t\t\tonChange={(key, val) => this.props.onChange(key, val)}\n\t\t\t\t\t\toptions={currentTab.options}\n\t\t\t\t\t\tvalue={this.props.value}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n/*\nconst Condition = ({ renderingChunk, value, onChange }) =>\n\trenderingChunk.map(\n\t\tconditionOption =>\n\t\t\tmatchValuesWithCondition(\n\t\t\t\tnormalizeCondition(conditionOption.condition),\n\t\t\t\tvalue\n\t\t\t) ? (\n\t\t\t\t<OptionsPanel\n\t\t\t\t\tkey={conditionOption.id}\n\t\t\t\t\tonChange={val => onChange({ ...value, ...val })}\n\t\t\t\t\toptions={conditionOption.options}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t[]\n\t\t\t)\n\t)\n\nexport default Condition\n\n*/\n","import { createElement, Fragment } from '@wordpress/element'\nimport OptionsPanel from '../OptionsPanel'\nimport { capitalizeFirstLetter } from '../GenericOptionType'\n\nimport {\n\tuseDeviceManagerState,\n\tuseDeviceManagerActions,\n} from '../../customizer/components/useDeviceManager'\nimport ResponsiveControls from '../../customizer/components/responsive-controls'\n\nconst Group = ({ renderingChunk, value, onChange, purpose, hasRevertButton }) =>\n\trenderingChunk.map((groupOption) => {\n\t\tconst {\n\t\t\tlabel,\n\t\t\toptions,\n\t\t\tid,\n\t\t\tattr = {},\n\t\t\twrapperAttr = {},\n\t\t\tresponsive = false,\n\t\t} = groupOption\n\t\tconst { currentView } = useDeviceManagerState()\n\t\tconst { setDevice } = useDeviceManagerActions()\n\n\t\tconst groupContents = (\n\t\t\t<OptionsPanel\n\t\t\t\tpurpose={purpose}\n\t\t\t\tonChange={onChange}\n\t\t\t\toptions={options}\n\t\t\t\tvalue={value}\n\t\t\t\thasRevertButton={hasRevertButton}\n\t\t\t/>\n\t\t)\n\n\t\treturn (\n\t\t\t<div key={id} className=\"ct-controls-group\" {...wrapperAttr}>\n\t\t\t\t{label && (\n\t\t\t\t\t<header>\n\t\t\t\t\t\t<label>{label}</label>\n\n\t\t\t\t\t\t{responsive && (\n\t\t\t\t\t\t\t<ResponsiveControls\n\t\t\t\t\t\t\t\tdevice={currentView}\n\t\t\t\t\t\t\t\tresponsiveDescriptor={responsive}\n\t\t\t\t\t\t\t\tsetDevice={setDevice}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</header>\n\t\t\t\t)}\n\t\t\t\t<section\n\t\t\t\t\t{...attr}\n\t\t\t\t\t{...(currentView !== 'desktop'\n\t\t\t\t\t\t? { 'data-disabled-last': '' }\n\t\t\t\t\t\t: {})}>\n\t\t\t\t\t{groupContents}\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t)\n\t})\n\nexport default Group\n","import {\n\tcreateElement,\n\tuseMemo,\n\tuseRef,\n\tuseEffect,\n\tuseContext,\n} from '@wordpress/element'\nimport OptionsPanel from '../OptionsPanel'\nimport { normalizeCondition, matchValuesWithCondition } from 'match-conditions'\nimport {\n\tuseDeviceManagerState,\n\tuseDeviceManagerActions,\n} from '../../customizer/components/useDeviceManager'\nimport { capitalizeFirstLetter, optionWithDefault } from '../GenericOptionType'\nimport deepEqual from 'deep-equal'\n\nimport ResponsiveControls from '../../customizer/components/responsive-controls'\n\nimport { getOptionLabelFor } from '../helpers/get-label'\n\nconst SingleChoice = ({\n\tsingleChoice,\n\tgroupOption,\n\tpurpose,\n\tonChange,\n\tvalue,\n\thasRevertButton,\n\tparentValue,\n}) => {\n\treturn (\n\t\t<div key={singleChoice.id} className=\"ct-labeled-group-item\">\n\t\t\t{singleChoice.label && <label>{singleChoice.label}</label>}\n\n\t\t\t<OptionsPanel\n\t\t\t\tpurpose={purpose}\n\t\t\t\tkey={groupOption.id}\n\t\t\t\tonChange={onChange}\n\t\t\t\toptions={{\n\t\t\t\t\t[singleChoice.id]: {\n\t\t\t\t\t\t...groupOption.options[singleChoice.id],\n\t\t\t\t\t\tdesign: 'none',\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tvalue={value}\n\t\t\t\thasRevertButton={hasRevertButton}\n\t\t\t\tparentValue={parentValue}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nconst LabeledGroup = ({\n\trenderingChunk,\n\tvalue,\n\tonChange,\n\tpurpose,\n\tparentValue,\n\thasRevertButton,\n}) => {\n\tconst { currentView } = useDeviceManagerState()\n\tconst { setDevice } = useDeviceManagerActions()\n\n\treturn renderingChunk.map((groupOption) => {\n\t\tlet valueForCondition = null\n\n\t\tif (!valueForCondition) {\n\t\t\tvalueForCondition = {\n\t\t\t\t...value,\n\t\t\t\twp_customizer_current_view: currentView,\n\t\t\t}\n\t\t}\n\n\t\tconst totalAmountofMatched = groupOption.choices.filter(\n\t\t\t(singleChoice) =>\n\t\t\t\tsingleChoice.condition\n\t\t\t\t\t? matchValuesWithCondition(\n\t\t\t\t\t\t\tnormalizeCondition(singleChoice.condition),\n\t\t\t\t\t\t\tvalueForCondition\n\t\t\t\t\t  )\n\t\t\t\t\t: true\n\t\t)\n\n\t\tlet maybeLabel = getOptionLabelFor({\n\t\t\tid: groupOption.id,\n\t\t\toption: groupOption,\n\t\t\tvalues: value,\n\t\t})\n\n\t\tif (totalAmountofMatched.length === 0) {\n\t\t\treturn null\n\t\t}\n\n\t\tif (totalAmountofMatched.length === 1) {\n\t\t\treturn (\n\t\t\t\t<OptionsPanel\n\t\t\t\t\tpurpose={purpose}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tkey={groupOption.id}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\t[groupOption.choices[0].id]: {\n\t\t\t\t\t\t\t...groupOption.options[groupOption.choices[0].id],\n\n\t\t\t\t\t\t\t...(groupOption.divider\n\t\t\t\t\t\t\t\t? { divider: groupOption.divider }\n\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\thasRevertButton={hasRevertButton}\n\t\t\t\t\tparentValue={parentValue}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ct-control\"\n\t\t\t\tdata-design=\"block\"\n\t\t\t\t{...(groupOption.divider\n\t\t\t\t\t? { 'data-divider': groupOption.divider }\n\t\t\t\t\t: {})}>\n\t\t\t\t<header>\n\t\t\t\t\t{maybeLabel && <label>{maybeLabel}</label>}\n\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={groupOption.choices.every(({ id }) =>\n\t\t\t\t\t\t\tdeepEqual(\n\t\t\t\t\t\t\t\tgroupOption.options[id].value,\n\t\t\t\t\t\t\t\toptionWithDefault({\n\t\t\t\t\t\t\t\t\tvalue: value[id],\n\t\t\t\t\t\t\t\t\toption: groupOption.options[id],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tclassName=\"ct-revert\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgroupOption.choices.reduce(\n\t\t\t\t\t\t\t\t(previousPromise, nextChoice) => {\n\t\t\t\t\t\t\t\t\treturn previousPromise.then(() => {\n\t\t\t\t\t\t\t\t\t\treturn new Promise((r) => {\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\tnextChoice.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\tgroupOption.options[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnextChoice.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t].value\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\tr()\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tPromise.resolve()\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{groupOption.responsive && (\n\t\t\t\t\t\t<ResponsiveControls\n\t\t\t\t\t\t\tdevice={currentView}\n\t\t\t\t\t\t\tresponsiveDescriptor={groupOption.responsive}\n\t\t\t\t\t\t\tsetDevice={setDevice}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</header>\n\t\t\t\t<section className=\"ct-labeled-group\">\n\t\t\t\t\t{totalAmountofMatched.map((singleChoice) => (\n\t\t\t\t\t\t<SingleChoice\n\t\t\t\t\t\t\tkey={singleChoice.id}\n\t\t\t\t\t\t\tsingleChoice={singleChoice}\n\t\t\t\t\t\t\tgroupOption={groupOption}\n\t\t\t\t\t\t\tpurpose={purpose}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\thasRevertButton={hasRevertButton}\n\t\t\t\t\t\t\tparentValue={parentValue}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t)\n\t})\n}\n\nexport default LabeledGroup\n","import { createElement, Fragment } from '@wordpress/element'\nimport OptionsPanel from '../OptionsPanel'\n\nconst Group = ({ renderingChunk, value, onChange, purpose, hasRevertButton }) =>\n\trenderingChunk.map((conditionOption) => {\n\t\tconst {\n\t\t\tlabel,\n\t\t\toptions,\n\t\t\tid,\n\t\t\tattr = {},\n\t\t\tresponsive = false,\n\t\t\toptionId,\n\t\t} = conditionOption\n\n\t\tif (\n\t\t\tvalue[optionId].find(\n\t\t\t\t({ id, enabled, meta_elements }) =>\n\t\t\t\t\tenabled &&\n\t\t\t\t\t(id === 'post_meta' || id === 'custom_meta') &&\n\t\t\t\t\t(meta_elements || []).find(\n\t\t\t\t\t\t({ id, style }) =>\n\t\t\t\t\t\t\t(id === 'categories' || id === 'tags') &&\n\t\t\t\t\t\t\tstyle === 'pill'\n\t\t\t\t\t)\n\t\t\t)\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<OptionsPanel\n\t\t\t\t\tpurpose={purpose}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\toptions={options}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\thasRevertButton={hasRevertButton}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn null\n\t})\n\nexport default Group\n","import { createElement, Fragment } from '@wordpress/element'\nimport Condition from './containers/Condition'\nimport Tabs from './containers/Tabs'\nimport Group from './containers/Group'\nimport LabeledGroup from './containers/LabeledGroup'\nimport HasMetaCategoryButton from './containers/ct-has-meta-category-button'\n\nconst GenericContainerType = ({\n\tvalue,\n\trenderingChunk,\n\tonChange,\n\tparentValue,\n\tpurpose,\n\thasRevertButton,\n}) => {\n\tlet Container = null\n\n\tif (renderingChunk[0].type === 'ct-has-meta-category-button') {\n\t\tContainer = HasMetaCategoryButton\n\t}\n\n\tif (renderingChunk[0].type === 'ct-condition') {\n\t\tContainer = Condition\n\t}\n\n\tif (renderingChunk[0].type === 'tab') {\n\t\tContainer = Tabs\n\t}\n\n\tif (renderingChunk[0].type === 'ct-group') {\n\t\tContainer = Group\n\t}\n\n\tif (renderingChunk[0].type === 'ct-labeled-group') {\n\t\tContainer = LabeledGroup\n\t}\n\n\tif (Container) {\n\t\treturn (\n\t\t\t<Container\n\t\t\t\tpurpose={purpose}\n\t\t\t\tonChange={onChange}\n\t\t\t\tvalue={value}\n\t\t\t\trenderingChunk={renderingChunk}\n\t\t\t\thasRevertButton={hasRevertButton}\n\t\t\t\tparentValue={parentValue}\n\t\t\t/>\n\t\t)\n\t}\n\n\treturn <div>Unknown container type.</div>\n}\n\nexport default GenericContainerType\n","import {\n\tcreateElement,\n\tComponent,\n\tFragment,\n\tmemo,\n\tuseMemo,\n} from '@wordpress/element'\nimport GenericOptionType from './GenericOptionType'\nimport GenericContainerType from './GenericContainerType'\nimport { flattenOptions } from './helpers/get-value-from-input'\n\nconst OptionsPanel = (props) => {\n\tlet {\n\t\toptions,\n\t\tvalue,\n\t\tonChange, // default | customizer\n\t\tpurpose = 'default',\n\t\thasRevertButton = true,\n\t\trenderOptions = null,\n\t\tparentValue,\n\t} = props\n\n\tif (renderOptions) {\n\t\treturn renderOptions({\n\t\t\tvalue,\n\t\t\tonChange,\n\t\t})\n\t}\n\n\tlet SlotFillProvider = null\n\n\tif (window.wp.components) {\n\t\tSlotFillProvider = window.wp.components.SlotFillProvider\n\t}\n\n\tconst renderingChunks = useMemo(() => {\n\t\tconst localOptions = flattenOptions(options)\n\n\t\treturn [\n\t\t\t...(localOptions.__CT_KEYS_ORDER__\n\t\t\t\t? Object.keys(localOptions.__CT_KEYS_ORDER__)\n\t\t\t\t\t\t.map((orderKey) => parseInt(orderKey, 10))\n\t\t\t\t\t\t.sort((a, b) => a - b)\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t(orderKey) =>\n\t\t\t\t\t\t\t\tlocalOptions.__CT_KEYS_ORDER__[orderKey]\n\t\t\t\t\t\t)\n\t\t\t\t: Object.keys(localOptions)),\n\t\t]\n\t\t\t.filter((id) => id !== '__CT_KEYS_ORDER__')\n\t\t\t.map((id) => ({\n\t\t\t\t...localOptions[id],\n\t\t\t\tid,\n\t\t\t}))\n\t\t\t.reduce((chunksHolder, currentOptionDescriptor, index) => {\n\t\t\t\tif (chunksHolder.length === 0) {\n\t\t\t\t\treturn [[currentOptionDescriptor]]\n\t\t\t\t}\n\n\t\t\t\tlet lastChunk = chunksHolder[chunksHolder.length - 1]\n\n\t\t\t\tif (\n\t\t\t\t\t((lastChunk[0].options &&\n\t\t\t\t\t\tlastChunk[0].type === currentOptionDescriptor.type) ||\n\t\t\t\t\t\tcurrentOptionDescriptor.type === 'ct-tab-group' ||\n\t\t\t\t\t\tcurrentOptionDescriptor.type === 'ct-tab-group-sync') &&\n\t\t\t\t\t/**\n\t\t\t\t\t * Do not group rendering chunks for boxes\n\t\t\t\t\t */\n\t\t\t\t\tcurrentOptionDescriptor.type !== 'box' &&\n\t\t\t\t\t/**\n\t\t\t\t\t * Do not group rendering chunks for ct-popup's\n\t\t\t\t\t */\n\t\t\t\t\tcurrentOptionDescriptor.type !== 'ct-popup'\n\t\t\t\t) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...chunksHolder.slice(0, -1),\n\t\t\t\t\t\t[...lastChunk, currentOptionDescriptor],\n\t\t\t\t\t]\n\t\t\t\t}\n\n\t\t\t\treturn [...chunksHolder, [currentOptionDescriptor]]\n\t\t\t}, [])\n\t}, [options])\n\n\tlet finalResult = renderingChunks.map((renderingChunk) => {\n\t\t/**\n\t\t * We are dealing with a container\n\t\t */\n\t\tif (\n\t\t\trenderingChunk[0].options ||\n\t\t\trenderingChunk[0].type === 'ct-tab-group-sync'\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<GenericContainerType\n\t\t\t\t\tkey={renderingChunk[0].id}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tparentValue={parentValue}\n\t\t\t\t\trenderingChunk={renderingChunk}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tpurpose={purpose}\n\t\t\t\t\thasRevertButton={hasRevertButton}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * We have a regular option type here\n\t\t */\n\t\treturn (\n\t\t\t<GenericOptionType\n\t\t\t\thasRevertButton={hasRevertButton}\n\t\t\t\tpurpose={purpose}\n\t\t\t\tkey={renderingChunk[0].id}\n\t\t\t\tid={renderingChunk[0].id}\n\t\t\t\tvalue={value[renderingChunk[0].id]}\n\t\t\t\tvalues={value}\n\t\t\t\toption={renderingChunk[0]}\n\t\t\t\tonChangeFor={(id, newValue) => onChange(id, newValue)}\n\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\tonChange(renderingChunk[0].id, newValue)\n\t\t\t\t}\n\t\t\t/>\n\t\t)\n\t})\n\n\treturn window.wp.components ? (\n\t\t<SlotFillProvider>{finalResult}</SlotFillProvider>\n\t) : (\n\t\tfinalResult\n\t)\n}\n\nexport default OptionsPanel\n","import { createElement, Component } from '@wordpress/element'\nimport _ from 'underscore'\nimport { __ } from 'ct-i18n'\nimport cls from 'classnames'\n\nconst InputWithOnlyNumbers = ({\n\tdisabled,\n\tclassName = '',\n\tvalue,\n\tonBlur,\n\tonChange,\n\tstep = 1,\n\tplaceholder = __('Default', 'blocksy'),\n}) => (\n\t<input\n\t\ttype=\"text\"\n\t\tvalue={value}\n\t\tonKeyDown={(e) => {\n\t\t\t// Allow: backspace, delete, tab, escape, enter and.\n\t\t\tif (\n\t\t\t\t// Allow Esc\n\t\t\t\t[46, 8, 9, 27, 13, 110, 190, 27].indexOf(e.keyCode) > -1 ||\n\t\t\t\t// Allow: Ctrl+A.\n\t\t\t\t(e.keyCode == 65 && e.ctrlKey === true) ||\n\t\t\t\t// Allow -.\n\t\t\t\te.keyCode == 109 ||\n\t\t\t\te.keyCode == 189 ||\n\t\t\t\te.keyCode == 173 ||\n\t\t\t\t// Allow: Ctrl+C.\n\t\t\t\t(e.keyCode == 67 && e.ctrlKey === true) ||\n\t\t\t\t// Allow: Ctrl+X.\n\t\t\t\t(e.keyCode == 88 && e.ctrlKey === true) ||\n\t\t\t\t// Allow: home, end, left, right.\n\t\t\t\t(e.keyCode >= 35 &&\n\t\t\t\t\te.keyCode <= 39 &&\n\t\t\t\t\te.keyCode !== 38 &&\n\t\t\t\t\te.keyCode !== 40)\n\t\t\t) {\n\t\t\t\t// Let it happen, don't do anything.\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tlet valueForComputation = '__unset__'\n\n\t\t\tif (value.toString().trim().length === 0) {\n\t\t\t\tvalueForComputation = 0\n\t\t\t} else {\n\t\t\t\tlet maybeValue = parseFloat(value)\n\n\t\t\t\tif (maybeValue || maybeValue === 0) {\n\t\t\t\t\tvalueForComputation = maybeValue\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet actualStep = e.shiftKey ? step * 10 : step\n\n\t\t\t/**\n\t\t\t * Arrow up\n\t\t\t */\n\t\t\tif (e.keyCode === 38 && value !== '__unset__') {\n\t\t\t\tonChange(valueForComputation + actualStep, true)\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Arrow down\n\t\t\t */\n\t\t\tif (e.keyCode === 40 && value !== '__unset__') {\n\t\t\t\tonChange(valueForComputation - actualStep, true)\n\t\t\t}\n\n\t\t\t// Ensure that it is a number and stop the keypress.\n\t\t\tif (\n\t\t\t\t(e.shiftKey || e.keyCode < 48 || e.keyCode > 57) &&\n\t\t\t\t(e.keyCode < 96 || e.keyCode > 105)\n\t\t\t) {\n\t\t\t\te.preventDefault()\n\t\t\t}\n\t\t}}\n\t\tonChange={({ target: { value } }) => onChange(value)}\n\t\tplaceholder={placeholder}\n\t\tonBlur={() => onBlur && onBlur}\n\t\tclassName={cls({\n\t\t\tinactive: value === 'auto',\n\t\t})}\n\t/>\n)\n\nexport default InputWithOnlyNumbers\n","import ctEvents from 'ct-events'\n\nlet deepLinkLocation = null\n\nexport const getDeepLinkPanel = () =>\n\tdeepLinkLocation ? deepLinkLocation.split(':')[1] : false\nexport const removeDeepLink = () => (deepLinkLocation = null)\n\nif (wp.customize) {\n\twp.customize.bind('ready', () => {\n\t\twp.customize.previewer.bind('ct-initiate-deep-link', (location) => {\n\t\t\tconst [section, panel] = location.split(':')\n\t\t\tconst expanded = Object.values(\n\t\t\t\twp.customize.section._value\n\t\t\t).find((e) => e.expanded())\n\n\t\t\tif (!expanded || expanded.id !== section) {\n\t\t\t\tdeepLinkLocation = location\n\t\t\t\twp.customize.section(section).expand()\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tctEvents.trigger('ct-deep-link-start', location)\n\t\t})\n\t})\n}\n","import {\n\tFragment,\n\tcreateElement,\n\tcreateContext,\n\tuseEffect,\n\tcreatePortal,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n\tuseReducer,\n\tuseCallback,\n} from '@wordpress/element'\nimport {\n\tgetDeepLinkPanel,\n\tremoveDeepLink,\n} from '../../customizer/preview-events'\nimport ctEvents from 'ct-events'\n\nexport const PanelContext = createContext({\n\ttitlePrefix: '',\n\tisOpen: false,\n\tisTransitioning: false,\n\n\tpreviousPanel: false,\n\n\tcurrentLevel: 1,\n\n\tsecondLevelTitlePrefix: '',\n\tsecondLevelTitleLabel: '',\n})\n\nconst panelsReducer = (state, action) => {\n\tif (action.type === 'PANEL_OPEN') {\n\t\tconst { panelId } = action.payload\n\n\t\tif (state.isOpen && state.isOpen === panelId) {\n\t\t\treturn state\n\t\t}\n\n\t\tif (state.isTransitioning) {\n\t\t\treturn state\n\t\t}\n\n\t\treturn {\n\t\t\t...state,\n\t\t\tisOpen: panelId,\n\t\t\tisTransitioning: panelId,\n\t\t\tcurrentLevel: 1,\n\t\t\t...(state.isOpen\n\t\t\t\t? {\n\t\t\t\t\t\tpreviousPanel: state.isOpen,\n\t\t\t\t  }\n\t\t\t\t: {}),\n\t\t}\n\t}\n\n\tif (action.type === 'PANEL_RECEIVE_TITLE') {\n\t\tconst { titlePrefix } = action.payload\n\n\t\treturn {\n\t\t\t...state,\n\t\t\ttitlePrefix,\n\t\t}\n\t}\n\n\tif (action.type === 'PANEL_RECEIVE_META') {\n\t\treturn {\n\t\t\t...state,\n\t\t\t...action.payload,\n\t\t}\n\t}\n\n\tif (action.type === 'PANEL_OPEN_SECOND_LEVEL') {\n\t\t// const { titlePrefix } = action.payload\n\n\t\treturn {\n\t\t\t...state,\n\t\t\tcurrentLevel: 2,\n\t\t}\n\t}\n\n\tif (action.type === 'PANEL_CLOSE') {\n\t\treturn {\n\t\t\t...state,\n\t\t\t...(state.currentLevel === 2\n\t\t\t\t? { currentLevel: 1 }\n\t\t\t\t: {\n\t\t\t\t\t\tisTransitioning: state.isOpen,\n\t\t\t\t\t\tisOpen: false,\n\t\t\t\t\t\tcurrentLevel: 1,\n\t\t\t\t  }),\n\t\t}\n\t}\n\n\tif (action.type === 'PANEL_FINISH_TRANSITIONING') {\n\t\treturn {\n\t\t\t...state,\n\t\t\tisTransitioning: false,\n\t\t\t...(state.isOpen && state.isOpen !== state.previousPanel\n\t\t\t\t? {\n\t\t\t\t\t\tpreviousPanel: false,\n\t\t\t\t  }\n\t\t\t\t: {}),\n\t\t}\n\t}\n\n\treturn state\n}\n\nconst PanelLevel = ({\n\tid,\n\tchildren,\n\tcontainerRef,\n\tparentContainerRef,\n\tuseRefsAsWrappers,\n}) => {\n\tconst [panelsState, panelsDispatch] = useReducer(panelsReducer, {\n\t\tisOpen: false,\n\t\tisTransitioning: false,\n\t})\n\n\tuseEffect(() => {\n\t\tctEvents.on('ct-deep-link-start', (location) => {\n\t\t\tconst [_, panelId] = location.split(':')\n\n\t\t\tif (!panelId) {\n\t\t\t\tpanelsDispatch({\n\t\t\t\t\ttype: 'PANEL_CLOSE',\n\t\t\t\t})\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tpanelsDispatch({\n\t\t\t\ttype: 'PANEL_OPEN',\n\t\t\t\tpayload: { panelId },\n\t\t\t})\n\t\t})\n\n\t\tif (getDeepLinkPanel()) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tpanelsDispatch({\n\t\t\t\t\ttype: 'PANEL_OPEN',\n\t\t\t\t\tpayload: { panelId: getDeepLinkPanel() },\n\t\t\t\t})\n\n\t\t\t\tremoveDeepLink()\n\t\t\t}, 300)\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<PanelContext.Provider\n\t\t\tvalue={{\n\t\t\t\tid,\n\t\t\t\tcontainerRef,\n\t\t\t\tpanelsState,\n\t\t\t\tpanelsDispatch,\n\t\t\t\tpanelsHelpers: {\n\t\t\t\t\tisOpenFor: (panelId) =>\n\t\t\t\t\t\tpanelsState.isOpen && panelId === panelsState.isOpen,\n\n\t\t\t\t\tisTransitioningFor: (panelId) =>\n\t\t\t\t\t\t(panelsState.previousPanel &&\n\t\t\t\t\t\t\tpanelId === panelsState.previousPanel) ||\n\t\t\t\t\t\t(panelsState.isTransitioning &&\n\t\t\t\t\t\t\tpanelId === panelsState.isTransitioning),\n\n\t\t\t\t\topen: (panelId) =>\n\t\t\t\t\t\tpanelsDispatch({\n\t\t\t\t\t\t\ttype: 'PANEL_OPEN',\n\t\t\t\t\t\t\tpayload: { panelId },\n\t\t\t\t\t\t}),\n\n\t\t\t\t\tclose: () => {\n\t\t\t\t\t\tpanelsDispatch({\n\t\t\t\t\t\t\ttype: 'PANEL_CLOSE',\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\n\t\t\t\t\tstopTransitioning: () => {\n\t\t\t\t\t\tpanelsDispatch({\n\t\t\t\t\t\t\ttype: 'PANEL_FINISH_TRANSITIONING',\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\n\t\t\t\t\tgetWrapperParent: () =>\n\t\t\t\t\t\tuseRefsAsWrappers\n\t\t\t\t\t\t\t? parentContainerRef.current\n\t\t\t\t\t\t\t: containerRef.current.closest(\n\t\t\t\t\t\t\t\t\t'[id=\"customize-theme-controls\"]'\n\t\t\t\t\t\t\t  ),\n\n\t\t\t\t\topenSecondLevel: () => {\n\t\t\t\t\t\tpanelsDispatch({\n\t\t\t\t\t\t\ttype: 'PANEL_OPEN_SECOND_LEVEL',\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\n\t\t\t\t\tgetParentOptionsWrapper: () =>\n\t\t\t\t\t\tuseRefsAsWrappers\n\t\t\t\t\t\t\t? containerRef.current\n\t\t\t\t\t\t\t: containerRef.current.closest(\n\t\t\t\t\t\t\t\t\t'.accordion-section-content'\n\t\t\t\t\t\t\t  ),\n\t\t\t\t},\n\t\t\t}}>\n\t\t\t{children}\n\t\t</PanelContext.Provider>\n\t)\n}\n\nexport default PanelLevel\n","import { normalizeCondition, matchValuesWithCondition } from 'match-conditions'\n\nexport const capitalizeFirstLetter = str => {\n\tstr = str == null ? '' : String(str)\n\treturn str.charAt(0).toUpperCase() + str.slice(1)\n}\n\nexport const getOptionLabelFor = ({ id, option, values, renderingConfig }) => {\n\tlet maybeLabel =\n\t\tObject.keys(option).indexOf('label') === -1\n\t\t\t? capitalizeFirstLetter(id).replace(/\\_|\\-/g, ' ')\n\t\t\t: option.label\n\n\tif (maybeLabel !== maybeLabel.toString()) {\n\t\tmaybeLabel =\n\t\t\tObject.keys(maybeLabel).reduce((approvedLabel, currentLabel) => {\n\t\t\t\tif (approvedLabel) {\n\t\t\t\t\treturn approvedLabel\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tmatchValuesWithCondition(\n\t\t\t\t\t\tnormalizeCondition(maybeLabel[currentLabel]),\n\t\t\t\t\t\tvalues\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn currentLabel\n\t\t\t\t}\n\n\t\t\t\treturn approvedLabel\n\t\t\t}, null) || Object.keys(maybeLabel)[0]\n\t}\n\n\t/**\n\t * Fuck JS\n\t */\n\tif (maybeLabel === '') {\n\t\tmaybeLabel = true\n\t}\n\n\tif (renderingConfig && !renderingConfig.label) {\n\t\tmaybeLabel = false\n\t}\n\n\treturn maybeLabel\n}\n","import _ from 'underscore'\n\nexport const getFirstLevelOptions = (options, hasInnerOptions = true) => {\n\tconst { __CT_KEYS_ORDER__, ...rest } = options\n\n\treturn Object.keys(rest).reduce((currentOptions, currentOptionId) => {\n\t\tif (!options[currentOptionId].type) {\n\t\t\treturn {\n\t\t\t\t...currentOptions,\n\t\t\t\t...getFirstLevelOptions(\n\t\t\t\t\toptions[currentOptionId],\n\t\t\t\t\thasInnerOptions\n\t\t\t\t),\n\t\t\t}\n\t\t}\n\n\t\tif (options[currentOptionId].options) {\n\t\t\treturn {\n\t\t\t\t...currentOptions,\n\t\t\t\t...getFirstLevelOptions(\n\t\t\t\t\toptions[currentOptionId].options,\n\t\t\t\t\thasInnerOptions\n\t\t\t\t),\n\t\t\t}\n\t\t}\n\n\t\tif (options[currentOptionId]['inner-options'] && hasInnerOptions) {\n\t\t\treturn {\n\t\t\t\t...currentOptions,\n\t\t\t\t[currentOptionId]: options[currentOptionId],\n\t\t\t\t...getFirstLevelOptions(\n\t\t\t\t\toptions[currentOptionId]['inner-options'],\n\t\t\t\t\thasInnerOptions\n\t\t\t\t),\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\t...currentOptions,\n\t\t\t[currentOptionId]: options[currentOptionId],\n\t\t}\n\t}, {})\n}\n\nexport const flattenOptions = (options) =>\n\tObject.keys(options).reduce(\n\t\t(result, currentId) => ({\n\t\t\t...result,\n\n\t\t\t...(options[currentId].type\n\t\t\t\t? { [currentId]: options[currentId] }\n\t\t\t\t: currentId === '__CT_KEYS_ORDER__'\n\t\t\t\t? { [currentId]: options[currentId] }\n\t\t\t\t: flattenOptions(options[currentId])),\n\t\t}),\n\t\t{}\n\t)\n\nexport const getValueFromInput = (\n\toptions,\n\tvalues,\n\tvalueGetter = null,\n\thasInnerOptions = true\n) => {\n\tlet firstLevelOptions = getFirstLevelOptions(options, hasInnerOptions)\n\n\treturn {\n\t\t...values,\n\t\t...Object.keys(firstLevelOptions).reduce(\n\t\t\t(currentValues, currentOptionId) => {\n\t\t\t\tlet actualValue = null\n\n\t\t\t\tif (Object.keys(values).indexOf(currentOptionId) > -1) {\n\t\t\t\t\tif (\n\t\t\t\t\t\t_.isString(values[currentOptionId]) ||\n\t\t\t\t\t\t_.isNumber(values[currentOptionId])\n\t\t\t\t\t) {\n\t\t\t\t\t\tactualValue = values[currentOptionId]\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_.isObject(values[currentOptionId])) {\n\t\t\t\t\t\tactualValue = {\n\t\t\t\t\t\t\t...(firstLevelOptions[currentOptionId].value || {}),\n\t\t\t\t\t\t\t...values[currentOptionId],\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_.isArray(values[currentOptionId])) {\n\t\t\t\t\t\tactualValue = values[currentOptionId]\n\t\t\t\t\t\t\t? values[currentOptionId]\n\t\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t\t...(firstLevelOptions[currentOptionId]\n\t\t\t\t\t\t\t\t\t\t.value || []),\n\t\t\t\t\t\t\t\t\t// ...values[currentOptionId],\n\t\t\t\t\t\t\t  ]\n\t\t\t\t\t}\n\t\t\t\t} else if (valueGetter) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...currentValues,\n\t\t\t\t\t\t...valueGetter(\n\t\t\t\t\t\t\tcurrentOptionId,\n\t\t\t\t\t\t\tfirstLevelOptions[currentOptionId]\n\t\t\t\t\t\t),\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (\n\t\t\t\t\t\tObject.keys(firstLevelOptions[currentOptionId]).indexOf(\n\t\t\t\t\t\t\t'value'\n\t\t\t\t\t\t) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tactualValue = firstLevelOptions[currentOptionId].value\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactualValue = ''\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...currentValues,\n\t\t\t\t\t[currentOptionId]: actualValue,\n\t\t\t\t}\n\t\t\t},\n\t\t\t{}\n\t\t),\n\t}\n}\n","export const maybeTransformUnorderedChoices = choices =>\n\tArray.isArray(choices)\n\t\t? choices\n\t\t: Object.keys(choices).reduce(\n\t\t\t\t(current, choice) => [\n\t\t\t\t\t...current,\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: choice,\n\t\t\t\t\t\tvalue: choices[choice]\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t[]\n\t\t\t)\n","import { useMemo, useRef, useState, useEffect } from '@wordpress/element'\nimport classnames from 'classnames'\nimport { __ } from 'ct-i18n'\n\nexport function nullifyTransforms(el) {\n\tconst parseTransform = (el) =>\n\t\twindow\n\t\t\t.getComputedStyle(el)\n\t\t\t.transform.split(/\\(|,|\\)/)\n\t\t\t.slice(1, -1)\n\t\t\t.map((v) => parseFloat(v))\n\n\t// 1\n\tlet { top, left, width, height } = el.getBoundingClientRect()\n\tlet transformArr = parseTransform(el)\n\n\tif (transformArr.length == 6) {\n\t\t// 2D matrix\n\t\tconst t = transformArr\n\n\t\t// 2\n\t\tlet det = t[0] * t[3] - t[1] * t[2]\n\n\t\t// 3\n\t\treturn {\n\t\t\twidth: width / t[0],\n\t\t\theight: height / t[3],\n\t\t\tleft: (left * t[3] - top * t[2] + t[2] * t[5] - t[4] * t[3]) / det,\n\t\t\ttop: (-left * t[1] + top * t[0] + t[4] * t[1] - t[0] * t[5]) / det,\n\t\t}\n\t} else {\n\t\t// This case is not handled because it's very rarely needed anyway.\n\t\t// We just return the tranformed metrics, as they are, for consistency.\n\t\treturn { top, left, width, height }\n\t}\n}\n\nconst usePopoverMaker = ({\n\tcontentRef: contentRefProp,\n\tshouldCalculate = true,\n\tref,\n\tdefaultHeight = 0,\n} = {}) => {\n\tconst contentRef = useRef()\n\tconst [s, setState] = useState(null)\n\n\tconst refresh = () => {\n\t\tif (!shouldCalculate) {\n\t\t\treturn\n\t\t}\n\n\t\tsetState(Math.random())\n\t}\n\n\tconst refreshOnScroll = (e) => {\n\t\tif (!e.target || !e.target.classList || !e.target.classList.contains) {\n\t\t\treturn\n\t\t}\n\n\t\tlet modalRef = contentRefProp || contentRef\n\n\t\tif (e.target.classList.contains('ct-modal-scroll')) {\n\t\t\trefresh()\n\t\t}\n\n\t\tif (\n\t\t\tmodalRef &&\n\t\t\tmodalRef.current &&\n\t\t\t!modalRef.current.contains(e.target)\n\t\t) {\n\t\t\trefresh()\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\trefresh()\n\t\t}, 500)\n\n\t\twindow.addEventListener('resize', refresh)\n\t\twindow.addEventListener('scroll', refreshOnScroll, true)\n\n\t\tlet observer\n\n\t\tif (ref.current) {\n\t\t\tobserver = new window.ResizeObserver(refresh)\n\n\t\t\tobserver.observe(ref.current, {\n\t\t\t\tattributes: true,\n\t\t\t})\n\n\t\t\tif (ref.current.closest('.ct-tabs-scroll')) {\n\t\t\t\tobserver.observe(ref.current.closest('.ct-tabs-scroll'), {\n\t\t\t\t\tattributes: true,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (ref.current.closest('.ct-modal-scroll')) {\n\t\t\t\tobserver.observe(ref.current.closest('.ct-modal-scroll'), {\n\t\t\t\t\tattributes: true,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (ref.current.closest('.customize-pane-child')) {\n\t\t\t\tobserver.observe(ref.current.closest('.customize-pane-child'), {\n\t\t\t\t\tattributes: true,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (contentRefProp ? contentRefProp.current : contentRef.current) {\n\t\t\tif (!observer) {\n\t\t\t\tobserver = new window.ResizeObserver(refresh)\n\t\t\t}\n\n\t\t\tobserver.observe(\n\t\t\t\tcontentRefProp ? contentRefProp.current : contentRef.current,\n\t\t\t\t{\n\t\t\t\t\tattributes: true,\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('resize', refresh)\n\t\t\twindow.removeEventListener('scroll', refreshOnScroll, true)\n\n\t\t\tif (observer) {\n\t\t\t\tobserver.disconnect()\n\t\t\t}\n\t\t}\n\t}, [shouldCalculate, contentRef.current, contentRefProp, ref.current])\n\n\tlet { right, yOffset, position, otherStyles } = useMemo(() => {\n\t\tlet right = 0\n\t\tlet yOffset = 0\n\t\tlet position = 'bottom'\n\t\tlet otherStyles = {}\n\n\t\tif (!shouldCalculate) {\n\t\t\treturn { yOffset, right, position }\n\t\t}\n\n\t\tif (ref.current) {\n\t\t\tlet rect = ref.current.getBoundingClientRect()\n\n\t\t\tlet el = ref.current.closest('.ct-select-input')\n\t\t\t\t? ref.current.closest('.ct-select-input')\n\t\t\t\t: ref.current\n\n\t\t\tlet maybeWidthFlag = getComputedStyle(el, ':before').content\n\n\t\t\tyOffset = rect.top + rect.height\n\t\t\tright = window.innerWidth - rect.right\n\n\t\t\tif (document.body.classList.contains('rtl')) {\n\t\t\t\tright = rect.left\n\t\t\t}\n\n\t\t\tif (maybeWidthFlag.indexOf('ref-width') > -1) {\n\t\t\t\tlet width = rect.width\n\n\t\t\t\tif (\n\t\t\t\t\tmaybeWidthFlag.indexOf('left') > -1 &&\n\t\t\t\t\tel.previousElementSibling\n\t\t\t\t) {\n\t\t\t\t\tif (document.body.classList.contains('rtl')) {\n\t\t\t\t\t\twidth =\n\t\t\t\t\t\t\tel.previousElementSibling.getBoundingClientRect()\n\t\t\t\t\t\t\t\t.right - rect.left\n\t\t\t\t\t} else {\n\t\t\t\t\t\twidth =\n\t\t\t\t\t\t\trect.right -\n\t\t\t\t\t\t\tel.previousElementSibling.getBoundingClientRect()\n\t\t\t\t\t\t\t\t.left\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (maybeWidthFlag.indexOf('right') > -1) {\n\t\t\t\t\tlet nextRect = el.parentNode // el.nextElementSibling || el.parentNode\n\t\t\t\t\t\t.getBoundingClientRect()\n\n\t\t\t\t\tif (document.body.classList.contains('rtl')) {\n\t\t\t\t\t\tright = nextRect.left\n\t\t\t\t\t\twidth = rect.right - nextRect.left\n\t\t\t\t\t} else {\n\t\t\t\t\t\tright = window.innerWidth - nextRect.right\n\t\t\t\t\t\twidth = nextRect.right - rect.left\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\totherStyles['--x-select-dropdown-width'] = `${width}px`\n\t\t\t}\n\n\t\t\tlet popoverRect =\n\t\t\t\t(contentRefProp && contentRefProp.current) || contentRef.current\n\t\t\t\t\t? nullifyTransforms(\n\t\t\t\t\t\t\tcontentRefProp\n\t\t\t\t\t\t\t\t? contentRefProp.current\n\t\t\t\t\t\t\t\t: contentRef.current\n\t\t\t\t\t  )\n\t\t\t\t\t: { height: defaultHeight }\n\n\t\t\tif (\n\t\t\t\tyOffset + popoverRect.height > window.innerHeight &&\n\t\t\t\trect.top - 15 > popoverRect.height\n\t\t\t) {\n\t\t\t\tposition = 'top'\n\t\t\t\tyOffset = window.innerHeight - rect.bottom + rect.height\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tyOffset + popoverRect.height > window.innerHeight &&\n\t\t\t\tposition === 'bottom'\n\t\t\t) {\n\t\t\t\tposition = 'top'\n\t\t\t\tyOffset = 0\n\t\t\t}\n\t\t}\n\n\t\treturn { yOffset, right, position, otherStyles }\n\t}, [\n\t\ts,\n\t\tshouldCalculate,\n\t\tref,\n\t\tref.current,\n\t\tcontentRefProp,\n\t\tcontentRef.current,\n\t\tdefaultHeight,\n\t])\n\n\treturn {\n\t\trefreshPopover: refresh,\n\t\tstyles: {\n\t\t\t'--modal-y-offset': `${yOffset}px`,\n\t\t\t'--modal-x-offset': `${right}px`,\n\t\t\t...otherStyles,\n\t\t\t// [position === 'bottom' ? 'top' : 'bottom']: `${yOffset}px`,\n\t\t\t// right: `${right}px`,\n\t\t},\n\n\t\tposition,\n\n\t\tpopoverProps: {\n\t\t\tref: contentRefProp || contentRef,\n\t\t\t...(position\n\t\t\t\t? {\n\t\t\t\t\t\t'data-position': position,\n\t\t\t\t  }\n\t\t\t\t: {}),\n\t\t},\n\t}\n}\n\nexport default usePopoverMaker\n","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","import { colord } from 'colord'\n\nexport const normalizeColor = (color) => {\n\tconst parsedColor = colord(color)\n\n\tif (!parsedColor.parsed) {\n\t\treturn color\n\t}\n\n\tif (color[0] === '#' && color.length <= 7) {\n\t\treturn color\n\t}\n\n\tif (parsedColor.rgba.a === 1) {\n\t\treturn color\n\t}\n\n\treturn parsedColor.toRgbString()\n}\n","import { createElement, Component, createRef } from '@wordpress/element'\nimport { ColorPicker } from '@wordpress/components'\nimport _ from '_'\nimport $ from 'jquery'\nimport { __ } from 'ct-i18n'\n\nimport { normalizeColor } from '../../helpers/normalize-color'\n\nconst ColorPickerIris = ({ onChange, value, value: { color } }) => {\n\tconst isNew = wp.components.GradientPicker\n\n\treturn (\n\t\t<div\n\t\t\tclassName={\n\t\t\t\tisNew\n\t\t\t\t\t? 'ct-gutenberg-color-picker-new'\n\t\t\t\t\t: 'ct-gutenberg-color-picker'\n\t\t\t}>\n\t\t\t<ColorPicker\n\t\t\t\tcolor={color}\n\t\t\t\tenableAlpha\n\t\t\t\t{...(isNew\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tonChange: (color) => {\n\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\tcolor: normalizeColor(color),\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tonChangeComplete: (result) => {\n\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\tresult.rgb.a === 1\n\t\t\t\t\t\t\t\t\t\t\t? result.hex\n\t\t\t\t\t\t\t\t\t\t\t: `rgba(${result.rgb.r}, ${result.rgb.g}, ${result.rgb.b}, ${result.rgb.a})`,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t  })}\n\t\t\t/>\n\n\t\t\t<div className=\"ct-color-picker-value\">\n\t\t\t\t<input\n\t\t\t\t\tonChange={({ target: { value: color } }) => {\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\tcolor: normalizeColor(color),\n\t\t\t\t\t\t})\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={normalizeColor(color)}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default ColorPickerIris\n","import {\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseCallback,\n\tuseMemo,\n\tcreateRef,\n\tFragment,\n} from '@wordpress/element'\nimport ColorPickerIris from './color-picker-iris.js'\nimport classnames from 'classnames'\nimport { __ } from 'ct-i18n'\n\nimport { nullifyTransforms } from '../../helpers/usePopoverMaker'\n\nexport const getNoColorPropFor = (option) =>\n\toption.noColorTransparent ? 'transparent' : `CT_CSS_SKIP_RULE`\n\nconst focusOrOpenCustomizerSectionProps = (section) => ({\n\ttarget: '_blank',\n\thref: `${\n\t\twindow.ct_localizations ? window.ct_localizations.customizer_url : ''\n\t}${encodeURIComponent(`[section]=${section}`)}`,\n\t...(wp && wp.customize && wp.customize.section\n\t\t? {\n\t\t\t\tonClick: (e) => {\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\twp.customize.section(section).expand()\n\t\t\t\t},\n\t\t  }\n\t\t: {}),\n})\n\nconst getLeftForEl = (modal, el) => {\n\tif (!modal) return\n\tif (!el) return\n\n\tlet style = getComputedStyle(modal)\n\n\tlet wrapperLeft = parseFloat(style.left)\n\n\tel = el.firstElementChild.getBoundingClientRect()\n\n\treturn {\n\t\t'--option-modal-arrow-position': `${\n\t\t\tel.left + el.width / 2 - wrapperLeft - 6\n\t\t}px`,\n\t}\n}\n\nconst PickerModal = ({\n\tcontainerRef,\n\tel,\n\tvalue,\n\tpicker,\n\tonChange,\n\toption,\n\tstyle,\n\twrapperProps = {},\n\tinline_modal,\n\tappendToBody,\n\tinheritValue,\n}) => {\n\tconst getValueForPicker = useMemo(() => {\n\t\tif (value.color === getNoColorPropFor(option)) {\n\t\t\treturn { color: '', key: 'empty' }\n\t\t}\n\n\t\tif ((value.color || '').indexOf(getNoColorPropFor(option)) > -1) {\n\t\t\treturn {\n\t\t\t\tkey: '',\n\t\t\t\tcolor: '',\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\t(value.color || '').indexOf(getNoColorPropFor(option)) > -1 &&\n\t\t\tpicker.inherit\n\t\t) {\n\t\t\treturn {\n\t\t\t\tkey: 'picker' + inheritValue,\n\t\t\t\tcolor: getComputedStyle(document.documentElement)\n\t\t\t\t\t.getPropertyValue(\n\t\t\t\t\t\tinheritValue.replace(/var\\(/, '').replace(/\\)/, '')\n\t\t\t\t\t)\n\t\t\t\t\t.trim()\n\t\t\t\t\t.replace(/\\s/g, ''),\n\t\t\t}\n\t\t}\n\n\t\tif ((value.color || '').indexOf('var') > -1) {\n\t\t\treturn {\n\t\t\t\tkey: 'var' + value.color,\n\t\t\t\tcolor: getComputedStyle(document.documentElement)\n\t\t\t\t\t.getPropertyValue(\n\t\t\t\t\t\tvalue.color.replace(/var\\(/, '').replace(/\\)/, '')\n\t\t\t\t\t)\n\t\t\t\t\t.trim()\n\t\t\t\t\t.replace(/\\s/g, ''),\n\t\t\t}\n\t\t}\n\n\t\treturn { key: 'color', color: value.color }\n\t}, [value, option, picker, inheritValue])\n\n\tlet valueToCheck = value.color\n\n\tif (\n\t\t(value.color || '').indexOf(getNoColorPropFor(option)) > -1 &&\n\t\tpicker.inherit\n\t) {\n\t\tvalueToCheck = inheritValue\n\t}\n\n\tconst arrowLeft = useMemo(\n\t\t() =>\n\t\t\twrapperProps.ref &&\n\t\t\twrapperProps.ref.current &&\n\t\t\tel &&\n\t\t\tgetLeftForEl(wrapperProps.ref.current, el.current),\n\t\t[wrapperProps.ref && wrapperProps.ref.current, el && el.current]\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\tclassName={classnames(\n\t\t\t\t\t`ct-color-picker-modal`,\n\t\t\t\t\t{\n\t\t\t\t\t\t'ct-option-modal': !inline_modal && appendToBody,\n\t\t\t\t\t},\n\t\t\t\t\toption.modalClassName\n\t\t\t\t)}\n\t\t\t\tstyle={{\n\t\t\t\t\t...arrowLeft,\n\t\t\t\t\t...(style ? style : {}),\n\t\t\t\t}}\n\t\t\t\t{...wrapperProps}>\n\t\t\t\t{!option.predefined && (\n\t\t\t\t\t<div className=\"ct-color-picker-top\">\n\t\t\t\t\t\t<ul className=\"ct-color-picker-skins\">\n\t\t\t\t\t\t\t{[\n\t\t\t\t\t\t\t\t'paletteColor1',\n\t\t\t\t\t\t\t\t'paletteColor2',\n\t\t\t\t\t\t\t\t'paletteColor3',\n\t\t\t\t\t\t\t\t'paletteColor4',\n\t\t\t\t\t\t\t\t'paletteColor5',\n\t\t\t\t\t\t\t\t'paletteColor6',\n\t\t\t\t\t\t\t\t'paletteColor7',\n\t\t\t\t\t\t\t\t'paletteColor8',\n\t\t\t\t\t\t\t].map((color) => (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={color}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tbackground: `var(--${color})`,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\t\t\t\t\tvalueToCheck === `var(--${color})`,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\tcolor: `var(--${color})`,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t<div className=\"ct-tooltip-top\">\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tpaletteColor1: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Color 1',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tpaletteColor2: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Color 2',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tpaletteColor3: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Color 3',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tpaletteColor4: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Color 4',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tpaletteColor5: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Color 5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tpaletteColor6: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Color 6',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tpaletteColor7: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Color 7',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tpaletteColor8: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Color 8',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t}[color]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t{!option.skipNoColorPill && false && (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\tcolor: getNoColorPropFor(option),\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName={classnames('ct-no-color-pill', {\n\t\t\t\t\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\t\t\t\t\tvalue.color ===\n\t\t\t\t\t\t\t\t\t\t\tgetNoColorPropFor(option),\n\t\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t\t<i className=\"ct-tooltip-top\">\n\t\t\t\t\t\t\t\t\t\t{__('No Color', 'blocksy')}\n\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<ColorPickerIris\n\t\t\t\t\tonChange={(v) => onChange(v)}\n\t\t\t\t\tvalue={{\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\tcolor: getValueForPicker.color,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Fragment>\n\t)\n}\n\nexport default PickerModal\n","import {\n\tcreateElement,\n\tComponent,\n\tcreatePortal,\n\tuseRef,\n\tcreateRef,\n} from '@wordpress/element'\nimport PickerModal, { getNoColorPropFor } from './picker-modal'\nimport { Transition } from 'react-spring/renderprops'\nimport bezierEasing from 'bezier-easing'\nimport classnames from 'classnames'\nimport { __ } from 'ct-i18n'\nimport { normalizeCondition, matchValuesWithCondition } from 'match-conditions'\n\nimport usePopoverMaker from '../../helpers/usePopoverMaker'\n\nconst resolveInherit = (picker, option, values) => {\n\tif (typeof picker.inherit === 'string') {\n\t\tif (picker.inherit.indexOf('self') > -1) {\n\t\t\tconst currentValue = values[option.id] || option.value\n\t\t\tconst pickerToInheritFrom = picker.inherit.split(':')[1]\n\n\t\t\tlet maybeNextValue = currentValue[pickerToInheritFrom].color\n\n\t\t\tif (maybeNextValue.indexOf('CT_CSS_SKIP_RULE') > -1) {\n\t\t\t\tmaybeNextValue = option.pickers.find(\n\t\t\t\t\t({ id }) => id === pickerToInheritFrom\n\t\t\t\t).inherit\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbackground: maybeNextValue || '',\n\t\t\t}\n\t\t}\n\n\t\treturn { background: picker.inherit }\n\t}\n\n\tlet background = Object.keys(picker.inherit).reduce(\n\t\t(maybeResult, currentVar) => {\n\t\t\tif (maybeResult) {\n\t\t\t\treturn maybeResult\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tmatchValuesWithCondition(\n\t\t\t\t\tnormalizeCondition(picker.inherit[currentVar]),\n\t\t\t\t\tpicker.inherit_source === 'global'\n\t\t\t\t\t\t? Object.keys(picker.inherit[currentVar]).reduce(\n\t\t\t\t\t\t\t\t(current, key) => ({\n\t\t\t\t\t\t\t\t\t...current,\n\t\t\t\t\t\t\t\t\t[key]: wp.customize(key)(),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: values\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn currentVar\n\t\t\t}\n\n\t\t\treturn maybeResult\n\t\t},\n\t\tnull\n\t)\n\n\tif (!background) {\n\t\treturn {}\n\t}\n\n\treturn {\n\t\tbackground,\n\t}\n}\n\nconst SinglePicker = ({\n\toption,\n\tvalue,\n\tonChange,\n\tpicker,\n\n\tonPickingChange,\n\tstopTransitioning,\n\n\tinnerRef,\n\n\tcontainerRef,\n\tmodalRef,\n\n\tisTransitioning,\n\tisPicking,\n\tvalues,\n}) => {\n\tconst el = useRef()\n\n\tconst { appendToBody = true } = option\n\n\tconst { refreshPopover, styles, popoverProps } = usePopoverMaker({\n\t\tcontentRef: modalRef,\n\t\tref: containerRef || {},\n\t\tdefaultHeight: 379,\n\t\tshouldCalculate: !option.inline_modal || appendToBody,\n\t})\n\n\tif (option.inline_modal) {\n\t\treturn (\n\t\t\t<PickerModal\n\t\t\t\tcontainerRef={containerRef}\n\t\t\t\toption={option}\n\t\t\t\tonChange={onChange}\n\t\t\t\tpicker={picker}\n\t\t\t\tvalue={value}\n\t\t\t\tinline_modal={!!option.inline_modal}\n\t\t\t/>\n\t\t)\n\t}\n\n\tlet modal = null\n\n\tif (\n\t\tisTransitioning === picker.id ||\n\t\t(isPicking || '').split(':')[0] === picker.id\n\t) {\n\t\tmodal = createPortal(\n\t\t\t<Transition\n\t\t\t\titems={isPicking}\n\t\t\t\tonRest={() => stopTransitioning()}\n\t\t\t\tconfig={{\n\t\t\t\t\tduration: 100,\n\t\t\t\t\teasing: bezierEasing(0.25, 0.1, 0.25, 1.0),\n\t\t\t\t}}\n\t\t\t\tfrom={\n\t\t\t\t\t(isPicking || '').indexOf(':') === -1\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: { opacity: 1 }\n\t\t\t\t}\n\t\t\t\tenter={\n\t\t\t\t\t(isPicking || '').indexOf(':') === -1\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\ttransform: 'scale3d(1, 1, 1)',\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t  }\n\t\t\t\t}\n\t\t\t\tleave={\n\t\t\t\t\t(isPicking || '').indexOf(':') === -1\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t  }\n\t\t\t\t}>\n\t\t\t\t{(isPicking) =>\n\t\t\t\t\t(isPicking || '').split(':')[0] === picker.id &&\n\t\t\t\t\t((props) => (\n\t\t\t\t\t\t<PickerModal\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\t\t...(appendToBody ? styles : {}),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tpicker={picker}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tel={el}\n\t\t\t\t\t\t\tinheritValue={\n\t\t\t\t\t\t\t\tpicker.inherit\n\t\t\t\t\t\t\t\t\t? resolveInherit(picker, option, values)\n\t\t\t\t\t\t\t\t\t\t\t.background\n\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twrapperProps={\n\t\t\t\t\t\t\t\tappendToBody\n\t\t\t\t\t\t\t\t\t? popoverProps\n\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\tref: modalRef,\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tappendToBody={appendToBody}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</Transition>,\n\t\t\tappendToBody\n\t\t\t\t? document.body\n\t\t\t\t: el.current.closest('section').parentNode\n\t\t)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tref={(instance) => {\n\t\t\t\tel.current = instance\n\n\t\t\t\tif (innerRef) {\n\t\t\t\t\tinnerRef.current = instance\n\t\t\t\t}\n\t\t\t}}\n\t\t\tclassName={classnames('ct-color-picker-single', {})}>\n\t\t\t<span tabIndex=\"0\">\n\t\t\t\t<span\n\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t[`ct-no-color`]:\n\t\t\t\t\t\t\t(value || {}).color === getNoColorPropFor(option),\n\n\t\t\t\t\t\t[`ct-color-inherit`]:\n\t\t\t\t\t\t\t(value || { color: '' }).color.indexOf('INHERIT') >\n\t\t\t\t\t\t\t-1,\n\t\t\t\t\t})}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tif (option.skipModal) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.stopPropagation()\n\n\t\t\t\t\t\trefreshPopover()\n\n\t\t\t\t\t\tlet futureIsPicking = isPicking\n\t\t\t\t\t\t\t? isPicking.split(':')[0] === picker.id\n\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t: `${picker.id}:${isPicking.split(':')[0]}`\n\t\t\t\t\t\t\t: picker.id\n\n\t\t\t\t\t\tonPickingChange(futureIsPicking)\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={\n\t\t\t\t\t\t((value || {}).color || '').indexOf(\n\t\t\t\t\t\t\tgetNoColorPropFor(option)\n\t\t\t\t\t\t) === -1\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tbackground: (value || {}).color,\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t...(picker.inherit &&\n\t\t\t\t\t\t\t\t\t(value || {}).color !==\n\t\t\t\t\t\t\t\t\t\tgetNoColorPropFor(option)\n\t\t\t\t\t\t\t\t\t\t? resolveInherit(picker, option, values)\n\t\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t}>\n\t\t\t\t\t<i className=\"ct-tooltip-top\">\n\t\t\t\t\t\t{(value || { color: '' }).color.indexOf('INHERIT') > -1\n\t\t\t\t\t\t\t? __('Inherited', 'blocksy')\n\t\t\t\t\t\t\t: picker.title}\n\t\t\t\t\t</i>\n\n\t\t\t\t\t{(value || { color: '' }).color.indexOf('INHERIT') > -1 && (\n\t\t\t\t\t\t<svg width=\"25\" height=\"25\" viewBox=\"0 0 30 30\">\n\t\t\t\t\t\t\t<path d=\"M15 3c-3 0-5.7 1.1-7.8 2.9-.4.3-.5.9-.2 1.4.3.4 1 .5 1.4.2h.1C10.3 5.9 12.5 5 15 5c5.2 0 9.5 3.9 10 9h-3l4 6 4-6h-3.1C26.4 7.9 21.3 3 15 3zM4 10l-4 6h3.1c.5 6.1 5.6 11 11.9 11 3 0 5.7-1.1 7.8-2.9.4-.3.5-1 .2-1.4-.3-.4-1-.5-1.4-.2h-.1c-1.7 1.5-4 2.4-6.5 2.4-5.2 0-9.5-3.9-10-9h3L4 10z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</span>\n\n\t\t\t{modal}\n\t\t</div>\n\t)\n}\n\nexport default SinglePicker\n","import {\n\tcreateElement,\n\tComponent,\n\tuseContext,\n\tcreateContext,\n\tuseState,\n\tFragment,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport {\n\tSortableContainer,\n\tSortableElement,\n\tSortableHandle,\n} from 'react-sortable-hoc'\n\nimport arrayMove from 'array-move'\n\nimport { __ } from 'ct-i18n'\n\nimport OptionsPanel from '../OptionsPanel'\nimport { getValueFromInput } from '../helpers/get-value-from-input'\nimport nanoid from 'nanoid'\n\nconst LayerControls = SortableHandle(({ items, onChange, value }) => {\n\tconst { removeForId, addForId, option, toggleOptionsPanel } = useContext(\n\t\tLayersContext\n\t)\n\n\treturn (\n\t\t<div className=\"ct-layer-controls\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"ct-visibility\"\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t\tonChange(\n\t\t\t\t\t\titems.map((l) =>\n\t\t\t\t\t\t\tl.__id === value.__id\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t...l,\n\t\t\t\t\t\t\t\t\t\tenabled: !{\n\t\t\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\t\t\t...l,\n\t\t\t\t\t\t\t\t\t\t}.enabled,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: l\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}}>\n\t\t\t\t<svg width=\"13px\" height=\"13px\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t<path d=\"M12,4C4.1,4,0,12,0,12s3.1,8,12,8c8.1,0,12-8,12-8S20.1,4,12,4z M12,17c-2.9,0-5-2.2-5-5c0-2.8,2.1-5,5-5s5,2.2,5,5C17,14.8,14.9,17,12,17z M12,9c-1.7,0-3,1.4-3,3c0,1.6,1.3,3,3,3s3-1.4,3-3C15,10.4,13.7,9,12,9z\" />\n\t\t\t\t</svg>\n\t\t\t</button>\n\n\t\t\t<div className=\"ct-layer-label\">\n\t\t\t\t<span>{window._.template(option['preview-template'])(value)}</span>\n\t\t\t</div>\n\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"ct-clone\"\n\t\t\t\tonClick={() => addForId(value)}>\n\t\t\t\t<svg width=\"11px\" height=\"11px\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t<path d=\"M23,24H7.7c-0.6,0-1-0.4-1-1V7.7c0-0.6,0.4-1,1-1H23c0.6,0,1,0.4,1,1V23C24,23.6,23.6,24,23,24z M8.7,22H22V8.7 H8.7V22z\" />\n\t\t\t\t\t<path d=\"M17.3,16.3c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1h15.3c0.6,0,1,0.4,1,1V16.3z\" />\n\t\t\t\t</svg>\n\n\t\t\t\t<i className=\"ct-tooltip-top\">{__('Clone Item', 'blocksy')}</i>\n\t\t\t</button>\n\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"ct-remove\"\n\t\t\t\tonClick={() => removeForId(value.__id)}\n\t\t\t/>\n\n\t\t\t{option['inner-options'] && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"ct-toggle\"\n\t\t\t\t\tonMouseDown={(e) => {\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\ttoggleOptionsPanel(value.__id)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n})\n\nconst valueWithUniqueIds = (value) =>\n\tvalue.map((singleItem) => ({\n\t\t...singleItem,\n\n\t\t...(singleItem.__id\n\t\t\t? {}\n\t\t\t: {\n\t\t\t\t\t__id: nanoid(),\n\t\t\t  }),\n\t}))\n\nconst getDefaultState = () => ({\n\tcurrentlyPickedItem: null,\n\tisDragging: false,\n\tisOpen: false,\n})\n\nexport const LayersContext = createContext(getDefaultState())\n\nconst { Provider, Consumer } = LayersContext\n\nclass SingleItem extends Component {\n\tstate = {\n\t\tisOpen: false,\n\t}\n\n\trender() {\n\t\tconst { value, items, onChange } = this.props\n\n\t\treturn (\n\t\t\t<Consumer>\n\t\t\t\t{({ option, isDragging, isOpen, parentValue }) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName={classnames('ct-layer', option.itemClass, {\n\t\t\t\t\t\t\t[`ct-disabled`]: !{ enabled: true, ...value }\n\t\t\t\t\t\t\t\t.enabled,\n\t\t\t\t\t\t})}>\n\t\t\t\t\t\t<LayerControls\n\t\t\t\t\t\t\titems={items}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{isOpen === value.__id &&\n\t\t\t\t\t\t\t(!isDragging ||\n\t\t\t\t\t\t\t\t(isDragging && isDragging !== isOpen)) && (\n\t\t\t\t\t\t\t\t<div className=\"ct-layer-content\">\n\t\t\t\t\t\t\t\t\t<OptionsPanel\n\t\t\t\t\t\t\t\t\t\thasRevertButton={false}\n\t\t\t\t\t\t\t\t\t\tparentValue={parentValue}\n\t\t\t\t\t\t\t\t\t\tonChange={(key, newValue) => {\n\t\t\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t\t\titems.map((l) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tl.__id === value.__id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...l,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[key]: newValue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: l\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvalue={getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\toption['inner-options'],\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t...(option.value.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) => id === value.id\n\t\t\t\t\t\t\t\t\t\t\t\t).length > 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t? option.value.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.id === id\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}) => __id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.indexOf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.__id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\toptions={option['inner-options']}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t</Consumer>\n\t\t)\n\t}\n}\n\nconst SortableItem = SortableElement(SingleItem)\n\nconst SortableList = SortableContainer(({ items, onChange }) => (\n\t<Consumer>\n\t\t{({ option }) => (\n\t\t\t<ul className=\"ct-layers\">\n\t\t\t\t{items.map((value, index) => (\n\t\t\t\t\t<SortableItem\n\t\t\t\t\t\tkey={value.__id}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\titems={items}\n\t\t\t\t\t\tdisabled={!!option.disableDrag}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t)}\n\t</Consumer>\n))\n\nconst Layers = ({ value, option, onChange, values }) => {\n\tconst [state, setState] = useState(getDefaultState())\n\n\tconst localOnChange = (v) => {\n\t\tonChange(v)\n\t}\n\n\tconst addForId = (val = {}) => {\n\t\tlocalOnChange([\n\t\t\t...(value || []),\n\t\t\t{\n\t\t\t\tenabled: true,\n\t\t\t\t...getValueFromInput(option['inner-options'] || {}, {}),\n\t\t\t\t...val,\n\t\t\t\t__id: nanoid(),\n\t\t\t},\n\t\t])\n\t}\n\n\tconst computedValue = valueWithUniqueIds(value)\n\n\treturn (\n\t\t<Provider\n\t\t\tvalue={{\n\t\t\t\t...state,\n\t\t\t\tparentValue: values,\n\t\t\t\taddForId,\n\t\t\t\toption,\n\n\t\t\t\tremoveForId: (idToRemove) =>\n\t\t\t\t\tlocalOnChange(\n\t\t\t\t\t\tvalueWithUniqueIds(value).filter(\n\t\t\t\t\t\t\t({ __id: id }) => id !== idToRemove\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\n\t\t\t\ttoggleOptionsPanel: (idToAdd) => {\n\t\t\t\t\tif (value.length > 0 && !value[0].__id) {\n\t\t\t\t\t\tlocalOnChange(computedValue)\n\t\t\t\t\t}\n\n\t\t\t\t\tsetState((state) => ({\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\tisOpen: state.isOpen === idToAdd ? false : idToAdd,\n\t\t\t\t\t}))\n\t\t\t\t},\n\t\t\t}}>\n\t\t\t<SortableList\n\t\t\t\tuseDragHandle\n\t\t\t\tdistance={3}\n\t\t\t\tlockAxis=\"y\"\n\t\t\t\titems={computedValue}\n\t\t\t\tonChange={(v) => {\n\t\t\t\t\tlocalOnChange(v)\n\t\t\t\t}}\n\t\t\t\thelperContainer={() =>\n\t\t\t\t\tdocument.querySelector('#customize-theme-controls') ||\n\t\t\t\t\tdocument.body\n\t\t\t\t}\n\t\t\t\tonSortEnd={({ oldIndex, newIndex }) => {\n\t\t\t\t\tlocalOnChange(arrayMove(computedValue, oldIndex, newIndex))\n\n\t\t\t\t\tsetState((state) => ({\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\tisDragging: false,\n\t\t\t\t\t}))\n\t\t\t\t}}\n\t\t\t\tupdateBeforeSortStart={({ index }) => {\n\t\t\t\t\tnew Promise((resolve) => {\n\t\t\t\t\t\tif (value.length > 0 && !value[0].__id) {\n\t\t\t\t\t\t\twp.customize &&\n\t\t\t\t\t\t\t\twp.customize.previewer &&\n\t\t\t\t\t\t\t\twp.customize.previewer.send(\n\t\t\t\t\t\t\t\t\t'ct:sync:refresh_partial',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tshouldSkip: true,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tlocalOnChange(computedValue)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetState((state) => ({\n\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\tisDragging: computedValue[index].__id,\n\t\t\t\t\t\t}))\n\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t<button\n\t\t\t\tclassName=\"button\"\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\taddForId()\n\t\t\t\t}}>\n\t\t\t\t{__('Add New Item', 'blocksy')}\n\t\t\t</button>\n\t\t</Provider>\n\t)\n}\n\nexport default Layers\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseEffect,\n\tuseMemo,\n\tuseCallback,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { __ } from 'ct-i18n'\nimport GenericOptionType from '../../GenericOptionType'\n\nexport const patternsList = [\n\t{\n\t\tid: 'type-1',\n\t\ttitle: __('Hideout', 'blocksy'),\n\t\tsrc: 'patterns/hideout.svg',\n\t},\n\n\t{\n\t\tid: 'type-2',\n\t\ttitle: __('Triangles', 'blocksy'),\n\t\tsrc: 'patterns/triangles.svg',\n\t},\n\n\t{\n\t\tid: 'type-3',\n\t\ttitle: __('Bubbles', 'blocksy'),\n\t\tsrc: 'patterns/bubbles.svg',\n\t},\n\n\t{\n\t\tid: 'type-4',\n\t\ttitle: __('Wiggle', 'blocksy'),\n\t\tsrc: 'patterns/wiggle.svg',\n\t},\n\n\t{\n\t\tid: 'type-5',\n\t\ttitle: __('Polka Dots', 'blocksy'),\n\t\tsrc: 'patterns/polka-dots.svg',\n\t},\n\n\t{\n\t\tid: 'type-6',\n\t\ttitle: __('Overlaping Circles', 'blocksy'),\n\t\tsrc: 'patterns/overlaping-circles.svg',\n\t},\n\n\t{\n\t\tid: 'type-7',\n\t\ttitle: __('Texture', 'blocksy'),\n\t\tsrc: 'patterns/texture.svg',\n\t},\n\n\t{\n\t\tid: 'type-8',\n\t\ttitle: __('Diagonal Lines', 'blocksy'),\n\t\tsrc: 'patterns/diagonal-lines.svg',\n\t},\n\n\t{\n\t\tid: 'type-9',\n\t\ttitle: __('Rain', 'blocksy'),\n\t\tsrc: 'patterns/rain.svg',\n\t},\n\n\t{\n\t\tid: 'type-10',\n\t\ttitle: __('Stripes', 'blocksy'),\n\t\tsrc: 'patterns/stripes.svg',\n\t},\n\n\t{\n\t\tid: 'type-11',\n\t\ttitle: __('Diagonal Stripes', 'blocksy'),\n\t\tsrc: 'patterns/diagonal-stripes.svg',\n\t},\n\n\t{\n\t\tid: 'type-12',\n\t\ttitle: __('Intersecting Circles', 'blocksy'),\n\t\tsrc: 'patterns/intersecting-circles.svg',\n\t},\n\n\t{\n\t\tid: 'type-13',\n\t\ttitle: __('Bank Note', 'blocksy'),\n\t\tsrc: 'patterns/bank-note.svg',\n\t},\n\n\t{\n\t\tid: 'type-14',\n\t\ttitle: __('Zig Zag', 'blocksy'),\n\t\tsrc: 'patterns/zig-zag.svg',\n\t},\n\n\t{\n\t\tid: 'type-15',\n\t\ttitle: __('Endless Clouds', 'blocksy'),\n\t\tsrc: 'patterns/endless-clouds.svg',\n\t},\n\n\t{\n\t\tid: 'type-16',\n\t\ttitle: __('Honey Comb', 'blocksy'),\n\t\tsrc: 'patterns/honey-comb.svg',\n\t},\n\n\t{\n\t\tid: 'type-17',\n\t\ttitle: __('Cross Stripes', 'blocksy'),\n\t\tsrc: 'patterns/cross-stripes.svg',\n\t},\n\n\t{\n\t\tid: 'type-18',\n\t\ttitle: __('Autumn', 'blocksy'),\n\t\tsrc: 'patterns/autumn.svg',\n\t},\n]\n\nexport const getUrlForPattern = (id) =>\n\t(window.ct_localizations || ct_customizer_localizations).static_public_url +\n\t`images/${patternsList.find((p) => p.id === id).src}`\n\nconst PatternPicker = ({ option, value, onChange }) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t<ul className=\"ct-patterns-list\">\n\t\t\t\t{patternsList.map((singlePattern) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\tbackground_pattern: singlePattern.id,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\t\tsinglePattern.id === value.background_pattern,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tkey={singlePattern.id}\n\t\t\t\t\t\ttitle={singlePattern.title}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\twindow.ct_localizations ||\n\t\t\t\t\t\t\t\t\tct_customizer_localizations\n\t\t\t\t\t\t\t\t).static_public_url +\n\t\t\t\t\t\t\t\t`images/${singlePattern.src}`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t<GenericOptionType\n\t\t\t\tvalue={value['patternColor']}\n\t\t\t\tvalues={value}\n\t\t\t\toption={{\n\t\t\t\t\tid: 'patternColor',\n\t\t\t\t\tlabel: __('Pattern Color', 'blocksy'),\n\t\t\t\t\ttype: 'ct-color-picker',\n\t\t\t\t\tdesign: 'inline',\n\t\t\t\t\tvalue: option.value['patternColor'],\n\t\t\t\t\tpickers: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: __('Initial', 'blocksy'),\n\t\t\t\t\t\t\tid: 'default',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tskipNoColorPill: true,\n\t\t\t\t\tskipArrow: true,\n\t\t\t\t\tappendToBody: false,\n\t\t\t\t}}\n\t\t\t\thasRevertButton={false}\n\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\tpatternColor: newValue,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\t\t</Fragment>\n\t)\n}\n\nexport default PatternPicker\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseEffect,\n\tuseMemo,\n\tuseCallback,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { __ } from 'ct-i18n'\nimport GenericOptionType from '../../GenericOptionType'\n\nconst ImagePicker = ({ option, value, onChange, setOutsideClickFreezed }) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t<GenericOptionType\n\t\t\t\tvalue={value['background_image']}\n\t\t\t\tvalues={value}\n\t\t\t\toption={{\n\t\t\t\t\tid: 'background_image',\n\t\t\t\t\tlabel: false,\n\t\t\t\t\ttype: 'ct-image-uploader',\n\t\t\t\t\tvalue: option.value['background_image'],\n\t\t\t\t\thas_position_picker: true,\n\t\t\t\t\temptyLabel: __('Select Image', 'blocksy'),\n\t\t\t\t\tfilledLabel: __('Change Image', 'blocksy'),\n\t\t\t\t\tonFrameOpen: () => {\n\t\t\t\t\t\tsetOutsideClickFreezed(true)\n\t\t\t\t\t},\n\n\t\t\t\t\tonFrameClose: () => {\n\t\t\t\t\t\tsetOutsideClickFreezed(false)\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\thasRevertButton={false}\n\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\tbackground_image: newValue,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<GenericOptionType\n\t\t\t\tvalue={value['background_repeat']}\n\t\t\t\tvalues={value}\n\t\t\t\toption={{\n\t\t\t\t\tid: 'background_repeat',\n\t\t\t\t\tlabel: __('Background Repeat', 'blocksy'),\n\t\t\t\t\tattr: { 'data-type': 'repeat' },\n\t\t\t\t\ttype: 'ct-radio',\n\t\t\t\t\tview: 'text',\n\t\t\t\t\tdesign: 'block',\n\t\t\t\t\tvalue: option.value['background_repeat'],\n\t\t\t\t\tchoices: {\n\t\t\t\t\t\trepeat: `<svg viewBox=\"0 0 16 16\"><path d=\"M0,0h4v4H0V0z M6,0h4v4H6V0z M12,0h4v4h-4V0z M0,6h4v4H0V6z M6,6h4v4H6V6z M12,6h4v4h-4V6z M0,12h4v4H0V12z M6,12h4v4H6V12zM12,12h4v4h-4V12z\"/></svg>\n\t\t\t\t\t\t\t<span class=\"ct-tooltip-top\">${__('Repeat', 'blocksy')}</span>`,\n\n\t\t\t\t\t\t'repeat-y': `<svg viewBox=\"0 0 16 16\"><rect x=\"6\" width=\"4\" height=\"4\"/><rect x=\"6\" y=\"6\" width=\"4\" height=\"4\"/><rect x=\"6\" y=\"12\" width=\"4\" height=\"4\"/></svg>\n\t\t\t\t\t\t\t<span class=\"ct-tooltip-top\">${__('Repeat Y', 'blocksy')}</span>`,\n\n\t\t\t\t\t\t'repeat-x': `<svg viewBox=\"0 0 16 16\"><rect y=\"6\" width=\"4\" height=\"4\"/><rect x=\"6\" y=\"6\" width=\"4\" height=\"4\"/><rect x=\"12\" y=\"6\" width=\"4\" height=\"4\"/></svg>\n\t\t\t\t\t\t\t<span class=\"ct-tooltip-top\">${__('Repeat X', 'blocksy')}</span>`,\n\n\t\t\t\t\t\t'no-repeat': `<svg viewBox=\"0 0 16 16\"><rect x=\"6\" y=\"6\" width=\"4\" height=\"4\"/></svg>\n\t\t\t\t\t\t\t<span class=\"ct-tooltip-top\">${__('No Repeat', 'blocksy')}</span>`,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\thasRevertButton={false}\n\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\tbackground_repeat: newValue,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<GenericOptionType\n\t\t\t\tvalue={value['background_size']}\n\t\t\t\tvalues={value}\n\t\t\t\toption={{\n\t\t\t\t\tid: 'background_size',\n\t\t\t\t\tlabel: __('Background Size', 'blocksy'),\n\t\t\t\t\ttype: 'ct-radio',\n\t\t\t\t\tview: 'text',\n\t\t\t\t\tdesign: 'block',\n\t\t\t\t\tvalue: option.value['background_size'],\n\t\t\t\t\tchoices: {\n\t\t\t\t\t\tauto: __('Auto', 'blocksy'),\n\t\t\t\t\t\tcover: __('Cover', 'blocksy'),\n\t\t\t\t\t\tcontain: __('Contain', 'blocksy'),\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\thasRevertButton={false}\n\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\tbackground_size: newValue,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<GenericOptionType\n\t\t\t\tvalue={value['background_attachment']}\n\t\t\t\tvalues={value}\n\t\t\t\toption={{\n\t\t\t\t\tid: 'background_size',\n\t\t\t\t\tlabel: __('Background Attachment', 'blocksy'),\n\t\t\t\t\ttype: 'ct-radio',\n\t\t\t\t\tview: 'text',\n\t\t\t\t\tdesign: 'block',\n\t\t\t\t\tvalue: option.value['background_attachment'],\n\t\t\t\t\tchoices: {\n\t\t\t\t\t\tscroll: __('Scroll', 'blocksy'),\n\t\t\t\t\t\tfixed: __('Fixed', 'blocksy'),\n\t\t\t\t\t\tinherit: __('Inherit', 'blocksy'),\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\thasRevertButton={false}\n\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\tbackground_attachment: newValue,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t{value.background_image.url && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<GenericOptionType\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tvalue.overlayColor &&\n\t\t\t\t\t\t\tvalue.overlayColor.default.color.indexOf(\n\t\t\t\t\t\t\t\t'CT_CSS_SKIP_RULE'\n\t\t\t\t\t\t\t) === -1\n\t\t\t\t\t\t\t\t? 'yes'\n\t\t\t\t\t\t\t\t: 'no'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalues={{}}\n\t\t\t\t\t\toption={{\n\t\t\t\t\t\t\tid: 'has_overlay',\n\t\t\t\t\t\t\tlabel: __('Image Overlay', 'blocksy'),\n\t\t\t\t\t\t\ttype: 'ct-radio',\n\t\t\t\t\t\t\tview: 'text',\n\t\t\t\t\t\t\tdesign: 'block',\n\t\t\t\t\t\t\tvalue: 'no',\n\t\t\t\t\t\t\tchoices: {\n\t\t\t\t\t\t\t\tno: __('Disabled', 'blocksy'),\n\t\t\t\t\t\t\t\tyes: __('Enabled', 'blocksy'),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thasRevertButton={false}\n\t\t\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\t\t\tlet hasOverlay =\n\t\t\t\t\t\t\t\tvalue.overlayColor.default.color.indexOf(\n\t\t\t\t\t\t\t\t\t'CT_CSS_SKIP_RULE'\n\t\t\t\t\t\t\t\t) === -1\n\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\toverlayColor: {\n\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\tcolor: hasOverlay\n\t\t\t\t\t\t\t\t\t\t\t? 'CT_CSS_SKIP_RULE'\n\t\t\t\t\t\t\t\t\t\t\t: 'rgba(0, 0, 0, 0.2)',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{value.overlayColor &&\n\t\t\t\t\t\tvalue.overlayColor.default.color.indexOf(\n\t\t\t\t\t\t\t'CT_CSS_SKIP_RULE'\n\t\t\t\t\t\t) === -1 && (\n\t\t\t\t\t\t\t<GenericOptionType\n\t\t\t\t\t\t\t\tvalue={value['overlayColor']}\n\t\t\t\t\t\t\t\tvalues={value}\n\t\t\t\t\t\t\t\toption={{\n\t\t\t\t\t\t\t\t\tid: 'overlayColor',\n\t\t\t\t\t\t\t\t\tlabel: __('Image Overlay Color', 'blocksy'),\n\t\t\t\t\t\t\t\t\ttype: 'ct-color-picker',\n\t\t\t\t\t\t\t\t\tdesign: 'inline',\n\t\t\t\t\t\t\t\t\tvalue: option.value['overlayColor'],\n\t\t\t\t\t\t\t\t\tpickers: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttitle: __('Initial', 'blocksy'),\n\t\t\t\t\t\t\t\t\t\t\tid: 'default',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tskipArrow: true,\n\t\t\t\t\t\t\t\t\tappendToBody: false,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\thasRevertButton={false}\n\t\t\t\t\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\toverlayColor: newValue,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t</Fragment>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nexport default ImagePicker\n","import {\n\tFragment,\n\tcreateElement,\n\tuseRef,\n\tuseEffect,\n\tuseMemo,\n\tuseCallback,\n\tuseState,\n} from '@wordpress/element'\n\nimport classnames from 'classnames'\n\nimport { GradientPicker as StableGradientPicker } from '@wordpress/components'\n\nconst GradientPicker = ({ value, onChange }) => {\n\tconst allGradients = (window.ct_customizer_localizations ||\n\t\twindow.ct_localizations)['gradients']\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<StableGradientPicker\n\t\t\t\tvalue={value.gradient || ''}\n\t\t\t\tonChange={(val) => {\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\tgradient: val,\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t<ul className={'ct-gradient-swatches'}>\n\t\t\t\t{allGradients.map(({ gradient, slug }) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\tgradient:\n\t\t\t\t\t\t\t\t\tvalue.gradient === gradient ? '' : gradient,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\tactive: gradient === value.gradient,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t'--background-image': gradient,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tkey={slug}></li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</Fragment>\n\t)\n}\n\nexport default GradientPicker\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseEffect,\n\tuseMemo,\n\tuseCallback,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { __ } from 'ct-i18n'\n\nimport GenericOptionType from '../../GenericOptionType'\nimport PatternPicker from './PatternPicker'\nimport ImagePicker from './ImagePicker'\n\nimport GradientPicker from './GradientPicker'\n\nconst BackgroundModal = ({\n\toption,\n\toption: { activeTabs = ['color', 'gradient', 'image'] },\n\tvalue,\n\tisOpen,\n\tonChange,\n\tsetOutsideClickFreezed,\n}) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t<ul\n\t\t\t\tclassName=\"ct-modal-tabs\"\n\t\t\t\tonMouseUp={(e) => {\n\t\t\t\t\te.preventDefault()\n\t\t\t\t}}>\n\t\t\t\t{activeTabs.map((type) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tdata-type={type}\n\t\t\t\t\t\tkey={type}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\t\ttype === value.background_type ||\n\t\t\t\t\t\t\t\t(type === 'image' &&\n\t\t\t\t\t\t\t\t\t(value.background_type === 'pattern' ||\n\t\t\t\t\t\t\t\t\t\tvalue.background_type === 'image')),\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\tbackground_type: type,\n\n\t\t\t\t\t\t\t\t...(type === 'gradient' && !value.gradient\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\tgradient:\n\t\t\t\t\t\t\t\t\t\t\t\t'linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)',\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcolor: __('Color', 'blocksy'),\n\t\t\t\t\t\t\t\tgradient: __('Gradient', 'blocksy'),\n\t\t\t\t\t\t\t\t// pattern: __('Pattern', 'blocksy'),\n\t\t\t\t\t\t\t\timage: __('Image', 'blocksy'),\n\t\t\t\t\t\t\t}[type]\n\t\t\t\t\t\t}\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\n\t\t\t<div\n\t\t\t\tclassName={classnames(\n\t\t\t\t\t{\n\t\t\t\t\t\t'ct-image-tab ct-options-container':\n\t\t\t\t\t\t\tvalue.background_type === 'image' ||\n\t\t\t\t\t\t\tvalue.background_type === 'pattern',\n\t\t\t\t\t\t'ct-color-picker-modal':\n\t\t\t\t\t\t\tvalue.background_type === 'gradient',\n\t\t\t\t\t\t'ct-gradient-tab': value.background_type === 'gradient',\n\t\t\t\t\t\t'ct-color-tab': value.background_type === 'color',\n\t\t\t\t\t},\n\t\t\t\t\t'ct-modal-tabs-content'\n\t\t\t\t)}>\n\t\t\t\t{(value.background_type === 'image' ||\n\t\t\t\t\tvalue.background_type === 'pattern') && (\n\t\t\t\t\t<ul\n\t\t\t\t\t\tclassName=\"ct-radio-option ct-buttons-group\"\n\t\t\t\t\t\tonMouseUp={(e) => {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{['image', 'pattern'].map((type) => (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tdata-type={type}\n\t\t\t\t\t\t\t\tkey={type}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\tactive: type === value.background_type,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\tbackground_type: type,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tpattern: __('Pattern', 'blocksy'),\n\t\t\t\t\t\t\t\t\t\timage: __('Image', 'blocksy'),\n\t\t\t\t\t\t\t\t\t}[type]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\n\t\t\t\t{value.background_type === 'pattern' && (\n\t\t\t\t\t<PatternPicker\n\t\t\t\t\t\toption={option}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{value.background_type === 'image' && (\n\t\t\t\t\t<ImagePicker\n\t\t\t\t\t\tsetOutsideClickFreezed={setOutsideClickFreezed}\n\t\t\t\t\t\toption={option}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{value.background_type === 'gradient' && (\n\t\t\t\t\t<GradientPicker value={value} onChange={onChange} />\n\t\t\t\t)}\n\n\t\t\t\t{value.background_type !== 'gradient' && (\n\t\t\t\t\t<GenericOptionType\n\t\t\t\t\t\tvalue={value['backgroundColor']}\n\t\t\t\t\t\tvalues={value}\n\t\t\t\t\t\toption={{\n\t\t\t\t\t\t\tid: 'backgroundColor',\n\t\t\t\t\t\t\tlabel:\n\t\t\t\t\t\t\t\tvalue.background_type === 'color'\n\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t: __('Background Color', 'blocksy'),\n\t\t\t\t\t\t\ttype: 'ct-color-picker',\n\t\t\t\t\t\t\tskipNoColorPill: true,\n\t\t\t\t\t\t\tdesign:\n\t\t\t\t\t\t\t\tvalue.background_type === 'color'\n\t\t\t\t\t\t\t\t\t? 'none'\n\t\t\t\t\t\t\t\t\t: 'inline',\n\t\t\t\t\t\t\tvalue: option.value['backgroundColor'],\n\t\t\t\t\t\t\tpickers: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: __('Initial', 'blocksy'),\n\t\t\t\t\t\t\t\t\tid: 'default',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tinline_modal: value.background_type === 'color',\n\t\t\t\t\t\t\tskipArrow: true,\n\t\t\t\t\t\t\tappendToBody: false,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thasRevertButton={false}\n\t\t\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\tbackgroundColor: newValue,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Fragment>\n\t)\n}\n\nexport default BackgroundModal\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseEffect,\n\tuseMemo,\n\tuseCallback,\n\tcreatePortal,\n\tuseState,\n} from '@wordpress/element'\nimport cls from 'classnames'\nimport BackgroundModal from './background/BackgroundModal'\nimport OutsideClickHandler from './react-outside-click-handler'\nimport { getUrlForPattern } from './background/PatternPicker'\nimport { __ } from 'ct-i18n'\n\nimport usePopoverMaker from '../helpers/usePopoverMaker'\n\n/**\n * Support color picker values inside the background picker.\n * Which means transitions from ct-color-picker are made possible thanks to\n * this logic.\n */\nconst maybeConvertFromColorPickerTo = (value) => {\n\tif (!value.background_type) {\n\t\tif (value[Object.keys(value)[0]].color) {\n\t\t\treturn {\n\t\t\t\tbackground_type: 'color',\n\t\t\t\tbackground_pattern: 'type-1',\n\t\t\t\tbackground_image: {\n\t\t\t\t\tattachment_id: null,\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t},\n\n\t\t\t\tbackground_repeat: 'no-repeat',\n\t\t\t\tbackground_size: 'auto',\n\t\t\t\tbackground_attachment: 'scroll',\n\n\t\t\t\tpatternColor: {\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\tcolor: '#e5e7ea',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tbackgroundColor: {\n\t\t\t\t\tdefault: value[Object.keys(value)[0]],\n\t\t\t\t},\n\t\t\t}\n\t\t}\n\t}\n\n\treturn value\n}\n\nconst Background = ({ option, value, onChange }) => {\n\tconst [isOpen, setIsOpen] = useState(false)\n\tconst [outsideClickFreezed, setOutsideClickFreezed] = useState(false)\n\tconst backgroundWrapper = useRef()\n\n\tvalue = maybeConvertFromColorPickerTo(value)\n\n\tconst isInherit =\n\t\t!option.has_no_color &&\n\t\tvalue.background_type === 'color' &&\n\t\t(value.backgroundColor.default.color === 'CT_CSS_SKIP_RULE' ||\n\t\t\tvalue.backgroundColor.default.color === 'transparent')\n\n\tconst isNoColor =\n\t\toption.has_no_color &&\n\t\tvalue.background_type === 'color' &&\n\t\t(value.backgroundColor.default.color === 'CT_CSS_SKIP_RULE' ||\n\t\t\tvalue.backgroundColor.default.color === 'transparent')\n\n\tconst { styles, popoverProps } = usePopoverMaker({\n\t\tref: backgroundWrapper,\n\t\tdefaultHeight: 434,\n\t\tshouldCalculate: backgroundWrapper && backgroundWrapper.current,\n\t})\n\n\treturn (\n\t\t<div\n\t\t\tref={backgroundWrapper}\n\t\t\tclassName={cls('ct-background', {\n\t\t\t\tactive: isOpen,\n\t\t\t})}>\n\t\t\t<div\n\t\t\t\tclassName={cls('ct-background-preview', {\n\t\t\t\t\t'ct-color-inherit': isInherit,\n\t\t\t\t\t'ct-no-color': isNoColor,\n\t\t\t\t})}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tsetIsOpen(!isOpen)\n\n\t\t\t\t\tif (value.background_type === 'color') {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tvalue.backgroundColor.default.color ===\n\t\t\t\t\t\t\t\t'CT_CSS_SKIP_RULE' ||\n\t\t\t\t\t\t\tvalue.backgroundColor.default.color ===\n\t\t\t\t\t\t\t\t'transparent'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\tbackgroundColor: {\n\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\toption.default_inherit_color ||\n\t\t\t\t\t\t\t\t\t\t\t'#ffffff',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tdata-background-type={value.background_type}\n\t\t\t\tstyle={{\n\t\t\t\t\t...(value.backgroundColor.default.color.indexOf(\n\t\t\t\t\t\t'CT_CSS_SKIP_RULE'\n\t\t\t\t\t) > -1\n\t\t\t\t\t\t? {}\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\tbackgroundColor:\n\t\t\t\t\t\t\t\t\tvalue.backgroundColor.default.color,\n\t\t\t\t\t\t  }),\n\n\t\t\t\t\t'--background-position': `${Math.round(\n\t\t\t\t\t\tparseFloat(value.background_image.x) * 100\n\t\t\t\t\t)}% ${Math.round(\n\t\t\t\t\t\tparseFloat(value.background_image.y) * 100\n\t\t\t\t\t)}%`,\n\n\t\t\t\t\t'--pattern-mask':\n\t\t\t\t\t\tvalue.background_type === 'pattern'\n\t\t\t\t\t\t\t? `url(${getUrlForPattern(\n\t\t\t\t\t\t\t\t\tvalue.background_pattern\n\t\t\t\t\t\t\t  )})`\n\t\t\t\t\t\t\t: '',\n\n\t\t\t\t\t'--background-image':\n\t\t\t\t\t\tvalue.background_type === 'gradient'\n\t\t\t\t\t\t\t? value.gradient\n\t\t\t\t\t\t\t: value.background_image.url\n\t\t\t\t\t\t\t? `${\n\t\t\t\t\t\t\t\t\tvalue.overlayColor &&\n\t\t\t\t\t\t\t\t\tvalue.overlayColor.default.color.indexOf(\n\t\t\t\t\t\t\t\t\t\t'CT_CSS_SKIP_RULE'\n\t\t\t\t\t\t\t\t\t) === -1\n\t\t\t\t\t\t\t\t\t\t? `linear-gradient(${value.overlayColor.default.color}, ${value.overlayColor.default.color}), `\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t  }url(${value.background_image.url})`\n\t\t\t\t\t\t\t: 'none',\n\t\t\t\t\t'--pattern-color': value.patternColor.default.color,\n\t\t\t\t}}>\n\t\t\t\t<i className=\"ct-tooltip-top\">\n\t\t\t\t\t{\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tinherit: __('Inherited', 'blocksy'),\n\t\t\t\t\t\t\tno_color: __('No Color', 'blocksy'),\n\t\t\t\t\t\t\tpattern: __('Pattern', 'blocksy'),\n\t\t\t\t\t\t\tgradient: __('Gradient', 'blocksy'),\n\t\t\t\t\t\t\tcolor: __('Color', 'blocksy'),\n\t\t\t\t\t\t\timage: __('Image', 'blocksy'),\n\t\t\t\t\t\t}[\n\t\t\t\t\t\t\tisNoColor\n\t\t\t\t\t\t\t\t? 'no_color'\n\t\t\t\t\t\t\t\t: isInherit\n\t\t\t\t\t\t\t\t? 'inherit'\n\t\t\t\t\t\t\t\t: value.background_type\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t</i>\n\n\t\t\t\t{isInherit && (\n\t\t\t\t\t<svg width=\"25\" height=\"25\" viewBox=\"0 0 30 30\">\n\t\t\t\t\t\t<path d=\"M15 3c-3 0-5.7 1.1-7.8 2.9-.4.3-.5.9-.2 1.4.3.4 1 .5 1.4.2h.1C10.3 5.9 12.5 5 15 5c5.2 0 9.5 3.9 10 9h-3l4 6 4-6h-3.1C26.4 7.9 21.3 3 15 3zM4 10l-4 6h3.1c.5 6.1 5.6 11 11.9 11 3 0 5.7-1.1 7.8-2.9.4-.3.5-1 .2-1.4-.3-.4-1-.5-1.4-.2h-.1c-1.7 1.5-4 2.4-6.5 2.4-5.2 0-9.5-3.9-10-9h3L4 10z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{backgroundWrapper &&\n\t\t\t\tbackgroundWrapper.current &&\n\t\t\t\tcreatePortal(\n\t\t\t\t\t<OutsideClickHandler\n\t\t\t\t\t\tuseCapture={false}\n\t\t\t\t\t\tdisplay=\"block\"\n\t\t\t\t\t\tdisabled={!isOpen || outsideClickFreezed}\n\t\t\t\t\t\tonOutsideClick={() => {\n\t\t\t\t\t\t\tsetTimeout(() => setIsOpen(false))\n\t\t\t\t\t\t}}\n\t\t\t\t\t\twrapperProps={{\n\t\t\t\t\t\t\tstyle: styles,\n\t\t\t\t\t\t\t...popoverProps,\n\t\t\t\t\t\t\tclassName: cls(\n\t\t\t\t\t\t\t\t'ct-option-modal ct-background-modal',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tactive: isOpen,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<BackgroundModal\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\tisOpen={isOpen}\n\t\t\t\t\t\t\tsetOutsideClickFreezed={setOutsideClickFreezed}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</OutsideClickHandler>,\n\t\t\t\t\tdocument.body\n\t\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default Background\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tuseRef,\n\tuseContext,\n\tFragment,\n} from '@wordpress/element'\nimport OutsideClickHandler from './react-outside-click-handler'\nimport classnames from 'classnames'\nimport ColorPicker from './ct-color-picker'\n\nimport { __ } from 'ct-i18n'\n\nconst clamp = (min, max, value) => Math.max(min, Math.min(max, value))\n\nconst Border = ({ value, option, onChange }) => {\n\tconst [isOpen, setIsOpen] = useState(false)\n\n\treturn (\n\t\t<div className={classnames('ct-option-border')}>\n\t\t\t<div\n\t\t\t\tclassName={classnames('ct-value-changer', {\n\t\t\t\t\t['active']: isOpen,\n\t\t\t\t})}>\n\t\t\t\t{value.style !== 'none' && !value.inherit && (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={value.width}\n\t\t\t\t\t\t// disabled={value.style === 'none'}\n\t\t\t\t\t\tonChange={({ target: { value: width } }) =>\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\twidth: clamp(1, 5, parseInt(width, 10) || 1),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<span\n\t\t\t\t\tclassName=\"ct-current-value\"\n\t\t\t\t\tdata-style={value.inherit ? 'none' : value.style}\n\t\t\t\t\tonClick={() => setIsOpen(!isOpen)}>\n\t\t\t\t\t{value.inherit\n\t\t\t\t\t\t? __('Inherit', 'blocksy')\n\t\t\t\t\t\t: value.style === 'none'\n\t\t\t\t\t\t? __('none', 'blocksy')\n\t\t\t\t\t\t: null}\n\t\t\t\t</span>\n\t\t\t\t<OutsideClickHandler\n\t\t\t\t\tclassName=\"ct-units-list\"\n\t\t\t\t\tdisabled={!isOpen}\n\t\t\t\t\tonOutsideClick={() => {\n\t\t\t\t\t\tif (!isOpen) return\n\t\t\t\t\t\tsetIsOpen(false)\n\t\t\t\t\t}}>\n\t\t\t\t\t{['solid', 'dashed', 'dotted', 'none'].map((style) => (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tkey={style}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\tstyle,\n\t\t\t\t\t\t\t\t\t...(Object.keys(option.value).indexOf(\n\t\t\t\t\t\t\t\t\t\t'inherit'\n\t\t\t\t\t\t\t\t\t) > -1\n\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\tinherit: false,\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tsetIsOpen(false)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdata-style={style}>\n\t\t\t\t\t\t\t{style === 'none' ? __('None', 'blocksy') : null}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</OutsideClickHandler>\n\t\t\t</div>\n\n\t\t\t{value.style !== 'none' && !value.inherit && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tonChange={(colorValue) =>\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\tcolor: colorValue.default,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\toption={{\n\t\t\t\t\t\t\tpickers: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tid: 'default',\n\t\t\t\t\t\t\t\t\ttitle: __('Initial', 'blocksy'),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={{\n\t\t\t\t\t\t\tdefault: value.color,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{option.secondColor && (\n\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\tonChange={(colorValue) =>\n\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\tsecondColor: colorValue.default,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toption={{\n\t\t\t\t\t\t\t\tpickers: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'default',\n\t\t\t\t\t\t\t\t\t\ttitle: __('Hover', 'blocksy'),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={{\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tvalue.secondColor ||\n\t\t\t\t\t\t\t\t\toption.value.secondColor,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Fragment>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default Border\n","import { createElement, createPortal } from '@wordpress/element'\nimport { Transition } from 'react-spring/renderprops'\nimport bezierEasing from 'bezier-easing'\nimport classnames from 'classnames'\nimport GenericOptionType from '../../GenericOptionType'\nimport { __ } from 'ct-i18n'\nimport Switch from '../ct-switch'\nimport usePopoverMaker from '../../helpers/usePopoverMaker'\n\nconst BoxShadowModal = ({\n\toption,\n\tvalue,\n\tonChange,\n\tpicker,\n\n\tonPickingChange,\n\tstopTransitioning,\n\n\tel,\n\n\thOffsetRef,\n\tvOffsetRef,\n\tblurRef,\n\tspreadRef,\n\n\tisTransitioning,\n\tisPicking,\n}) => {\n\tconst { styles, popoverProps } = usePopoverMaker({\n\t\tref: el,\n\t\tdefaultHeight: !option.hide_shadow_placement ? 507 : 437,\n\t\tshouldCalculate:\n\t\t\tisTransitioning === picker.id ||\n\t\t\t(isPicking || '').split(':')[0] === picker.id,\n\t})\n\n\treturn (\n\t\t(isTransitioning === picker.id ||\n\t\t\t(isPicking || '').split(':')[0] === picker.id) &&\n\t\tcreatePortal(\n\t\t\t<Transition\n\t\t\t\titems={isPicking}\n\t\t\t\tonRest={(isOpen) => {\n\t\t\t\t\tstopTransitioning()\n\t\t\t\t}}\n\t\t\t\tconfig={{\n\t\t\t\t\tduration: 100,\n\t\t\t\t\teasing: bezierEasing(0.25, 0.1, 0.25, 1.0),\n\t\t\t\t}}\n\t\t\t\tfrom={\n\t\t\t\t\t(isPicking || '').indexOf(':') === -1\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: { opacity: 1 }\n\t\t\t\t}\n\t\t\t\tenter={\n\t\t\t\t\t(isPicking || '').indexOf(':') === -1\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\ttransform: 'scale3d(1, 1, 1)',\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t  }\n\t\t\t\t}\n\t\t\t\tleave={\n\t\t\t\t\t(isPicking || '').indexOf(':') === -1\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t  }\n\t\t\t\t}>\n\t\t\t\t{(isPicking) =>\n\t\t\t\t\t(isPicking || '').split(':')[0] === picker.id &&\n\t\t\t\t\t((props) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{ ...props, ...styles }}\n\t\t\t\t\t\t\t{...popoverProps}\n\t\t\t\t\t\t\tclassName=\"ct-option-modal ct-box-shadow-modal\"\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonMouseDownCapture={(e) => {\n\t\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t\t\t\t\t\t\te.nativeEvent.stopPropagation()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonMouseUpCapture={(e) => {\n\t\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t\t\t\t\t\t\te.nativeEvent.stopPropagation()\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<div className=\"ct-shadow-trigger\">\n\t\t\t\t\t\t\t\t<label>{__('Enable/Disable', 'blocksy')}</label>\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tvalue={value.enable ? 'yes' : 'no'}\n\t\t\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\tenable: !value.enable,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"shadow-sliders\">\n\t\t\t\t\t\t\t\t<GenericOptionType\n\t\t\t\t\t\t\t\t\tvalue={value.h_offset}\n\t\t\t\t\t\t\t\t\tvalues={value}\n\t\t\t\t\t\t\t\t\tid=\"h_offset\"\n\t\t\t\t\t\t\t\t\toption={{\n\t\t\t\t\t\t\t\t\t\tid: 'h_offset',\n\t\t\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\t\t'Horizontal Offset',\n\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\ttype: 'ct-slider',\n\t\t\t\t\t\t\t\t\t\tsteps: 'half',\n\t\t\t\t\t\t\t\t\t\tvalue: option.value.h_offset,\n\t\t\t\t\t\t\t\t\t\tmin: -100,\n\t\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\t\tdesign: 'compact',\n\t\t\t\t\t\t\t\t\t\tref: hOffsetRef,\n\t\t\t\t\t\t\t\t\t\t// skipInput: true\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thasRevertButton={false}\n\t\t\t\t\t\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\th_offset: newValue,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<GenericOptionType\n\t\t\t\t\t\t\t\t\tvalue={value.v_offset}\n\t\t\t\t\t\t\t\t\tvalues={value}\n\t\t\t\t\t\t\t\t\tid=\"v_offset\"\n\t\t\t\t\t\t\t\t\toption={{\n\t\t\t\t\t\t\t\t\t\tsteps: 'half',\n\t\t\t\t\t\t\t\t\t\tid: 'v_offset',\n\t\t\t\t\t\t\t\t\t\tlabel: __('Vertical Offset', 'blocksy'),\n\t\t\t\t\t\t\t\t\t\ttype: 'ct-slider',\n\t\t\t\t\t\t\t\t\t\tvalue: option.value.v_offset,\n\t\t\t\t\t\t\t\t\t\tmin: -100,\n\t\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\t\tdesign: 'compact',\n\t\t\t\t\t\t\t\t\t\tref: vOffsetRef,\n\t\t\t\t\t\t\t\t\t\t// skipInput: true\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thasRevertButton={false}\n\t\t\t\t\t\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\tv_offset: newValue,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<GenericOptionType\n\t\t\t\t\t\t\t\t\tvalue={value.blur}\n\t\t\t\t\t\t\t\t\tvalues={value}\n\t\t\t\t\t\t\t\t\tid=\"blur\"\n\t\t\t\t\t\t\t\t\toption={{\n\t\t\t\t\t\t\t\t\t\tsteps: 'positive',\n\t\t\t\t\t\t\t\t\t\tid: 'blur',\n\t\t\t\t\t\t\t\t\t\tlabel: __('Blur', 'blocksy'),\n\t\t\t\t\t\t\t\t\t\ttype: 'ct-slider',\n\t\t\t\t\t\t\t\t\t\tvalue: option.value.blur,\n\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\t\tdesign: 'compact',\n\t\t\t\t\t\t\t\t\t\tref: blurRef,\n\t\t\t\t\t\t\t\t\t\t// skipInput: true\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thasRevertButton={false}\n\t\t\t\t\t\t\t\t\tonChange={(newValue) => {\n\t\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\tblur: newValue,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<GenericOptionType\n\t\t\t\t\t\t\t\t\tvalue={value.spread}\n\t\t\t\t\t\t\t\t\tvalues={value}\n\t\t\t\t\t\t\t\t\tid=\"spread\"\n\t\t\t\t\t\t\t\t\toption={{\n\t\t\t\t\t\t\t\t\t\tsteps: 'half',\n\t\t\t\t\t\t\t\t\t\tid: 'spread',\n\t\t\t\t\t\t\t\t\t\tlabel: __('Spread', 'blocksy'),\n\t\t\t\t\t\t\t\t\t\ttype: 'ct-slider',\n\t\t\t\t\t\t\t\t\t\tvalue: option.value.spread,\n\t\t\t\t\t\t\t\t\t\tmin: -100,\n\t\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\t\tdesign: 'compact',\n\t\t\t\t\t\t\t\t\t\tref: spreadRef,\n\t\t\t\t\t\t\t\t\t\t// skipInput: true\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thasRevertButton={false}\n\t\t\t\t\t\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\tspread: newValue,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{!option.hide_shadow_placement && (\n\t\t\t\t\t\t\t\t<ul className=\"ct-shadow-style\">\n\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\t\tinset: false,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\t\tactive: !value.inset,\n\t\t\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t\t\t{__('Outline', 'blocksy')}\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\t\tinset: true,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\t\tactive: value.inset,\n\t\t\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t\t\t{__('Inset', 'blocksy')}\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</Transition>,\n\t\t\tdocument.body\n\t\t)\n\t)\n}\n\nexport default BoxShadowModal\n","import { createElement, useState, useRef, useContext } from '@wordpress/element'\nimport OutsideClickHandler from './react-outside-click-handler'\nimport classnames from 'classnames'\nimport SingleColorPicker from './color-picker/single-picker'\nimport { __ } from 'ct-i18n'\nimport BoxShadowModal from './box-shadow/box-shadow-modal'\n\nconst clamp = (min, max, value) => Math.max(min, Math.min(max, value))\n\nconst BoxShadow = ({ value, option, onChange }) => {\n\tconst [{ isPicking, isTransitioning }, setAnimationState] = useState({\n\t\tisPicking: null,\n\t\tisTransitioning: null,\n\t})\n\n\tconst [focusedComponent, setFocusedComponent] = useState(null)\n\n\tconst el = useRef()\n\tconst colorPicker = useRef()\n\n\tconst hOffsetRef = useRef()\n\tconst vOffsetRef = useRef()\n\tconst blurRef = useRef()\n\tconst spreadRef = useRef()\n\n\tconst containerRef = useRef()\n\tconst modalRef = useRef()\n\n\treturn (\n\t\t<div ref={el} className={classnames('ct-box-shadow')}>\n\t\t\t<OutsideClickHandler\n\t\t\t\tuseCapture={false}\n\t\t\t\tdisabled={!isPicking}\n\t\t\t\tclassName=\"ct-box-shadow-values\"\n\t\t\t\tadditionalRefs={[colorPicker, modalRef]}\n\t\t\t\tonOutsideClick={() => {\n\t\t\t\t\tif (!isPicking) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\tisTransitioning: isPicking.split(':')[0],\n\t\t\t\t\t\tisPicking: null,\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t\twrapperProps={{\n\t\t\t\t\tref: containerRef,\n\t\t\t\t\tonClick: (e) => {\n\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\tlet futureIsPicking = isPicking\n\t\t\t\t\t\t\t? isPicking.split(':')[0] === 'opts'\n\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t: `opts:${isPicking.split(':')[0]}`\n\t\t\t\t\t\t\t: 'opts'\n\n\t\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\t\tisTransitioning: 'opts',\n\t\t\t\t\t\t\tisPicking: futureIsPicking,\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t}}>\n\t\t\t\t<span>\n\t\t\t\t\t{value.inherit\n\t\t\t\t\t\t? __('Inherit', 'blocksy')\n\t\t\t\t\t\t: value.enable\n\t\t\t\t\t\t? __('Adjust', 'blocksy')\n\t\t\t\t\t\t: __('None', 'blocksy')}\n\t\t\t\t</span>\n\t\t\t</OutsideClickHandler>\n\n\t\t\t{value.enable && !value.inherit && (\n\t\t\t\t<SingleColorPicker\n\t\t\t\t\tinnerRef={colorPicker}\n\t\t\t\t\tpicker={{\n\t\t\t\t\t\tid: 'default',\n\t\t\t\t\t\ttitle: 'Initial',\n\t\t\t\t\t}}\n\t\t\t\t\toption={{\n\t\t\t\t\t\tpickers: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'default',\n\t\t\t\t\t\t\t\ttitle: 'Initial',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}}\n\t\t\t\t\tisPicking={isPicking}\n\t\t\t\t\tisTransitioning={isTransitioning}\n\t\t\t\t\tmodalRef={modalRef}\n\t\t\t\t\tcontainerRef={containerRef}\n\t\t\t\t\tonPickingChange={(isPicking) => {\n\t\t\t\t\t\tif (!value.enable) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\t\tisTransitioning: 'default',\n\t\t\t\t\t\t\tisPicking,\n\t\t\t\t\t\t})\n\t\t\t\t\t}}\n\t\t\t\t\tstopTransitioning={() =>\n\t\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\t\tisPicking,\n\t\t\t\t\t\t\tisTransitioning: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonChange={(colorValue) =>\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\tcolor: colorValue,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tvalue={value.color}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<BoxShadowModal\n\t\t\t\tel={el}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={(value) =>\n\t\t\t\t\tonChange({\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\tinherit: false,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\toption={option}\n\t\t\t\tisPicking={isPicking}\n\t\t\t\tisTransitioning={isTransitioning}\n\t\t\t\thOffsetRef={hOffsetRef}\n\t\t\t\tvOffsetRef={vOffsetRef}\n\t\t\t\tblurRef={blurRef}\n\t\t\t\tspreadRef={spreadRef}\n\t\t\t\tpicker={{\n\t\t\t\t\tid: 'opts',\n\t\t\t\t}}\n\t\t\t\tonPickingChange={(isPicking) => {\n\t\t\t\t\tif (!value.enable) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\tisTransitioning: 'opts',\n\t\t\t\t\t\tisPicking,\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t\tstopTransitioning={() =>\n\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\tisPicking,\n\t\t\t\t\t\tisTransitioning: false,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default BoxShadow\n","import { Fragment, createElement, Component } from '@wordpress/element'\n\nconst Button = ({ option: { text = '', attr = {}, panel, url } }) => (\n\t<a\n\t\t{...{\n\t\t\t...(attr || {})\n\t\t}}\n\t\thref={url}\n\t\ttarget=\"_blank\"\n\t\tonClick={e => {\n\t\t\treturn\n\t\t\te.preventDefault()\n\n\t\t\tif (panel && wp.customize && wp.customize.panel(panel)) {\n\t\t\t\twp.customize.panel(panel).expand()\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\turl && location.assign(url)\n\t\t}}>\n\t\t{text}\n\t</a>\n)\n\nexport default Button\n","import {\n\tcreateElement,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from '@wordpress/element'\nimport { maybeTransformUnorderedChoices } from '../helpers/parse-choices.js'\nimport classnames from 'classnames'\n\nimport _ from 'underscore'\n\nconst Checkboxes = ({\n\toption,\n\tvalue,\n\tonChange,\n\toption: { view = 'checkboxes' }\n}) => {\n\tconst orderedChoices = maybeTransformUnorderedChoices(option.choices)\n\n\tconst { inline = false } = option\n\n\tif (view === 'checkboxes') {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ct-option-checkbox\"\n\t\t\t\t{...(inline ? { ['data-inline']: '' } : {})}\n\t\t\t\t{...option.attr || {}}>\n\t\t\t\t{orderedChoices.map(({ key, value: choiceValue }) => (\n\t\t\t\t\t<label key={key}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\ttypeof value[key] === 'boolean'\n\t\t\t\t\t\t\t\t\t? value[key]\n\t\t\t\t\t\t\t\t\t: value[key] === 'true'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdata-id={key}\n\t\t\t\t\t\t\tonChange={({ target: { checked } }) =>\n\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t[key]: value[key]\n\t\t\t\t\t\t\t\t\t\t? Object.values(value).filter(v => v)\n\t\t\t\t\t\t\t\t\t\t\t\t.length === 1 &&\n\t\t\t\t\t\t\t\t\t\t\t!option.allow_empty\n\t\t\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t\t\t: true\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{choiceValue}\n\t\t\t\t\t</label>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<ul\n\t\t\tclassName=\"ct-option-checkbox ct-buttons-group\"\n\t\t\t{...(inline ? { ['data-inline']: '' } : {})}\n\t\t\t{...option.attr || {}}>\n\t\t\t{orderedChoices.map(({ key, value: choiceValue }) => (\n\t\t\t\t<li\n\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\ttypeof value[key] === 'boolean'\n\t\t\t\t\t\t\t\t? value[key]\n\t\t\t\t\t\t\t\t: value[key] === 'true'\n\t\t\t\t\t})}\n\t\t\t\t\tdata-id={key}\n\t\t\t\t\tkey={key}\n\t\t\t\t\tonClick={({ target: { checked } }) =>\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t[key]: value[key]\n\t\t\t\t\t\t\t\t? Object.values(value).filter(v => v).length ===\n\t\t\t\t\t\t\t\t\t\t1 && !option.allow_empty\n\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t: true\n\t\t\t\t\t\t})\n\t\t\t\t\t}>\n\t\t\t\t\t{choiceValue}\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t)\n}\n\nexport default Checkboxes\n","import { createElement, useRef, Fragment } from '@wordpress/element'\nimport OptionsPanel from '../../OptionsPanel'\nimport { __, sprintf } from 'ct-i18n'\nimport classnames from 'classnames'\n\nconst PalettePreview = ({\n\trenderBefore = () => null,\n\tvalue,\n\tonChange,\n\tonClick,\n\tcurrentPalette = null,\n\tclassName,\n}) => {\n\tif (!currentPalette) {\n\t\tcurrentPalette = value\n\n\t\tif (value.palettes) {\n\t\t\tcurrentPalette = value.palettes.find(\n\t\t\t\t({ id }) => id === value.current_palette\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classnames('ct-single-palette', className)}\n\t\t\tonClick={(e) => {\n\t\t\t\tif (\n\t\t\t\t\te.target.closest('.ct-color-picker-modal') ||\n\t\t\t\t\te.target.classList.contains('ct-color-picker-modal')\n\t\t\t\t) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tonClick()\n\t\t\t}}>\n\t\t\t{renderBefore()}\n\t\t\t<OptionsPanel\n\t\t\t\thasRevertButton={false}\n\t\t\t\tonChange={(optionId, optionValue) => {\n\t\t\t\t\tif (optionId !== 'color') {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tonChange(\n\t\t\t\t\t\toptionId,\n\t\t\t\t\t\tObject.keys(optionValue).reduce(\n\t\t\t\t\t\t\t(finalValue, currentId) => ({\n\t\t\t\t\t\t\t\t...finalValue,\n\t\t\t\t\t\t\t\t...(currentId.indexOf('color') === 0\n\t\t\t\t\t\t\t\t\t? { [currentId]: optionValue[currentId] }\n\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t}),\n\n\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\tvalue={{ color: currentPalette }}\n\t\t\t\toptions={{\n\t\t\t\t\tcolor: {\n\t\t\t\t\t\ttype: 'ct-color-picker',\n\t\t\t\t\t\tpredefined: true,\n\t\t\t\t\t\tdesign: 'none',\n\t\t\t\t\t\tlabel: false,\n\t\t\t\t\t\tmodalClassName: 'ct-color-palette-modal',\n\t\t\t\t\t\tvalue: currentPalette,\n\n\t\t\t\t\t\t...(onChange ? {} : { skipModal: true }),\n\n\t\t\t\t\t\tpickers: Object.keys(currentPalette)\n\t\t\t\t\t\t\t.filter((k) => k.indexOf('color') === 0)\n\t\t\t\t\t\t\t.map((key, index) => ({\n\t\t\t\t\t\t\t\ttitle: sprintf(\n\t\t\t\t\t\t\t\t\t__('Color %s', 'blocksy'),\n\t\t\t\t\t\t\t\t\tindex + 1\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tid: key,\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default PalettePreview\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseEffect,\n\tuseMemo,\n\tuseCallback,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { __, sprintf } from 'ct-i18n'\nimport { Transition, animated } from '@react-spring/web'\nimport PalettePreview from './PalettePreview'\n\nconst ColorPalettesModal = ({ option, value, onChange, wrapperProps = {} }) => {\n\treturn (\n\t\t<animated.div\n\t\t\tclassName=\"ct-option-modal ct-palettes-modal\"\n\t\t\t{...wrapperProps}>\n\t\t\t{value.palettes.map((palette, index) => (\n\t\t\t\t<PalettePreview\n\t\t\t\t\tcurrentPalette={palette}\n\t\t\t\t\tclassName={\n\t\t\t\t\t\tvalue.current_palette === palette.id ? 'ct-active' : ''\n\t\t\t\t\t}\n\t\t\t\t\trenderBefore={() => (\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t{sprintf(__('Palette #%s', 'blocksy'), index + 1)}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tconst { id, ...colors } = palette\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\tcurrent_palette: id,\n\t\t\t\t\t\t\t...colors,\n\t\t\t\t\t\t})\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</animated.div>\n\t)\n}\n\nexport default ColorPalettesModal\n","import {\n\tcreateElement,\n\tcreatePortal,\n\tuseRef,\n\tFragment,\n\tuseState,\n} from '@wordpress/element'\nimport OptionsPanel from '../OptionsPanel'\nimport { __ } from 'ct-i18n'\nimport cls from 'classnames'\nimport PalettePreview from './color-palettes/PalettePreview'\nimport ColorPalettesModal from './color-palettes/ColorPalettesModal'\n\nimport usePopoverMaker from '../helpers/usePopoverMaker'\nimport OutsideClickHandler from './react-outside-click-handler'\n\nimport { Transition } from '@react-spring/web'\nimport bezierEasing from 'bezier-easing'\n\nconst ColorPalettes = ({ option, value, onChange }) => {\n\tconst colorPalettesWrapper = useRef()\n\n\tconst [{ isOpen, isTransitioning }, setModalState] = useState({\n\t\tisOpen: false,\n\t\tisTransitioning: false,\n\t})\n\n\tconst { styles, popoverProps } = usePopoverMaker({\n\t\tref: colorPalettesWrapper,\n\t\tdefaultHeight: 430,\n\t\tshouldCalculate: isTransitioning || isOpen,\n\t})\n\n\tconst setIsOpen = (isOpen) => {\n\t\tsetModalState((state) => ({\n\t\t\t...state,\n\t\t\tisOpen,\n\t\t\tisTransitioning: true,\n\t\t}))\n\t}\n\n\tconst stopTransitioning = () =>\n\t\tsetModalState((state) => ({\n\t\t\t...state,\n\t\t\tisTransitioning: false,\n\t\t}))\n\tconst properValue = {\n\t\t...option.value,\n\t\t...Object.keys(value).reduce(\n\t\t\t(all, currentKey) => ({\n\t\t\t\t...all,\n\t\t\t\t...(value[currentKey]\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t[currentKey]: value[currentKey],\n\t\t\t\t\t  }\n\t\t\t\t\t: {}),\n\t\t\t}),\n\t\t\t{}\n\t\t),\n\t\t...(option.value.palettes\n\t\t\t? {\n\t\t\t\t\tpalettes: option.value.palettes.map((p, index) => {\n\t\t\t\t\t\tlet maybeCurrentlyInValue = value.palettes.find(\n\t\t\t\t\t\t\t({ id }) => p.id === id\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tlet maybeCurrentValue = {}\n\n\t\t\t\t\t\tif (p.id === value.current_palette) {\n\t\t\t\t\t\t\tObject.keys(p).map((maybeColor) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tmaybeColor.indexOf('color') === 0 &&\n\t\t\t\t\t\t\t\t\tvalue[maybeColor]\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tmaybeCurrentValue[maybeColor] =\n\t\t\t\t\t\t\t\t\t\tvalue[maybeColor]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst result = {\n\t\t\t\t\t\t\t...Object.keys(p).reduce(\n\t\t\t\t\t\t\t\t(all, currentKey) => ({\n\t\t\t\t\t\t\t\t\t...all,\n\t\t\t\t\t\t\t\t\t...(p[currentKey]\n\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t[currentKey]: p[currentKey],\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t...Object.keys(maybeCurrentlyInValue || {}).reduce(\n\t\t\t\t\t\t\t\t(all, currentKey) => ({\n\t\t\t\t\t\t\t\t\t...all,\n\t\t\t\t\t\t\t\t\t...(maybeCurrentlyInValue[currentKey]\n\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t[currentKey]:\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaybeCurrentlyInValue[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentKey\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t...maybeCurrentValue,\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result\n\t\t\t\t\t}),\n\t\t\t  }\n\t\t\t: {}),\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<OutsideClickHandler\n\t\t\t\tdisabled={!isOpen}\n\t\t\t\tuseCapture={false}\n\t\t\t\tclassName=\"ct-palettes-preview\"\n\t\t\t\tadditionalRefs={[popoverProps.ref]}\n\t\t\t\tonOutsideClick={() => {\n\t\t\t\t\tsetIsOpen(false)\n\t\t\t\t}}\n\t\t\t\twrapperProps={{\n\t\t\t\t\tref: colorPalettesWrapper,\n\t\t\t\t\tonClick: (e) => {\n\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\te.target.closest('.ct-color-picker-modal') ||\n\t\t\t\t\t\t\te.target.classList.contains('ct-color-picker-modal')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!properValue.palettes) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetIsOpen(true)\n\t\t\t\t\t},\n\t\t\t\t}}>\n\t\t\t\t<PalettePreview\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (!properValue.palettes) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetIsOpen(true)\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={properValue}\n\t\t\t\t\tonChange={(optionId, optionValue) => {\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t...properValue,\n\t\t\t\t\t\t\t...optionValue,\n\t\t\t\t\t\t\t...(properValue.palettes\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tpalettes: properValue.palettes.map(\n\t\t\t\t\t\t\t\t\t\t\t(p) =>\n\t\t\t\t\t\t\t\t\t\t\t\tp.id ===\n\t\t\t\t\t\t\t\t\t\t\t\tproperValue.current_palette\n\t\t\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...p,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...optionValue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t\t\t: p\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t})\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</OutsideClickHandler>\n\n\t\t\t{(isTransitioning || isOpen) &&\n\t\t\t\tcreatePortal(\n\t\t\t\t\t<Transition\n\t\t\t\t\t\titems={isOpen}\n\t\t\t\t\t\tonRest={(isOpen) => {\n\t\t\t\t\t\t\tstopTransitioning()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tconfig={{\n\t\t\t\t\t\t\tduration: 100,\n\t\t\t\t\t\t\teasing: bezierEasing(0.25, 0.1, 0.25, 1.0),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tfrom={\n\t\t\t\t\t\t\tisOpen\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: { opacity: 1 }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tenter={\n\t\t\t\t\t\t\tisOpen\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\ttransform: 'scale3d(1, 1, 1)',\n\t\t\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tleave={\n\t\t\t\t\t\t\t!isOpen\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t{(style, item) => {\n\t\t\t\t\t\t\tif (!item) {\n\t\t\t\t\t\t\t\treturn null\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ColorPalettesModal\n\t\t\t\t\t\t\t\t\twrapperProps={{\n\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t...style,\n\t\t\t\t\t\t\t\t\t\t\t...styles,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t...popoverProps,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tsetIsOpen(false)\n\t\t\t\t\t\t\t\t\t\tonChange(value)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvalue={properValue}\n\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Transition>,\n\t\t\t\t\tdocument.body\n\t\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default ColorPalettes\n","import {\n\tcreateElement,\n\tComponent,\n\tFragment,\n\tcreateContext,\n\tuseRef,\n\tuseContext,\n\tuseState,\n} from '@wordpress/element'\nimport SinglePicker from './color-picker/single-picker'\nimport OutsideClickHandler from './react-outside-click-handler'\nimport { normalizeCondition, matchValuesWithCondition } from 'match-conditions'\n\nconst ColorPicker = ({ option, values, value, onChange }) => {\n\tconst [{ isPicking, isTransitioning }, setState] = useState({\n\t\tisPicking: null,\n\t\tisTransitioning: null,\n\t})\n\n\tconst containerRef = useRef()\n\tconst modalRef = useRef()\n\n\treturn (\n\t\t<OutsideClickHandler\n\t\t\tuseCapture={false}\n\t\t\tdisplay=\"inline-block\"\n\t\t\tdisabled={!isPicking}\n\t\t\twrapperProps={{\n\t\t\t\tref: containerRef,\n\t\t\t}}\n\t\t\tclassName=\"ct-color-picker-container\"\n\t\t\tadditionalRefs={[modalRef]}\n\t\t\tonOutsideClick={() => {\n\t\t\t\tsetState(({ isPicking }) => ({\n\t\t\t\t\tisPicking: null,\n\t\t\t\t\tisTransitioning: isPicking,\n\t\t\t\t}))\n\t\t\t}}>\n\t\t\t{option.pickers\n\t\t\t\t.filter(\n\t\t\t\t\t(picker) =>\n\t\t\t\t\t\t!picker.condition ||\n\t\t\t\t\t\tmatchValuesWithCondition(\n\t\t\t\t\t\t\tnormalizeCondition(picker.condition),\n\t\t\t\t\t\t\tpicker.condition_source === 'global'\n\t\t\t\t\t\t\t\t? Object.keys(picker.condition).reduce(\n\t\t\t\t\t\t\t\t\t\t(current, key) => ({\n\t\t\t\t\t\t\t\t\t\t\t...current,\n\t\t\t\t\t\t\t\t\t\t\t[key]: wp.customize(key)(),\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: values\n\t\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.map((picker) => (\n\t\t\t\t\t<SinglePicker\n\t\t\t\t\t\tcontainerRef={containerRef}\n\t\t\t\t\t\tpicker={picker}\n\t\t\t\t\t\tkey={picker.id}\n\t\t\t\t\t\toption={option}\n\t\t\t\t\t\tisPicking={isPicking}\n\t\t\t\t\t\tmodalRef={modalRef}\n\t\t\t\t\t\tisTransitioning={isTransitioning}\n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\tonPickingChange={(isPicking) =>\n\t\t\t\t\t\t\tsetState({\n\t\t\t\t\t\t\t\tisTransitioning: picker.id,\n\t\t\t\t\t\t\t\tisPicking,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstopTransitioning={() =>\n\t\t\t\t\t\t\tsetState((state) => ({\n\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\tisTransitioning: false,\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={(newPicker) =>\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t[picker.id]: newPicker,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={value[picker.id] || option.value[picker.id]}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t</OutsideClickHandler>\n\t)\n}\n\nexport default ColorPicker\n","import { Fragment, createElement, useState } from '@wordpress/element'\nimport Overlay from '../../customizer/components/Overlay'\nimport { __ } from 'ct-i18n'\n\nconst CustomizerResetOptions = ({ value, option, onChange }) => {\n\tconst [isShowing, setIsShowing] = useState(false)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<button\n\t\t\t\tclassName=\"button\"\n\t\t\t\tstyle={{ width: '100%' }}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\tsetIsShowing(true)\n\t\t\t\t}}>\n\t\t\t\t{__('Reset Options', 'blocksy')}\n\t\t\t</button>\n\n\t\t\t<Overlay\n\t\t\t\titems={isShowing}\n\t\t\t\tclassName=\"ct-admin-modal ct-reset-options\"\n\t\t\t\tonDismiss={() => setIsShowing(false)}\n\t\t\t\trender={() => (\n\t\t\t\t\t<div className=\"ct-modal-content\">\n\t\t\t\t\t\t<h2 className=\"ct-modal-title\">\n\t\t\t\t\t\t\t{__('Reset Settings', 'blocksy')}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t'You are about to reset all settings to their default values, are you sure you want to continue?',\n\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"ct-modal-actions has-divider\"\n\t\t\t\t\t\t\tdata-buttons=\"2\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tsetIsShowing(false)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"button\">\n\t\t\t\t\t\t\t\t{__('Cancel', 'blocksy')}\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"button button-primary\"\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\t\t\t\tjQuery.post(\n\t\t\t\t\t\t\t\t\t\tajaxurl,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\twp_customize: 'on',\n\t\t\t\t\t\t\t\t\t\t\taction: 'ct_customizer_reset',\n\t\t\t\t\t\t\t\t\t\t\tnonce:\n\t\t\t\t\t\t\t\t\t\t\t\tct_customizer_localizations.customizer_reset_none,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\t\twp.customize\n\t\t\t\t\t\t\t\t\t\t\t\t.state('saved')\n\t\t\t\t\t\t\t\t\t\t\t\t.set(true)\n\t\t\t\t\t\t\t\t\t\t\tlocation.reload()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{__('Confirm', 'blocksy')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</Fragment>\n\t)\n}\n\nexport default CustomizerResetOptions\n","import { Fragment, createElement, Component } from '@wordpress/element'\nimport classnames from 'classnames'\n\nconst Divider = ({ option: { attr: { class: className, ...attr } = {} } }) => (\n\t<div className={classnames('ct-divider', className)} {...attr} />\n)\n\nDivider.renderingConfig = { design: 'none' }\n\nexport default Divider\n","import { createElement, useContext } from '@wordpress/element'\nimport cls from 'classnames'\nimport Sortable from '../placements/Sortable'\nimport { DragDropContext } from '../../../options/options/ct-footer-builder'\nimport { PanelContext } from '../../../options/components/PanelLevel'\n\nimport { customItemsSeparator, getOriginalId } from '../placements/helpers'\n\nconst shallowCompare = (prev, next) => {\n\tfor (let key in next) {\n\t\tif (next[key] !== prev[key]) return false\n\t}\n\treturn true\n}\n\nfunction memo(Component, areEqual = shallowCompare) {\n\tlet prevProps = {}\n\tlet prevResult\n\n\treturn (nextProps) => {\n\t\tif (prevResult !== undefined && areEqual(prevProps, nextProps)) {\n\t\t\treturn prevResult\n\t\t}\n\n\t\tprevProps = nextProps\n\t\tprevResult = createElement(Component, Object.assign({}, nextProps))\n\n\t\treturn prevResult\n\t}\n}\n\nexport const DraggableItem = ({\n\titem,\n\tindex,\n\tpanelType,\n\tonRemove,\n\trenderItem,\n\tonClick,\n\tclassName,\n}) => {\n\tconst itemData = ct_customizer_localizations.header_builder_data[\n\t\tpanelType\n\t].find(({ id }) => id === getOriginalId(item))\n\n\tconst { builderValue } = useContext(DragDropContext)\n\n\tif (renderItem) {\n\t\treturn renderItem({ item, itemData, index })\n\t}\n\n\t/**\n\t * Dynamic items have a : in their ID\n\t */\n\tconst allDynamicItems = Object.keys(builderValue.items).filter(\n\t\t(id) => id.indexOf(customItemsSeparator()) > -1\n\t)\n\n\tconst allClonesAndOriginal = [\n\t\tgetOriginalId(item),\n\t\t...allDynamicItems.filter(\n\t\t\t(id) => getOriginalId(id) === getOriginalId(item)\n\t\t),\n\t]\n\n\treturn (\n\t\t<div\n\t\t\tdata-id={item}\n\t\t\tclassName={cls('ct-builder-item', className, {\n\t\t\t\t// 'ct-is-dragging': snapshot.isDragging\n\t\t\t})}\n\t\t\tonClick={onClick}>\n\t\t\t{itemData && itemData.config\n\t\t\t\t? allClonesAndOriginal.length > 1\n\t\t\t\t\t? `${itemData.config.name} ${\n\t\t\t\t\t\t\tallClonesAndOriginal.indexOf(item) + 1\n\t\t\t\t\t  }`\n\t\t\t\t\t: itemData.config.name\n\t\t\t\t: item}\n\n\t\t\t<button\n\t\t\t\tclassName=\"ct-btn-remove\"\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t\tonRemove()\n\t\t\t\t}}></button>\n\t\t</div>\n\t)\n}\n\nconst DraggableItems = ({\n\titems,\n\tdraggableId,\n\thasPointers = true,\n\tclassName,\n\ttagName = 'div',\n\tdirection = 'horizontal',\n\tgroup = 'header_sortables',\n\toptions = {},\n\tpropsForItem = (item) => ({}),\n\tpanelType = 'footer',\n\tdisplayWrapper = true,\n\t...props\n}) => {\n\tconst { isDragging, setIsDragging, onChange, setList } =\n\t\tuseContext(DragDropContext)\n\n\tconst { panelsHelpers } = useContext(PanelContext)\n\n\tconst itemsOutput = items.map((item, index) => (\n\t\t<DraggableItem\n\t\t\tkey={item}\n\t\t\tindex={index}\n\t\t\tpanelType={panelType}\n\t\t\titem={item}\n\t\t\tclassName={\n\t\t\t\tpanelsHelpers.isOpenFor(`builder_panel_${item}`)\n\t\t\t\t\t? 'ct-customizing'\n\t\t\t\t\t: ''\n\t\t\t}\n\t\t\tonClick={(e) => {\n\t\t\t\te.stopPropagation()\n\t\t\t\te.preventDefault()\n\n\t\t\t\tpanelsHelpers.open(`builder_panel_${item}`)\n\t\t\t}}\n\t\t\tonRemove={() => {\n\t\t\t\tpanelsHelpers.close()\n\n\t\t\t\tsetList({\n\t\t\t\t\t[draggableId]: items.filter((id) => id !== item),\n\t\t\t\t})\n\t\t\t}}\n\t\t\t{...propsForItem(item)}\n\t\t/>\n\t))\n\n\tif (!displayWrapper) {\n\t\treturn itemsOutput\n\t}\n\n\treturn (\n\t\t<Sortable\n\t\t\toptions={{\n\t\t\t\tdelay: 0,\n\t\t\t\tgroup,\n\t\t\t\tfallbackOnBody: true,\n\t\t\t\tforceFallback: true,\n\t\t\t\tfallbackTolerance: 5,\n\t\t\t\tfilter: '.ct-pointer, .ct-btn-remove',\n\t\t\t\tdirection: direction,\n\t\t\t\ttouchStartThreshold: 5,\n\t\t\t\tonStart: (event) => {\n\t\t\t\t\tsetIsDragging(event.item.dataset.id)\n\n\t\t\t\t\tdocument.body.classList.add('ct-builder-dragging')\n\n\t\t\t\t\tif (event.from && group && group.pull !== 'clone') {\n\t\t\t\t\t\tevent.to.classList.add('ct-is-over')\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonEnd: () => {\n\t\t\t\t\tsetIsDragging(false)\n\t\t\t\t\tdocument.body.classList.remove('ct-builder-dragging')\n\t\t\t\t\t;[\n\t\t\t\t\t\t...document.querySelectorAll(\n\t\t\t\t\t\t\t'.ct-panel-builder .ct-is-over'\n\t\t\t\t\t\t),\n\t\t\t\t\t].map((el) => el.classList.remove('ct-is-over'))\n\t\t\t\t},\n\n\t\t\t\tonMove: (event, originalEvent) => {\n\t\t\t\t\tif (event.from.closest('#ct-option-header-builder-items')) {\n\t\t\t\t\t\tPromise.resolve().then(() =>\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t...event.from.querySelectorAll(\n\t\t\t\t\t\t\t\t\t`[data-id=\"${event.dragged.dataset.id}\"]`\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t].map((el) => {\n\t\t\t\t\t\t\t\tel.classList.remove('ct-builder-item')\n\t\t\t\t\t\t\t\tel.classList.add('ct-item-in-builder')\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event.to) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tevent.to.children &&\n\t\t\t\t\t\t\tArray.from(event.to.children).filter(\n\t\t\t\t\t\t\t\t(e) =>\n\t\t\t\t\t\t\t\t\te.dataset.id !== '__pointer__' &&\n\t\t\t\t\t\t\t\t\te.dataset.id !== '__filler__'\n\t\t\t\t\t\t\t).length > 0\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t}\n\t\t\t\t\t\t;[\n\t\t\t\t\t\t\t...document.querySelectorAll(\n\t\t\t\t\t\t\t\t'.ct-panel-builder .ct-is-over'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t].map((el) => el.classList.remove('ct-is-over'))\n\n\t\t\t\t\t\tevent.to.classList.add('ct-is-over')\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t...options,\n\t\t\t}}\n\t\t\tonChange={(order, sortable, evt) => {\n\t\t\t\tif (draggableId === 'available-items') {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tonChange({\n\t\t\t\t\tid: draggableId,\n\t\t\t\t\tvalue: order.filter(\n\t\t\t\t\t\t(i) => i !== '__pointer__' && i !== '__filler__'\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t}}\n\t\t\ttag={tagName}\n\t\t\tclassName={cls('ct-builder-items', className)}\n\t\t\t{...props}\n\t\t\tdata-id={draggableId}>\n\t\t\t{draggableId !== 'available-items' && isDragging && (\n\t\t\t\t<div data-id=\"__filler__\" className=\"ct-filler\"></div>\n\t\t\t)}\n\n\t\t\t{hasPointers && isDragging && (\n\t\t\t\t<div data-id=\"__pointer__\" className=\"ct-pointer\"></div>\n\t\t\t)}\n\n\t\t\t{itemsOutput}\n\t\t</Sortable>\n\t)\n}\n\nexport default DraggableItems\n","import { createElement, useContext } from '@wordpress/element'\nimport { __ } from 'ct-i18n'\nimport cls from 'classnames'\nimport DraggableItems from './DraggableItems'\nimport { PanelContext } from '../../../options/components/PanelLevel'\n\nconst Bar = ({ bar, builderValue, direction = 'horizontal' }) => {\n\tconst { panelsHelpers } = useContext(PanelContext)\n\n\tconst maybeValues = builderValue.items[bar.id]\n\tconst allItems = ct_customizer_localizations.header_builder_data.footer\n\n\tconst primaryItem = allItems.find(({ id }) => id === bar.id)\n\n\tconst values = maybeValues ? maybeValues.values : {}\n\n\tlet columns = 'initial'\n\n\tif (bar.columns.length === 2) {\n\t\tcolumns = values['2_columns_layout'] || {\n\t\t\tdesktop: 'repeat(2, 1fr)',\n\t\t\ttablet: 'initial',\n\t\t\tmobile: 'initial',\n\t\t}\n\t}\n\n\tif (bar.columns.length === 3) {\n\t\tcolumns = values['3_columns_layout'] || {\n\t\t\tdesktop: 'repeat(3, 1fr)',\n\t\t\ttablet: 'initial',\n\t\t\tmobile: 'initial',\n\t\t}\n\t}\n\n\tif (bar.columns.length === 4) {\n\t\tcolumns = values['4_columns_layout'] || {\n\t\t\tdesktop: 'repeat(4, 1fr)',\n\t\t\ttablet: 'initial',\n\t\t\tmobile: 'initial',\n\t\t}\n\t}\n\n\tif (bar.columns.length === 5) {\n\t\tcolumns = values['5_columns_layout'] || {\n\t\t\tdesktop: 'repeat(5, 1fr)',\n\t\t\ttablet: 'initial',\n\t\t\tmobile: 'initial',\n\t\t}\n\t}\n\n\tif (bar.columns.length === 6) {\n\t\tcolumns = values['6_columns_layout'] || {\n\t\t\tdesktop: 'repeat(6, 1fr)',\n\t\t\ttablet: 'initial',\n\t\t\tmobile: 'initial',\n\t\t}\n\t}\n\n\tif (columns && columns.desktop) {\n\t\tcolumns = columns.desktop\n\t}\n\n\treturn (\n\t\t<li className=\"builder-row\">\n\t\t\t<div\n\t\t\t\tclassName=\"ct-row-actions\"\n\t\t\t\tonClick={() => panelsHelpers.open(`builder_panel_${bar.id}`)}>\n\t\t\t\t{\n\t\t\t\t\t{\n\t\t\t\t\t\t'top-row': __('Top Row', 'blocksy'),\n\t\t\t\t\t\t'middle-row': __('Middle Row', 'blocksy'),\n\t\t\t\t\t\t'bottom-row': __('Bottom Row', 'blocksy'),\n\t\t\t\t\t}[bar.id]\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t\t<ul\n\t\t\t\tclassName=\"row-inner\"\n\t\t\t\tstyle={{\n\t\t\t\t\t'--gridTemplateColummns': columns,\n\t\t\t\t}}>\n\t\t\t\t{bar.columns.map((column, index) => (\n\t\t\t\t\t<li className=\"builder-column\" key={index}>\n\t\t\t\t\t\t<DraggableItems\n\t\t\t\t\t\t\tdraggableId={`${bar.id}:${index}`}\n\t\t\t\t\t\t\titems={column}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</li>\n\t)\n}\n\nconst shallowCompare = (prev, next) => {\n\tfor (let key in next) {\n\t\tif (next[key] !== prev[key]) return false\n\t}\n\n\treturn true\n}\n\nexport function memo(Component, areEqual = shallowCompare) {\n\tlet prevProps = {}\n\tlet prevResult\n\treturn (nextProps) => {\n\t\tif (prevResult !== undefined && areEqual(prevProps, nextProps)) {\n\t\t\treturn prevResult\n\t\t}\n\n\t\tprevProps = nextProps\n\t\tprevResult = createElement(Component, Object.assign({}, nextProps))\n\n\t\treturn prevResult\n\t}\n}\n\nconst ColumnsBuilder = memo(({ builderValue }) => (\n\t<div className={cls('placements-builder')}>\n\t\t<ul className=\"horizontal-rows\">\n\t\t\t{['top-row', 'middle-row', 'bottom-row'].map((bar) => (\n\t\t\t\t<Bar\n\t\t\t\t\tbuilderValue={builderValue}\n\t\t\t\t\tbar={builderValue.rows.find(({ id }) => id === bar)}\n\t\t\t\t\tkey={bar}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</ul>\n\t</div>\n))\n\n// const ColumnsBuilder = () => null\n\nexport default ColumnsBuilder\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tuseContext,\n\tFragment,\n} from '@wordpress/element'\nimport DraggableItems from '../DraggableItems'\nimport { DragDropContext } from '../../../../options/options/ct-footer-builder'\nimport cls from 'classnames'\nimport Panel, { PanelMetaWrapper } from '../../../../options/options/ct-panel'\nimport { getValueFromInput } from '../../../../options/helpers/get-value-from-input'\nimport { getOriginalId, customItemsSeparator } from '../../placements/helpers'\n\nimport { Slot } from '@wordpress/components'\n\nconst SecondaryItems = ({\n\tbuilderValue,\n\tbuilderValueDispatch,\n\tinlinedItemsFromBuilder,\n\tdisplayList = true,\n}) => {\n\tconst { panelsState, panelsActions, currentView, isDragging } =\n\t\tuseContext(DragDropContext)\n\n\tconst inlinedItemsFromAllViewsBuilder = builderValue.rows.reduce(\n\t\t(currentItems, { columns }) => [\n\t\t\t...currentItems,\n\t\t\t...(columns || []).reduce((c, items) => [...c, ...items], []),\n\t\t],\n\t\t[]\n\t)\n\n\tconst secondaryItems =\n\t\tct_customizer_localizations.header_builder_data.secondary_items.footer.filter(\n\t\t\t({ config }) =>\n\t\t\t\t// config.devices.indexOf(currentView) > -1 &&\n\t\t\t\tconfig.enabled\n\t\t)\n\tconst allItems = ct_customizer_localizations.header_builder_data.footer\n\n\t/**\n\t * Dynamic items have a : in their ID\n\t */\n\tconst allDynamicItems = Object.keys(builderValue.items).filter(\n\t\t(id) => id.indexOf(customItemsSeparator()) > -1\n\t)\n\n\treturn (\n\t\t<DraggableItems\n\t\t\toptions={{ sort: false, filter: '.ct-item-in-builder' }}\n\t\t\tgroup={{\n\t\t\t\tname: 'header_sortables',\n\t\t\t\tput: false,\n\t\t\t\tpull: 'clone',\n\t\t\t}}\n\t\t\tdraggableId={'available-items'}\n\t\t\titems={[...secondaryItems.map(({ id }) => id), ...allDynamicItems]\n\t\t\t\t.filter((el) =>\n\t\t\t\t\tallItems.some(({ id }) => id === getOriginalId(el))\n\t\t\t\t)\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\tconst aItemData =\n\t\t\t\t\t\tct_customizer_localizations.header_builder_data[\n\t\t\t\t\t\t\t'footer'\n\t\t\t\t\t\t].find(({ id }) => id === getOriginalId(a))\n\n\t\t\t\t\tconst bItemData =\n\t\t\t\t\t\tct_customizer_localizations.header_builder_data[\n\t\t\t\t\t\t\t'footer'\n\t\t\t\t\t\t].find(({ id }) => id === getOriginalId(b))\n\n\t\t\t\t\treturn aItemData.config.name.localeCompare(\n\t\t\t\t\t\tbItemData.config.name\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\thasPointers={false}\n\t\t\tpanelType=\"footer\"\n\t\t\tdisplayWrapper={displayList}\n\t\t\tpropsForItem={(item) => ({\n\t\t\t\trenderItem: ({ item, itemData, index }) => {\n\t\t\t\t\tconst itemOptions = allItems.find(\n\t\t\t\t\t\t({ id }) => id === getOriginalId(item)\n\t\t\t\t\t).options\n\n\t\t\t\t\tconst allClonesAndOriginal = [\n\t\t\t\t\t\tgetOriginalId(item),\n\t\t\t\t\t\t...allDynamicItems.filter(\n\t\t\t\t\t\t\t(id) => getOriginalId(id) === getOriginalId(item)\n\t\t\t\t\t\t),\n\t\t\t\t\t]\n\n\t\t\t\t\tconst itemName =\n\t\t\t\t\t\tallClonesAndOriginal.length > 1\n\t\t\t\t\t\t\t? `${itemData.config.name} ${\n\t\t\t\t\t\t\t\t\tallClonesAndOriginal.indexOf(item) + 1\n\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t: itemData.config.name\n\n\t\t\t\t\tconst option = {\n\t\t\t\t\t\tlabel: itemName,\n\t\t\t\t\t\t'inner-options': itemOptions,\n\t\t\t\t\t}\n\n\t\t\t\t\tconst itemInBuilder =\n\t\t\t\t\t\tinlinedItemsFromBuilder.indexOf(item) > -1\n\n\t\t\t\t\tconst id = `builder_panel_${item}`\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<PanelMetaWrapper\n\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t{...panelsActions}\n\t\t\t\t\t\t\tgetActualOption={({ open, container }) => (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t{inlinedItemsFromAllViewsBuilder.indexOf(\n\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t) > -1 && (\n\t\t\t\t\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\t\tgetValues={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet itemValue =\n\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.items[item]\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\titemValue &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t\t) > 5\n\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn itemValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\t\t\titemOptions,\n\t\t\t\t\t\t\t\t\t\t\t\t\titemValue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? itemValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t\t\t\tonChangeFor={(\n\t\t\t\t\t\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\t\t\t\t\t\toptionValue\n\t\t\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst currentValue =\n\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.items[item]\n\n\t\t\t\t\t\t\t\t\t\t\t\tbuilderValueDispatch({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'ITEM_VALUE_ON_CHANGE',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: item,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionValue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!currentValue ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(currentValue &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).length === 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemOptions,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tview=\"simple\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{displayList && (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tref={container}\n\t\t\t\t\t\t\t\t\t\t\tdata-id={item}\n\t\t\t\t\t\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\t\t\t\t\t\t'ct-item-in-builder':\n\t\t\t\t\t\t\t\t\t\t\t\t\titemInBuilder,\n\t\t\t\t\t\t\t\t\t\t\t\t'ct-builder-item':\n\t\t\t\t\t\t\t\t\t\t\t\t\t!itemInBuilder,\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (isDragging) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\titemInBuilder && open()\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t{itemName}\n\n\t\t\t\t\t\t\t\t\t\t\t<Slot\n\t\t\t\t\t\t\t\t\t\t\t\tname={`ColumnsBuilderSidebarItem_${index}`}\n\t\t\t\t\t\t\t\t\t\t\t\tfillProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\t\t\t\t\titemInBuilder,\n\t\t\t\t\t\t\t\t\t\t\t\t\titemData,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)}></PanelMetaWrapper>\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t})}\n\t\t\tdirection=\"vertical\"\n\t\t/>\n\t)\n}\n\nexport default SecondaryItems\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tuseContext,\n\tFragment,\n} from '@wordpress/element'\n\nimport cls from 'classnames'\nimport Panel, { PanelMetaWrapper } from '../../../../options/options/ct-panel'\nimport { getValueFromInput } from '../../../../options/helpers/get-value-from-input'\nimport { DragDropContext } from '../../../../options/options/ct-footer-builder'\n\nconst InvisiblePanels = ({ builderValue, builderValueDispatch }) => {\n\tconst secondaryItems =\n\t\tct_customizer_localizations.header_builder_data.secondary_items.footer\n\tconst allItems = ct_customizer_localizations.header_builder_data.footer\n\n\tconst { panelsState, panelsActions } = useContext(DragDropContext)\n\n\tconst primaryItems = allItems.filter(\n\t\t({ id }) => !secondaryItems.find((item) => item.id === id)\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{primaryItems.map((primaryItem) => {\n\t\t\t\tconst option = {\n\t\t\t\t\tlabel: primaryItem.config.name,\n\t\t\t\t\t'inner-options': primaryItem.options,\n\t\t\t\t}\n\n\t\t\t\tconst id = `builder_panel_${primaryItem.id}`\n\n\t\t\t\treturn (\n\t\t\t\t\t<PanelMetaWrapper\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tkey={primaryItem.id}\n\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t{...panelsActions}\n\t\t\t\t\t\tgetActualOption={({ container }) => (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tgetValues={() => {\n\t\t\t\t\t\t\t\t\t\tlet itemValue =\n\t\t\t\t\t\t\t\t\t\t\tbuilderValue.items[primaryItem.id]\n\n\t\t\t\t\t\t\t\t\t\tconst maybeRow = builderValue.rows.find(\n\t\t\t\t\t\t\t\t\t\t\t({ id }) => id === primaryItem.id\n\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t\t\tlet hasWidgetAreas = false\n\n\t\t\t\t\t\t\t\t\t\tif (maybeRow) {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tmaybeRow.columns\n\t\t\t\t\t\t\t\t\t\t\t\t\t.reduce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(allItems, current) => [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...allItems,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrent,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.join('')\n\t\t\t\t\t\t\t\t\t\t\t\t\t.indexOf('widget-area') > -1\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\thasWidgetAreas = true\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\titemValue &&\n\t\t\t\t\t\t\t\t\t\t\tObject.keys(itemValue.values) > 5\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t...itemValue.values,\n\t\t\t\t\t\t\t\t\t\t\t\t...(maybeRow\n\t\t\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems_per_row: maybeRow.columns.length.toString(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thas_widget_areas: hasWidgetAreas\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'yes'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'no',\n\t\t\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t...getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\t\tprimaryItem.options,\n\t\t\t\t\t\t\t\t\t\t\t\titemValue\n\t\t\t\t\t\t\t\t\t\t\t\t\t? itemValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t\t\t\t),\n\n\t\t\t\t\t\t\t\t\t\t\t...(maybeRow\n\t\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems_per_row: maybeRow.columns.length.toString(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thas_widget_areas: hasWidgetAreas\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'yes'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'no',\n\t\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t\tonChangeFor={(optionId, optionValue) => {\n\t\t\t\t\t\t\t\t\t\tconst currentValue =\n\t\t\t\t\t\t\t\t\t\t\tbuilderValue.items[primaryItem.id]\n\n\t\t\t\t\t\t\t\t\t\tbuilderValueDispatch({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'ITEM_VALUE_ON_CHANGE',\n\t\t\t\t\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\t\t\t\t\tid: primaryItem.id,\n\t\t\t\t\t\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\t\t\t\t\t\toptionValue,\n\t\t\t\t\t\t\t\t\t\t\t\tvalues:\n\t\t\t\t\t\t\t\t\t\t\t\t\t!currentValue ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t(currentValue &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).length === 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryItem.options,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: {},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tview=\"simple\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t})}\n\t\t</Fragment>\n\t)\n}\n\nexport default InvisiblePanels\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tuseContext,\n\tFragment,\n} from '@wordpress/element'\nimport cls from 'classnames'\n\nimport { DragDropContext } from '../../../../options/options/ct-footer-builder'\nimport Panel, { PanelMetaWrapper } from '../../../../options/options/ct-panel'\nimport { getValueFromInput } from '../../../../options/helpers/get-value-from-input'\n\nimport { __ } from 'ct-i18n'\n\nconst PanelsManager = () => {\n\tconst secondaryItems =\n\t\tct_customizer_localizations.header_builder_data.secondary_items.footer\n\tconst allItems = ct_customizer_localizations.header_builder_data.footer\n\n\tconst {\n\t\tbuilderValueCollection,\n\t\tbuilderValue,\n\t\tbuilderValueDispatch,\n\t\tpanelsActions,\n\t} = useContext(DragDropContext)\n\n\tconst allSections = builderValueCollection.sections.filter(\n\t\t({ id }) =>\n\t\t\tid !== 'type-2' && id !== 'type-3' && id.indexOf('ct-custom') === -1\n\t)\n\n\treturn (\n\t\t<div className=\"ct-panels-manager\">\n\t\t\t{allSections.map(({ name, id }) => {\n\t\t\t\treturn <div>{name}</div>\n\t\t\t})}\n\n\t\t\t<ul className={cls('ct-panels-list')}>\n\t\t\t\t{allSections.map(({ name, id }) => {\n\t\t\t\t\tlet panelLabel =\n\t\t\t\t\t\tname ||\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'type-1': __('Global Footer', 'blocksy'),\n\t\t\t\t\t\t}[id] ||\n\t\t\t\t\t\tid\n\n\t\t\t\t\tconst panelId = `builder_footer_panel_${id}`\n\n\t\t\t\t\tconst footerOptions =\n\t\t\t\t\t\tct_customizer_localizations.header_builder_data\n\t\t\t\t\t\t\t.footer_data.footer_options\n\n\t\t\t\t\tconst option = {\n\t\t\t\t\t\tlabel: panelLabel,\n\t\t\t\t\t\t'inner-options': footerOptions,\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<PanelMetaWrapper\n\t\t\t\t\t\t\tid={panelId}\n\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t{...panelsActions}\n\t\t\t\t\t\t\tgetActualOption={({ open }) => (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t{id === builderValue.id && (\n\t\t\t\t\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\t\t\t\t\tid={panelId}\n\t\t\t\t\t\t\t\t\t\t\tgetValues={() =>\n\t\t\t\t\t\t\t\t\t\t\t\tgetValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\t\t\tfooterOptions,\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tArray.isArray(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.settings\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? {}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: builderValue.settings\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t\t\t\tonChangeFor={(\n\t\t\t\t\t\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\t\t\t\t\t\toptionValue\n\t\t\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\t\t\tbuilderValueDispatch({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'BUILDER_GLOBAL_SETTING_ON_CHANGE',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionValue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tview=\"simple\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{id === builderValue.id && (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\t\t\t\t\t\tactive: id === builderValue.id,\n\t\t\t\t\t\t\t\t\t\t\t\t'ct-global': id === 'type-1',\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\topen()\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"ct-panel-name\">\n\t\t\t\t\t\t\t\t\t\t\t\t{panelLabel}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)}></PanelMetaWrapper>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t</div>\n\t)\n}\n\nexport default PanelsManager\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tFragment,\n} from '@wordpress/element'\nimport DraggableItems from './DraggableItems'\nimport cls from 'classnames'\nimport Panel, { PanelMetaWrapper } from '../../../options/options/ct-panel'\nimport { getValueFromInput } from '../../../options/helpers/get-value-from-input'\nimport { __ } from 'ct-i18n'\n\nimport OptionsPanel from '../../../options/OptionsPanel'\n\nimport { Slot } from '@wordpress/components'\n\nimport SecondaryItems from './builder-sidebar/SecondaryItems'\nimport InvisiblePanels from './builder-sidebar/InvisiblePanels'\nimport PanelsManager from './builder-sidebar/PanelsManager'\n\nconst AvailableItems = ({\n\tbuilderValue,\n\tbuilderValueCollection,\n\tbuilderValueDispatch,\n\tinlinedItemsFromBuilder,\n}) => {\n\t// panels | items | options\n\tconst [currentTab, setCurrentTab] = useState('items')\n\n\tconst secondaryItems =\n\t\tct_customizer_localizations.header_builder_data.secondary_items.footer\n\tconst allItems = ct_customizer_localizations.header_builder_data.footer\n\n\tconst footerOptions =\n\t\tct_customizer_localizations.header_builder_data.footer_data\n\t\t\t.footer_options\n\n\treturn (\n\t\t<div className=\"ct-available-items ct-footer-builder-options\">\n\t\t\t<h3\n\t\t\t\tclassName=\"ct-title\"\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: sprintf(\n\t\t\t\t\t\t__('Customizing: %s', 'blocksy'),\n\t\t\t\t\t\t`<span>${\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tbuilderValueCollection.sections.find(\n\t\t\t\t\t\t\t\t\t({ id }) => id === builderValue.id\n\t\t\t\t\t\t\t\t) || {}\n\t\t\t\t\t\t\t).name ||\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'type-1': __('Global Footer', 'blocksy'),\n\t\t\t\t\t\t\t}[builderValue.id] ||\n\t\t\t\t\t\t\tbuilderValue.id\n\t\t\t\t\t\t}</span>`\n\t\t\t\t\t),\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<div className=\"ct-tabs\">\n\t\t\t\t<ul>\n\t\t\t\t\t{['items', 'panels'].map((tab) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={tab}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\tsetCurrentTab(tab)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\t\tactive: tab === currentTab,\n\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpanels: __('Footers', 'blocksy'),\n\t\t\t\t\t\t\t\t\titems: __('Elements', 'blocksy'),\n\t\t\t\t\t\t\t\t}[tab]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\n\t\t\t\t<div className=\"ct-current-tab\">\n\t\t\t\t\t{currentTab === 'panels' && (\n\t\t\t\t\t\t<Slot name=\"ColumnsBuilderPanelsManager\">\n\t\t\t\t\t\t\t{(fills) =>\n\t\t\t\t\t\t\t\tfills.length === 0 ? <PanelsManager /> : fills\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Slot>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<SecondaryItems\n\t\t\t\t\t\tbuilderValue={builderValue}\n\t\t\t\t\t\tbuilderValueDispatch={builderValueDispatch}\n\t\t\t\t\t\tinlinedItemsFromBuilder={inlinedItemsFromBuilder}\n\t\t\t\t\t\tdisplayList={currentTab === 'items'}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<InvisiblePanels\n\t\t\t\tbuilderValue={builderValue}\n\t\t\t\tbuilderValueDispatch={builderValueDispatch}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default AvailableItems\n","import nanoid from 'nanoid'\nimport { fetchCurrentFooter } from '../../../options/options/ct-footer-builder'\nimport { getOriginalId, customItemsSeparator } from '../placements/helpers'\n\nconst transformColumns = (columns, futureLength) => {\n\tcolumns = columns.filter((c) => c.length > 0)\n\n\treturn Array.from(Array(futureLength)).map((_, index) => {\n\t\tif (Array.isArray(columns[index])) {\n\t\t\treturn columns[index]\n\t\t}\n\n\t\treturn []\n\t})\n}\n\nexport const builderReducer = (builderValue, action) => {\n\tlet updatedGlobalState = {}\n\tlet newSections = []\n\n\tlet futureBuilderValue = builderValue.sections.find(\n\t\t({ id }) =>\n\t\t\tid.indexOf(\n\t\t\t\tbuilderValue.__forced_static_footer__ ||\n\t\t\t\t\tfetchCurrentFooter() ||\n\t\t\t\t\tbuilderValue.sections[0].id\n\t\t\t) > -1\n\t)\n\n\tlet shouldUpdate = false\n\tlet updateItemId = false\n\tlet removeSectionIds = []\n\n\tif (action.type === 'BUILDER_GLOBAL_SETTING_ON_CHANGE') {\n\t\tconst { optionId, optionValue, values = {} } = action.payload\n\n\t\tfutureBuilderValue = {\n\t\t\t...futureBuilderValue,\n\t\t\tsettings: {\n\t\t\t\t...futureBuilderValue.settings,\n\t\t\t\t[optionId]: optionValue,\n\t\t\t},\n\t\t}\n\t}\n\n\tif (action.type === 'ITEM_VALUE_ON_CHANGE') {\n\t\tconst { id, optionId, optionValue, values = {} } = action.payload\n\n\t\tupdateItemId = `${id}:${optionId}`\n\n\t\tlet items = futureBuilderValue.items\n\n\t\tif (\n\t\t\t(id === 'top-row' || id === 'middle-row' || id === 'bottom-row') &&\n\t\t\toptionId === 'items_per_row'\n\t\t) {\n\t\t\tfutureBuilderValue = {\n\t\t\t\t...futureBuilderValue,\n\t\t\t\trows: futureBuilderValue.rows.map((row) =>\n\t\t\t\t\trow.id === id\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t...row,\n\t\t\t\t\t\t\t\tcolumns: transformColumns(\n\t\t\t\t\t\t\t\t\trow.columns,\n\t\t\t\t\t\t\t\t\tparseInt(optionValue, 10)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: row\n\t\t\t\t),\n\t\t\t}\n\t\t} else {\n\t\t\tif (!items[id]) {\n\t\t\t\titems[id] = {\n\t\t\t\t\tid,\n\t\t\t\t\tvalues: {},\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfutureBuilderValue = {\n\t\t\t\t...futureBuilderValue,\n\t\t\t\titems: {\n\t\t\t\t\t...(Array.isArray(items) ? {} : items),\n\t\t\t\t\t[id]: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tvalues: {\n\t\t\t\t\t\t\t...items[id].values,\n\t\t\t\t\t\t\t[optionId]: optionValue,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t}\n\t}\n\n\tif (action.type === 'REMOVE_CLONED_ITEM') {\n\t\tlet {\n\t\t\t[action.payload.id]: removedItem,\n\t\t\t...localItems\n\t\t} = futureBuilderValue.items\n\n\t\tfutureBuilderValue = {\n\t\t\t...futureBuilderValue,\n\t\t\titems: localItems,\n\t\t}\n\t}\n\n\tif (action.type === 'CLONE_ITEM') {\n\t\tconst futureId = getOriginalId(action.payload.id)\n\n\t\tlet completeFutureId = `${futureId}${customItemsSeparator()}${nanoid()}`\n\n\t\tfutureBuilderValue = {\n\t\t\t...futureBuilderValue,\n\t\t\titems: {\n\t\t\t\t...futureBuilderValue.items,\n\t\t\t\t[completeFutureId]: {\n\t\t\t\t\tid: completeFutureId,\n\t\t\t\t\tvalues: futureBuilderValue.items[futureId]\n\t\t\t\t\t\t? futureBuilderValue.items[futureId].values || {}\n\t\t\t\t\t\t: {},\n\t\t\t\t},\n\t\t\t},\n\t\t}\n\t}\n\n\tif (action.type === 'PICK_BUILDER_SECTION') {\n\t\tshouldUpdate = true\n\t\tupdatedGlobalState = { __forced_static_footer__: action.payload.id }\n\t}\n\n\tif (action.type === 'MARK_FOOTER_AS_GLOBAL') {\n\t\tshouldUpdate = true\n\n\t\tupdatedGlobalState = {\n\t\t\t__forced_static_footer__: action.payload.id,\n\t\t\tcurrent_section: action.payload.id,\n\t\t}\n\t}\n\n\tif (action.type === 'MARK_SPECIFIC_FOOTER_AS_GLOBAL') {\n\t\tupdatedGlobalState = {\n\t\t\tcurrent_section: action.payload.id,\n\t\t}\n\t}\n\n\tif (action.type === 'SET_LIST') {\n\t\tshouldUpdate = true\n\t\tconst { lists } = action.payload\n\n\t\tfutureBuilderValue = {\n\t\t\t...futureBuilderValue,\n\t\t\trows: futureBuilderValue.rows.map(({ id: barId, columns }) => {\n\t\t\t\tconst keys = Object.keys(lists)\n\n\t\t\t\tif (keys.map((k) => k.split(':')[0]).indexOf(barId) > -1) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: barId,\n\t\t\t\t\t\tcolumns: columns.map((column, index) => {\n\t\t\t\t\t\t\tif (lists[`${barId}:${index}`]) {\n\t\t\t\t\t\t\t\treturn lists[`${barId}:${index}`]\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn column\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tid: barId,\n\t\t\t\t\tcolumns,\n\t\t\t\t}\n\t\t\t}),\n\t\t}\n\t}\n\n\tif (action.type === 'CREATE_NEW_SECTION') {\n\t\tconst { name, copy } = action.payload\n\n\t\tnewSections = [\n\t\t\tcopy\n\t\t\t\t? {\n\t\t\t\t\t\t...(builderValue.sections.find(\n\t\t\t\t\t\t\t({ id }) => id === copy\n\t\t\t\t\t\t) || {}),\n\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tid: `ct-custom-${nanoid()}`,\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tid: `ct-custom-${nanoid()}`,\n\t\t\t\t\t\tmode: 'columns',\n\t\t\t\t\t\trows: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'top-row',\n\t\t\t\t\t\t\t\tcolumns: [[], []],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'middle-row',\n\t\t\t\t\t\t\t\tcolumns: [[], [], []],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'bottom-row',\n\t\t\t\t\t\t\t\tcolumns: [['copyright']],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\titems: [],\n\t\t\t\t\t\tsettings: [],\n\t\t\t\t  },\n\t\t]\n\t}\n\n\tif (action.type === 'REMOVE_BUILDER_SECTION') {\n\t\tremoveSectionIds.push(action.payload.id)\n\t}\n\n\tconst actualBuilderValue = {\n\t\t...builderValue,\n\t\t...updatedGlobalState,\n\t\t__should_refresh__: shouldUpdate,\n\t\t__should_refresh_item__: updateItemId,\n\t\tsections: [\n\t\t\t...builderValue.sections.map((builder) =>\n\t\t\t\tbuilder.id === futureBuilderValue.id\n\t\t\t\t\t? futureBuilderValue\n\t\t\t\t\t: builder\n\t\t\t),\n\t\t\t...newSections,\n\t\t].filter(({ id }) => removeSectionIds.indexOf(id) === -1),\n\t}\n\n\treturn actualBuilderValue\n}\n","import {\n\tcreateElement,\n\tFragment,\n\tuseRef,\n\tComponent,\n\tuseEffect,\n\tuseMemo,\n\tcreatePortal,\n\tuseState,\n\tuseCallback,\n\tcreateContext,\n\tuseReducer,\n} from '@wordpress/element'\nimport { __ } from 'ct-i18n'\n\nimport ColumnsBuilder from '../../customizer/panels-builder/columns/ColumnsBuilder'\nimport AvailableItems from '../../customizer/panels-builder/columns/AvailableItems'\n\nimport { builderReducer } from '../../customizer/panels-builder/columns/builderReducer'\nexport const DragDropContext = createContext({})\n\nconst getDocument = (x) =>\n\tx.document || x.contentDocument || x.contentWindow.document\n\nexport const fetchCurrentFooter = () => {\n\tconst document = getDocument(\n\t\twp.customize.previewer.container.find('iframe')[0]\n\t)\n\n\tif (\n\t\twp.customize.previewer.container\n\t\t\t.find('iframe')[0]\n\t\t\t.contentDocument.querySelector('footer.ct-footer')\n\t) {\n\t\treturn wp.customize.previewer.container\n\t\t\t.find('iframe')[0]\n\t\t\t.contentDocument.querySelector('footer.ct-footer').dataset.id\n\t}\n\n\treturn null\n}\n\nconst FooterBuilder = ({\n\tvalue: allBuilderSections,\n\toption,\n\tonChange: onBuilderValueChange,\n}) => {\n\tconst currentFooter = useRef(null)\n\n\tif (currentFooter.current === null) {\n\t\tcurrentFooter.current = (\n\t\t\tallBuilderSections.sections.find(\n\t\t\t\t({ id }) => id.indexOf(fetchCurrentFooter()) > -1\n\t\t\t) || allBuilderSections.sections[0]\n\t\t).id\n\t}\n\n\tuseEffect(() => {\n\t\tlet {\n\t\t\t__forced_static_footer__,\n\t\t\t__should_refresh__,\n\t\t\t...old\n\t\t} = wp.customize('footer_placements')()\n\n\t\tObject.keys(old).map((key) => {\n\t\t\tif (parseFloat(key)) {\n\t\t\t\tdelete old[key]\n\t\t\t}\n\t\t})\n\n\t\ttry {\n\t\t\twp.customize('footer_placements')({\n\t\t\t\t...old,\n\t\t\t\t__forced_static_footer__: (\n\t\t\t\t\tallBuilderSections.sections.find(\n\t\t\t\t\t\t({ id }) => id.indexOf(fetchCurrentFooter()) > -1\n\t\t\t\t\t) || allBuilderSections.sections[0]\n\t\t\t\t).id,\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\n\t\treturn () => {\n\t\t\tconst { __forced_static_footer__, ...old } = wp.customize(\n\t\t\t\t'footer_placements'\n\t\t\t)()\n\n\t\t\twp.customize('footer_placements')({\n\t\t\t\t__should_refresh__: true,\n\t\t\t\t[Math.random()]: 'update',\n\t\t\t\t...old,\n\t\t\t})\n\t\t}\n\t}, [])\n\n\tconst [builderValueCollection, builderValueDispatchInternal] = useReducer(\n\t\tbuilderReducer,\n\t\t{\n\t\t\t...allBuilderSections,\n\t\t\t...(currentFooter.current\n\t\t\t\t? {\n\t\t\t\t\t\t__forced_static_footer__: currentFooter.current,\n\t\t\t\t  }\n\t\t\t\t: {}),\n\t\t}\n\t)\n\n\tconst [builderCollapsed, setBuilderCollapsed] = useState(false)\n\n\tconst builderValue = useMemo(\n\t\t() =>\n\t\t\tbuilderValueCollection.sections.find(\n\t\t\t\t({ id }) =>\n\t\t\t\t\tid === builderValueCollection.__forced_static_footer__\n\t\t\t) || builderValueCollection.sections[0],\n\t\t[builderValueCollection]\n\t)\n\n\tconst [isDragging, setIsDragging] = useState(false)\n\n\tconst inlinedItemsFromBuilder = builderValue.rows.reduce(\n\t\t(currentItems, { columns }) => [\n\t\t\t...currentItems,\n\t\t\t...(columns || []).reduce((c, items) => [...c, ...items], []),\n\t\t],\n\t\t[]\n\t)\n\n\tconst builderValueDispatch = useCallback(\n\t\t(action) => {\n\t\t\tlet newState = builderReducer(builderValueCollection, action)\n\n\t\t\tif (\n\t\t\t\taction.type === 'BUILDER_GLOBAL_SETTING_ON_CHANGE' &&\n\t\t\t\twp.customize.previewer\n\t\t\t) {\n\t\t\t\tconst builderValue =\n\t\t\t\t\tnewState.sections.find(\n\t\t\t\t\t\t({ id }) => id === newState.__forced_static_footer__\n\t\t\t\t\t) || newState.sections[0]\n\n\t\t\t\tconst { optionId, optionValue, values = {} } = action.payload\n\n\t\t\t\twp.customize.previewer.send('ct:footer:receive-value-update', {\n\t\t\t\t\titemId: 'global',\n\t\t\t\t\toptionId,\n\t\t\t\t\toptionValue,\n\t\t\t\t\tvalues: {\n\t\t\t\t\t\t...builderValue.settings,\n\t\t\t\t\t\t[optionId]: optionValue,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\taction.type === 'ITEM_VALUE_ON_CHANGE' &&\n\t\t\t\twp.customize.previewer\n\t\t\t) {\n\t\t\t\tconst {\n\t\t\t\t\tid,\n\t\t\t\t\toptionId,\n\t\t\t\t\toptionValue,\n\t\t\t\t\tvalues = {},\n\t\t\t\t} = action.payload\n\n\t\t\t\tconst builderValue =\n\t\t\t\t\tnewState.sections.find(\n\t\t\t\t\t\t({ id }) => id === newState.__forced_static_footer__\n\t\t\t\t\t) || newState.sections[0]\n\n\t\t\t\tlet items = builderValue.items\n\n\t\t\t\tconst currentItem = items[id] || { values: {} }\n\n\t\t\t\twp.customize.previewer.send('ct:footer:receive-value-update', {\n\t\t\t\t\titemId: id,\n\t\t\t\t\toptionId,\n\t\t\t\t\toptionValue,\n\t\t\t\t\tvalues: {\n\t\t\t\t\t\t...currentItem.values,\n\t\t\t\t\t\t...values,\n\t\t\t\t\t\t...(id === 'top-row' ||\n\t\t\t\t\t\tid === 'middle-row' ||\n\t\t\t\t\t\tid === 'bottom-row'\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\titems_per_row: builderValue.rows.find(\n\t\t\t\t\t\t\t\t\t\t({ id: _id }) => id === _id\n\t\t\t\t\t\t\t\t\t).columns.length,\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t...((id === 'top-row' ||\n\t\t\t\t\t\t\tid === 'middle-row' ||\n\t\t\t\t\t\t\tid === 'bottom-row') &&\n\t\t\t\t\t\toptionId === 'items_per_row'\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\titems_per_row: parseInt(optionValue, 10),\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t[optionId]: optionValue,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tonBuilderValueChange(newState)\n\t\t\tbuilderValueDispatchInternal(action)\n\t\t},\n\t\t[\n\t\t\tbuilderValueDispatchInternal,\n\t\t\tonBuilderValueChange,\n\t\t\tbuilderValueCollection,\n\t\t]\n\t)\n\n\tconst setList = (lists) =>\n\t\tbuilderValueDispatch({\n\t\t\ttype: 'SET_LIST',\n\t\t\tonBuilderValueChange,\n\t\t\tpayload: {\n\t\t\t\tlists,\n\t\t\t},\n\t\t})\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tdocument\n\t\t\t\t.querySelector('.wp-full-overlay')\n\t\t\t\t.classList.remove('ct-builder-collapsed')\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<DragDropContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\tisDragging,\n\t\t\t\t\tsetIsDragging,\n\t\t\t\t\tsetList,\n\t\t\t\t\tbuilderValueDispatch,\n\t\t\t\t\tbuilderValueCollection,\n\t\t\t\t\tbuilderValue,\n\t\t\t\t\tonChange: ({ id, value }) => setList({ [id]: value }),\n\t\t\t\t}}>\n\t\t\t\t<AvailableItems\n\t\t\t\t\tbuilderValue={builderValue}\n\t\t\t\t\tinlinedItemsFromBuilder={inlinedItemsFromBuilder}\n\t\t\t\t\tbuilderValueDispatch={builderValueDispatch}\n\t\t\t\t\tbuilderValueCollection={builderValueCollection}\n\t\t\t\t/>\n\n\t\t\t\t{createPortal(\n\t\t\t\t\t<div className=\"ct-builder-footer\">\n\t\t\t\t\t\t<ul className=\"ct-view-switch\">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName=\"ct-builder-toggle\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetBuilderCollapsed(!builderCollapsed)\n\n\t\t\t\t\t\t\t\t\tif (builderCollapsed) {\n\t\t\t\t\t\t\t\t\t\tdocument\n\t\t\t\t\t\t\t\t\t\t\t.querySelector('.wp-full-overlay')\n\t\t\t\t\t\t\t\t\t\t\t.classList.remove(\n\t\t\t\t\t\t\t\t\t\t\t\t'ct-builder-collapsed'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tdocument\n\t\t\t\t\t\t\t\t\t\t\t.querySelector('.wp-full-overlay')\n\t\t\t\t\t\t\t\t\t\t\t.classList.add(\n\t\t\t\t\t\t\t\t\t\t\t\t'ct-builder-collapsed'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{builderCollapsed\n\t\t\t\t\t\t\t\t\t? __('Show Builder', 'blocksy')\n\t\t\t\t\t\t\t\t\t: __('Hide Builder', 'blocksy')}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\n\t\t\t\t\t\t<ColumnsBuilder builderValue={builderValue} />\n\t\t\t\t\t</div>,\n\t\t\t\t\tdocument.querySelector('.ct-panel-builder')\n\t\t\t\t)}\n\t\t\t</DragDropContext.Provider>\n\t\t</Fragment>\n\t)\n}\n\nFooterBuilder.renderingConfig = { design: 'none' }\n\nexport default FooterBuilder\n","import { createElement, useContext, Fragment } from '@wordpress/element'\nimport cls from 'classnames'\nimport Sortable from './Sortable'\nimport { DragDropContext } from './BuilderRoot'\nimport { PanelContext } from '../../../options/components/PanelLevel'\nimport { customItemsSeparator, getOriginalId } from './helpers'\nimport { capitalizeFirstLetter } from '../../../options/helpers/get-label'\n\nconst isItemAllowedIn = (itemId, barId, currentView) => {\n\tconst item = ct_customizer_localizations.header_builder_data.header.find(\n\t\t({ id }) => id === getOriginalId(itemId)\n\t)\n\n\tif (!item) {\n\t\treturn true\n\t}\n\n\tlet allowed_in = []\n\n\tif (Array.isArray(item.config.allowed_in)) {\n\t\tallowed_in = item.config.allowed_in\n\t} else {\n\t\tif (item.config.allowed_in[currentView]) {\n\t\t\tallowed_in = item.config.allowed_in[currentView]\n\t\t}\n\t}\n\n\tconst allowedRespected =\n\t\tallowed_in.length > 0 ? allowed_in.indexOf(barId) > -1 : true\n\n\tconst exclusionRespected =\n\t\titem.config.excluded_from.length > 0\n\t\t\t? item.config.excluded_from.indexOf(barId) === -1\n\t\t\t: true\n\n\treturn allowedRespected && exclusionRespected\n}\n\nexport const DraggableItem = ({\n\titem,\n\tindex,\n\tpanelType,\n\tonRemove,\n\trenderItem,\n\tonClick,\n\tclassName,\n}) => {\n\tconst itemData = ct_customizer_localizations.header_builder_data[\n\t\tpanelType\n\t].find(({ id }) => id === getOriginalId(item))\n\n\tconst { builderValue } = useContext(DragDropContext)\n\n\tif (renderItem) {\n\t\treturn renderItem({ item, itemData, index })\n\t}\n\n\t/**\n\t * Dynamic items have a : in their ID\n\t */\n\tconst allDynamicItems = builderValue.items\n\t\t.filter(({ id }) => id.indexOf(customItemsSeparator()) > -1)\n\t\t.map(({ id }) => id)\n\n\tconst allClonesAndOriginal = [\n\t\tgetOriginalId(item),\n\t\t...allDynamicItems.filter(\n\t\t\t(id) => getOriginalId(id) === getOriginalId(item)\n\t\t),\n\t]\n\n\tconst beautyItem = capitalizeFirstLetter(getOriginalId(item))\n\n\treturn (\n\t\t<div\n\t\t\tdata-id={item}\n\t\t\tclassName={cls('ct-builder-item', className, {\n\t\t\t\t// 'ct-is-dragging': snapshot.isDragging\n\t\t\t})}\n\t\t\tonClick={onClick}>\n\t\t\t{allClonesAndOriginal.length > 1\n\t\t\t\t? `${itemData?.config?.name ?? beautyItem} ${\n\t\t\t\t\t\tallClonesAndOriginal.indexOf(item) + 1\n\t\t\t\t  }`\n\t\t\t\t: itemData?.config?.name ?? beautyItem}\n\n\t\t\t<button\n\t\t\t\tclassName=\"ct-btn-remove\"\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t\tonRemove()\n\t\t\t\t}}></button>\n\t\t</div>\n\t)\n}\n\nconst DraggableItems = ({\n\titems,\n\tdraggableId,\n\thasPointers = true,\n\tclassName,\n\ttagName = 'div',\n\tdirection = 'horizontal',\n\tgroup = 'header_sortables',\n\toptions = {},\n\tpropsForItem = (item) => ({}),\n\tdisplayWrapper = true,\n\t...props\n}) => {\n\tconst { currentView, isDragging, setIsDragging, onChange, setList } =\n\t\tuseContext(DragDropContext)\n\n\tconst { panelsHelpers } = useContext(PanelContext)\n\n\tconst itemsOutput = items.map((item, index) => (\n\t\t<DraggableItem\n\t\t\tkey={item}\n\t\t\tindex={index}\n\t\t\tpanelType={'header'}\n\t\t\titem={item}\n\t\t\tclassName={\n\t\t\t\tpanelsHelpers.isOpenFor(`builder_panel_${item}`)\n\t\t\t\t\t? 'ct-customizing'\n\t\t\t\t\t: ''\n\t\t\t}\n\t\t\tonClick={(e) => {\n\t\t\t\te.stopPropagation()\n\t\t\t\te.preventDefault()\n\n\t\t\t\tif (isDragging) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tpanelsHelpers.open(`builder_panel_${item}`)\n\t\t\t}}\n\t\t\tonRemove={() => {\n\t\t\t\tpanelsHelpers.close()\n\n\t\t\t\tsetList({\n\t\t\t\t\t[draggableId]: items.filter((id) => id !== item),\n\n\t\t\t\t\t...(currentView === 'desktop' && item === 'trigger'\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t['offcanvas:start']: [],\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {}),\n\t\t\t\t})\n\t\t\t}}\n\t\t\t{...propsForItem(item)}\n\t\t/>\n\t))\n\n\tif (!displayWrapper) {\n\t\treturn <Fragment>{itemsOutput}</Fragment>\n\t}\n\n\treturn (\n\t\t<Sortable\n\t\t\toptions={{\n\t\t\t\tdelay: 0,\n\t\t\t\tgroup,\n\t\t\t\tfallbackOnBody: true,\n\t\t\t\tforceFallback: true,\n\t\t\t\tfallbackTolerance: 5,\n\t\t\t\tfilter: '.ct-pointer, .ct-btn-remove',\n\t\t\t\tdirection,\n\t\t\t\ttouchStartThreshold: 5,\n\t\t\t\tonStart: (event) => {\n\t\t\t\t\tsetIsDragging(event.item.dataset.id)\n\n\t\t\t\t\tlet currentView = wp.customize.previewedDevice()\n\n\t\t\t\t\tif (currentView === 'tablet') {\n\t\t\t\t\t\tcurrentView = 'mobile'\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tisItemAllowedIn(\n\t\t\t\t\t\t\tevent.item.dataset.id,\n\t\t\t\t\t\t\t'middle-row',\n\t\t\t\t\t\t\tcurrentView\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tdocument.body.classList.add('ct-builder-dragging')\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event.from && group && group.pull !== 'clone') {\n\t\t\t\t\t\tevent.to.classList.add('ct-is-over')\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonEnd: () => {\n\t\t\t\t\tsetIsDragging(false)\n\t\t\t\t\tdocument.body.classList.remove('ct-builder-dragging')\n\t\t\t\t\t;[\n\t\t\t\t\t\t...document.querySelectorAll(\n\t\t\t\t\t\t\t'.ct-panel-builder .ct-is-over'\n\t\t\t\t\t\t),\n\t\t\t\t\t].map((el) => el.classList.remove('ct-is-over'))\n\t\t\t\t},\n\n\t\t\t\tonMove: (event, originalEvent) => {\n\t\t\t\t\tlet currentView = wp.customize.previewedDevice()\n\n\t\t\t\t\tif (currentView === 'tablet') {\n\t\t\t\t\t\tcurrentView = 'mobile'\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event.from.closest('#ct-option-header-builder-items')) {\n\t\t\t\t\t\tPromise.resolve().then(() =>\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t...event.from.querySelectorAll(\n\t\t\t\t\t\t\t\t\t`[data-id=\"${event.dragged.dataset.id}\"]`\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t].map((el) => {\n\t\t\t\t\t\t\t\tel.classList.remove('ct-builder-item')\n\t\t\t\t\t\t\t\tel.classList.add('ct-item-in-builder')\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\n\t\t\t\t\t;[\n\t\t\t\t\t\t...document.querySelectorAll(\n\t\t\t\t\t\t\t'.ct-panel-builder .ct-is-over'\n\t\t\t\t\t\t),\n\t\t\t\t\t].map((el) => el.classList.remove('ct-is-over'))\n\n\t\t\t\t\tif (event.to) {\n\t\t\t\t\t\tevent.to.classList.add('ct-is-over')\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!isItemAllowedIn(\n\t\t\t\t\t\t\tevent.dragged.dataset.id,\n\t\t\t\t\t\t\tevent.to.dataset.id.split(':')[0],\n\t\t\t\t\t\t\tcurrentView\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t...options,\n\t\t\t}}\n\t\t\tonChange={(order, sortable, evt) => {\n\t\t\t\t// console.log('here is change', order, draggableId)\n\n\t\t\t\tif (draggableId === 'available-items') {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tonChange({\n\t\t\t\t\tid: draggableId,\n\t\t\t\t\tvalue: order.filter(\n\t\t\t\t\t\t(i) => i !== '__pointer__' && i !== '__filler__'\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t}}\n\t\t\ttag={tagName}\n\t\t\tclassName={cls('ct-builder-items', className)}\n\t\t\t{...props}\n\t\t\tdata-id={draggableId}>\n\t\t\t{['end', 'start-middle'].indexOf(draggableId.split(':')[1]) >\n\t\t\t\t-1 && <div data-id=\"__filler__\" className=\"ct-filler\"></div>}\n\t\t\t{hasPointers &&\n\t\t\t\tisDragging &&\n\t\t\t\tisItemAllowedIn(\n\t\t\t\t\tisDragging,\n\t\t\t\t\tdraggableId.split(':')[0],\n\t\t\t\t\tcurrentView\n\t\t\t\t) && <div data-id=\"__pointer__\" className=\"ct-pointer\"></div>}\n\t\t\t{itemsOutput}\n\t\t</Sortable>\n\t)\n}\n\nexport default DraggableItems\n","import { createElement } from '@wordpress/element'\nimport DraggableItems from '../DraggableItems'\n\nconst PrimaryPlacement = ({ placementName, bar, direction }) => {\n\tconst placement = bar.placements.find(({ id }) => id === placementName)\n\n\tlet placementsToRender = [placement]\n\n\tif (placementName !== 'middle') {\n\t\tconst middle = bar.placements.find(({ id }) => id === 'middle')\n\n\t\tif (middle && middle.items.length > 0) {\n\t\t\tif (placementName === 'start') {\n\t\t\t\tconst startMiddle = bar.placements.find(\n\t\t\t\t\t({ id }) => id === 'start-middle'\n\t\t\t\t)\n\n\t\t\t\tplacementsToRender = [placement, startMiddle]\n\t\t\t}\n\n\t\t\tif (placementName === 'end') {\n\t\t\t\tconst endMiddle = bar.placements.find(\n\t\t\t\t\t({ id }) => id === 'end-middle'\n\t\t\t\t)\n\n\t\t\t\tplacementsToRender = [endMiddle, placement]\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={[`ct-builder-column-${placement.id}`]}\n\t\t\t{...(placement.id === 'middle'\n\t\t\t\t? { 'data-count': placement.items.length }\n\t\t\t\t: {})}>\n\t\t\t{placementsToRender.map((placement) => (\n\t\t\t\t<DraggableItems\n\t\t\t\t\tkey={placement.id}\n\t\t\t\t\tdirection={direction}\n\t\t\t\t\tclassName={\n\t\t\t\t\t\tplacement.id === 'middle'\n\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t: `ct-${\n\t\t\t\t\t\t\t\t\tplacement.id.indexOf('-') > -1\n\t\t\t\t\t\t\t\t\t\t? 'secondary'\n\t\t\t\t\t\t\t\t\t\t: 'primary'\n\t\t\t\t\t\t\t  }-column`\n\t\t\t\t\t}\n\t\t\t\t\tdraggableId={`${bar.id}:${placement.id}`}\n\t\t\t\t\titems={placement.items}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</li>\n\t)\n}\n\nexport default PrimaryPlacement\n","import { createElement, useContext } from '@wordpress/element'\nimport { __ } from 'ct-i18n'\nimport { PanelContext } from '../../../../options/components/PanelLevel'\n\nimport PrimaryPlacement from './PrimaryPlacement'\n\nconst Row = ({ bar, direction = 'horizontal' }) => {\n\tconst { panelsHelpers } = useContext(PanelContext)\n\n\treturn (\n\t\t<li className=\"builder-row\">\n\t\t\t<div\n\t\t\t\tclassName=\"ct-row-actions\"\n\t\t\t\tonClick={() => panelsHelpers.open(`builder_panel_${bar.id}`)}>\n\t\t\t\t{\n\t\t\t\t\t{\n\t\t\t\t\t\t'top-row': __('Top Row', 'blocksy'),\n\t\t\t\t\t\t'middle-row': __('Main Row', 'blocksy'),\n\t\t\t\t\t\t'bottom-row': __('Bottom Row', 'blocksy'),\n\t\t\t\t\t\toffcanvas: __('Off Canvas Area', 'blocksy')\n\t\t\t\t\t}[bar.id]\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t\t<ul className=\"row-inner\">\n\t\t\t\t{['start', 'middle', 'end']\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tplacementName =>\n\t\t\t\t\t\t\t!!bar.placements.find(\n\t\t\t\t\t\t\t\t({ id }) => id === placementName\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t.map(placementName => (\n\t\t\t\t\t\t<PrimaryPlacement\n\t\t\t\t\t\t\tkey={placementName}\n\t\t\t\t\t\t\tbar={bar}\n\t\t\t\t\t\t\tplacementName={placementName}\n\t\t\t\t\t\t\tdirection={direction}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t</ul>\n\t\t</li>\n\t)\n}\n\nexport default Row\n","import { createElement, useContext } from '@wordpress/element'\nimport { __ } from 'ct-i18n'\nimport cls from 'classnames'\nimport DraggableItems from './DraggableItems'\nimport Row from './PlacementsBuilder/Row'\n\nconst PlacementsBuilder = ({\n\tinlinedItemsFromBuilder,\n\tview,\n\tbuilderValueWithView,\n}) => {\n\tlet hasOffcanvas =\n\t\tview === 'mobile' ||\n\t\t(inlinedItemsFromBuilder.indexOf('trigger') > -1 &&\n\t\t\tbuilderValueWithView.find(({ id }) => id === 'offcanvas'))\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cls('placements-builder', {\n\t\t\t\t'ct-mobile': hasOffcanvas,\n\t\t\t})}>\n\t\t\t{hasOffcanvas && (\n\t\t\t\t<ul className=\"offcanvas-container\">\n\t\t\t\t\t<Row\n\t\t\t\t\t\tdirection=\"vertical\"\n\t\t\t\t\t\tbar={builderValueWithView.find(\n\t\t\t\t\t\t\t({ id }) => id === 'offcanvas'\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</ul>\n\t\t\t)}\n\n\t\t\t<ul className=\"horizontal-rows\">\n\t\t\t\t{['top-row', 'middle-row', 'bottom-row'].map((bar) => {\n\t\t\t\t\tconst maybeBar = builderValueWithView.find(\n\t\t\t\t\t\t({ id }) => id === bar\n\t\t\t\t\t)\n\n\t\t\t\t\tif (!maybeBar) {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\n\t\t\t\t\treturn <Row bar={maybeBar} key={bar} />\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t</div>\n\t)\n}\n\nexport default PlacementsBuilder\n","import { createElement, useState, useEffect } from '@wordpress/element'\nimport cls from 'classnames'\nimport { __ } from 'ct-i18n'\n\nconst ViewSwitch = ({ currentView, setCurrentView }) => {\n\tconst [builderCollapsed, setBuilderCollapsed] = useState(false)\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tdocument\n\t\t\t\t.querySelector('.wp-full-overlay')\n\t\t\t\t.classList.remove('ct-builder-collapsed')\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<ul className=\"ct-view-switch\">\n\t\t\t{['desktop', 'mobile'].map((view) => (\n\t\t\t\t<li\n\t\t\t\t\tkey={view}\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetCurrentView(view === 'mobile' ? 'tablet' : view)\n\t\t\t\t\t}\n\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\tactive: currentView === view,\n\t\t\t\t\t})}>\n\t\t\t\t\t{\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdesktop: __('Desktop Header', 'blocksy'),\n\t\t\t\t\t\t\tmobile: __('Tablet / Mobile Header', 'blocksy'),\n\t\t\t\t\t\t}[view]\n\t\t\t\t\t}\n\t\t\t\t</li>\n\t\t\t))}\n\n\t\t\t<li\n\t\t\t\tclassName=\"ct-builder-toggle\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetBuilderCollapsed(!builderCollapsed)\n\n\t\t\t\t\tif (builderCollapsed) {\n\t\t\t\t\t\tdocument\n\t\t\t\t\t\t\t.querySelector('.wp-full-overlay')\n\t\t\t\t\t\t\t.classList.remove('ct-builder-collapsed')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument\n\t\t\t\t\t\t\t.querySelector('.wp-full-overlay')\n\t\t\t\t\t\t\t.classList.add('ct-builder-collapsed')\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t{builderCollapsed\n\t\t\t\t\t? __('Show Builder', 'blocksy')\n\t\t\t\t\t: __('Hide Builder', 'blocksy')}\n\t\t\t</li>\n\t\t</ul>\n\t)\n}\n\nexport default ViewSwitch\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tuseContext,\n\tFragment,\n} from '@wordpress/element'\nimport DraggableItems from '../DraggableItems'\nimport { DragDropContext } from '../BuilderRoot'\nimport cls from 'classnames'\nimport Panel, { PanelMetaWrapper } from '../../../../options/options/ct-panel'\nimport { getValueFromInput } from '../../../../options/helpers/get-value-from-input'\nimport { getOriginalId, customItemsSeparator } from '../helpers'\n\nimport { Slot } from '@wordpress/components'\n\nconst SecondaryItems = ({\n\tbuilderValue,\n\tbuilderValueDispatch,\n\tinlinedItemsFromBuilder,\n\tdisplayList = true,\n}) => {\n\tconst { panelsState, panelsActions, currentView, isDragging } =\n\t\tuseContext(DragDropContext)\n\n\tconst inlinedItemsFromAllViewsBuilder = [\n\t\t...builderValue.desktop.reduce(\n\t\t\t(currentItems, { id, placements }) => [\n\t\t\t\t...currentItems,\n\t\t\t\t...(placements || []).reduce(\n\t\t\t\t\t(c, { id, items }) => [...c, ...items],\n\t\t\t\t\t[]\n\t\t\t\t),\n\t\t\t],\n\t\t\t[]\n\t\t),\n\n\t\t...builderValue.mobile.reduce(\n\t\t\t(currentItems, { id, placements }) => [\n\t\t\t\t...currentItems,\n\t\t\t\t...(placements || []).reduce(\n\t\t\t\t\t(c, { id, items }) => [...c, ...items],\n\t\t\t\t\t[]\n\t\t\t\t),\n\t\t\t],\n\t\t\t[]\n\t\t),\n\t]\n\n\tconst secondaryItems =\n\t\tct_customizer_localizations.header_builder_data.secondary_items.header.filter(\n\t\t\t({ config }) =>\n\t\t\t\t// config.devices.indexOf(currentView) > -1 &&\n\t\t\t\tconfig.enabled\n\t\t)\n\n\tconst allItems = ct_customizer_localizations.header_builder_data.header\n\n\t/**\n\t * Dynamic items have a : in their ID\n\t */\n\tconst allDynamicItems = builderValue.items\n\t\t.filter(({ id }) => id.indexOf(customItemsSeparator()) > -1)\n\t\t.map(({ id }) => id)\n\n\treturn (\n\t\t<DraggableItems\n\t\t\toptions={{ sort: false, filter: '.ct-item-in-builder' }}\n\t\t\tgroup={{\n\t\t\t\tname: 'header_sortables',\n\t\t\t\tput: false,\n\t\t\t\tpull: 'clone',\n\t\t\t}}\n\t\t\tdraggableId={'available-items'}\n\t\t\titems={[...secondaryItems.map(({ id }) => id), ...allDynamicItems]\n\t\t\t\t.filter((el) =>\n\t\t\t\t\tallItems.some(({ id }) => id === getOriginalId(el))\n\t\t\t\t)\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\tconst aItemData = allItems.find(\n\t\t\t\t\t\t({ id }) => id === getOriginalId(a)\n\t\t\t\t\t)\n\n\t\t\t\t\tconst bItemData = allItems.find(\n\t\t\t\t\t\t({ id }) => id === getOriginalId(b)\n\t\t\t\t\t)\n\n\t\t\t\t\treturn aItemData.config.name.localeCompare(\n\t\t\t\t\t\tbItemData.config.name\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\thasPointers={false}\n\t\t\tdisplayWrapper={displayList}\n\t\t\tpropsForItem={(item) => ({\n\t\t\t\trenderItem: ({ item, itemData, index }) => {\n\t\t\t\t\tconst itemOptions = allItems.find(\n\t\t\t\t\t\t({ id }) => id === getOriginalId(item)\n\t\t\t\t\t).options\n\n\t\t\t\t\tconst allClonesAndOriginal = [\n\t\t\t\t\t\tgetOriginalId(item),\n\t\t\t\t\t\t...allDynamicItems.filter(\n\t\t\t\t\t\t\t(id) => getOriginalId(id) === getOriginalId(item)\n\t\t\t\t\t\t),\n\t\t\t\t\t]\n\n\t\t\t\t\tconst itemName =\n\t\t\t\t\t\tallClonesAndOriginal.length > 1\n\t\t\t\t\t\t\t? `${itemData.config.name} ${\n\t\t\t\t\t\t\t\t\tallClonesAndOriginal.indexOf(item) + 1\n\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t: itemData.config.name\n\n\t\t\t\t\tconst option = {\n\t\t\t\t\t\tlabel: itemName,\n\t\t\t\t\t\t'inner-options': itemOptions,\n\t\t\t\t\t}\n\n\t\t\t\t\tconst itemInBuilder =\n\t\t\t\t\t\tinlinedItemsFromBuilder.indexOf(item) > -1\n\n\t\t\t\t\tlet row = '__none__'\n\n\t\t\t\t\tif (itemInBuilder) {\n\t\t\t\t\t\trow = builderValue[currentView].find(\n\t\t\t\t\t\t\t({ id, placements }) => {\n\t\t\t\t\t\t\t\tconst rowItems = (placements || []).reduce(\n\t\t\t\t\t\t\t\t\t(c, { id, items }) => [...c, ...items],\n\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\treturn rowItems.find((i) => i === item)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t).id\n\t\t\t\t\t}\n\n\t\t\t\t\tconst id = `builder_panel_${item}`\n\n\t\t\t\t\tconst itemsOnlyWithTrigger = [\n\t\t\t\t\t\t'mobile-menu',\n\t\t\t\t\t\t'mobile-menu-secondary',\n\t\t\t\t\t\t'offcanvas-logo',\n\t\t\t\t\t]\n\n\t\t\t\t\tconst isSidebarRepresentationPresent =\n\t\t\t\t\t\tdisplayList &&\n\t\t\t\t\t\titemData.config.devices.includes(currentView) &&\n\t\t\t\t\t\t(!itemsOnlyWithTrigger.includes(item) ||\n\t\t\t\t\t\t\t(itemsOnlyWithTrigger.includes(item) &&\n\t\t\t\t\t\t\t\t(currentView !== 'desktop' ||\n\t\t\t\t\t\t\t\t\tinlinedItemsFromBuilder.indexOf('trigger') >\n\t\t\t\t\t\t\t\t\t\t-1)))\n\n\t\t\t\t\tlet itemTitle = itemData.config.name\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<PanelMetaWrapper\n\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t{...panelsActions}\n\t\t\t\t\t\t\tgetActualOption={({ open }) => (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t{inlinedItemsFromAllViewsBuilder.indexOf(\n\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t) > -1 && (\n\t\t\t\t\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\t\tgetValues={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet itemValue =\n\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.items.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) => id === item\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\titemValue &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t\t) > 5\n\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderSettings:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.settings ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...itemValue.values,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t...getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemOptions,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemValue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? itemValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderSettings:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.settings ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t\t\t\tonChangeFor={(\n\t\t\t\t\t\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\t\t\t\t\t\toptionValue\n\t\t\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst currentValue =\n\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.items.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) => id === item\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t\t\t\t\tbuilderValueDispatch({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'ITEM_VALUE_ON_CHANGE',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: item,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionValue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!currentValue ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(currentValue &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).length === 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemOptions,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: {},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tview=\"simple\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{isSidebarRepresentationPresent && (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tdata-id={item}\n\t\t\t\t\t\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\t\t\t\t\t\t'ct-item-in-builder':\n\t\t\t\t\t\t\t\t\t\t\t\t\titemInBuilder,\n\t\t\t\t\t\t\t\t\t\t\t\t'ct-builder-item':\n\t\t\t\t\t\t\t\t\t\t\t\t\t!itemInBuilder,\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (isDragging) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\titemInBuilder && open()\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t{itemName}\n\n\t\t\t\t\t\t\t\t\t\t\t<Slot\n\t\t\t\t\t\t\t\t\t\t\t\tname={`PlacementsBuilderSidebarItem_${index}`}\n\t\t\t\t\t\t\t\t\t\t\t\tfillProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\t\t\t\t\titemInBuilder,\n\t\t\t\t\t\t\t\t\t\t\t\t\titemData,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)}></PanelMetaWrapper>\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t})}\n\t\t\tdirection=\"vertical\"\n\t\t/>\n\t)\n}\n\nexport default SecondaryItems\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tuseContext,\n\tFragment,\n} from '@wordpress/element'\n\nimport cls from 'classnames'\nimport Panel, { PanelMetaWrapper } from '../../../../options/options/ct-panel'\nimport { getValueFromInput } from '../../../../options/helpers/get-value-from-input'\nimport { DragDropContext } from '../BuilderRoot'\n\nconst InvisiblePanels = ({ builderValue, builderValueDispatch }) => {\n\tconst secondaryItems =\n\t\tct_customizer_localizations.header_builder_data.secondary_items.header\n\tconst allItems = ct_customizer_localizations.header_builder_data.header\n\n\tconst { panelsState, panelsActions } = useContext(DragDropContext)\n\n\tconst primaryItems = allItems.filter(\n\t\t({ id }) => !secondaryItems.find((item) => item.id === id)\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{primaryItems.map((primaryItem) => {\n\t\t\t\tconst option = {\n\t\t\t\t\tlabel: primaryItem.config.name,\n\t\t\t\t\t'inner-options': primaryItem.options,\n\t\t\t\t}\n\n\t\t\t\tconst id = `builder_panel_${primaryItem.id}`\n\n\t\t\t\treturn (\n\t\t\t\t\t<PanelMetaWrapper\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tkey={primaryItem.id}\n\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t{...panelsActions}\n\t\t\t\t\t\tgetActualOption={() => (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tgetValues={() => {\n\t\t\t\t\t\t\t\t\t\tlet itemValue = builderValue.items.find(\n\t\t\t\t\t\t\t\t\t\t\t({ id }) => id === primaryItem.id\n\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t\t\tlet itemsCount = '0'\n\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tprimaryItem.id === 'top-row' ||\n\t\t\t\t\t\t\t\t\t\t\tprimaryItem.id === 'middle-row' ||\n\t\t\t\t\t\t\t\t\t\t\tprimaryItem.id === 'bottom-row'\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\titemsCount = (\n\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.desktop\n\t\t\t\t\t\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryItem.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.placements.reduce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(r, p) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...r,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...p.items,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t\t\t\t\t\t).length +\n\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.mobile\n\t\t\t\t\t\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryItem.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.placements.reduce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(r, p) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...r,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...p.items,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t\t\t\t\t\t).length\n\t\t\t\t\t\t\t\t\t\t\t).toString()\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\titemValue &&\n\t\t\t\t\t\t\t\t\t\t\tObject.keys(itemValue.values) > 5\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\titemsCount,\n\t\t\t\t\t\t\t\t\t\t\t\tbuilderSettings:\n\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.settings || {},\n\t\t\t\t\t\t\t\t\t\t\t\t...itemValue.values,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t...getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\t\tprimaryItem.options,\n\t\t\t\t\t\t\t\t\t\t\t\titemValue\n\t\t\t\t\t\t\t\t\t\t\t\t\t? itemValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\titemsCount,\n\t\t\t\t\t\t\t\t\t\t\tbuilderSettings:\n\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.settings || {},\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t\tonChangeFor={(optionId, optionValue) => {\n\t\t\t\t\t\t\t\t\t\tconst currentValue = builderValue.items.find(\n\t\t\t\t\t\t\t\t\t\t\t({ id }) => id === primaryItem.id\n\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t\t\tbuilderValueDispatch({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'ITEM_VALUE_ON_CHANGE',\n\t\t\t\t\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\t\t\t\t\tid: primaryItem.id,\n\t\t\t\t\t\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\t\t\t\t\t\toptionValue,\n\t\t\t\t\t\t\t\t\t\t\t\tvalues:\n\t\t\t\t\t\t\t\t\t\t\t\t\t!currentValue ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t(currentValue &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentValue.values\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).length === 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryItem.options,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: {},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tview=\"simple\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t})}\n\t\t</Fragment>\n\t)\n}\n\nexport default InvisiblePanels\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tuseContext,\n\tFragment,\n} from '@wordpress/element'\nimport { DragDropContext } from '../BuilderRoot'\nimport cls from 'classnames'\nimport Panel, { PanelMetaWrapper } from '../../../../options/options/ct-panel'\nimport { getValueFromInput } from '../../../../options/helpers/get-value-from-input'\n\nimport { __ } from 'ct-i18n'\n\nconst PanelsManager = () => {\n\tconst secondaryItems =\n\t\tct_customizer_localizations.header_builder_data.secondary_items.header\n\tconst allItems = ct_customizer_localizations.header_builder_data.header\n\n\tconst {\n\t\tbuilderValue,\n\t\toption,\n\t\tbuilderValueCollection,\n\t\tbuilderValueDispatch,\n\t\tpanelsActions,\n\t} = useContext(DragDropContext)\n\n\tconst allSections = builderValueCollection.sections.filter(\n\t\t({ id }) =>\n\t\t\tid !== 'type-2' && id !== 'type-3' && id.indexOf('ct-custom') === -1\n\t)\n\n\treturn (\n\t\t<ul className={cls('ct-panels-manager')}>\n\t\t\t{allSections.map(({ name, id }) => {\n\t\t\t\tlet panelLabel =\n\t\t\t\t\tname ||\n\t\t\t\t\t{\n\t\t\t\t\t\t'type-1': __('Global Header', 'blocksy'),\n\t\t\t\t\t}[id] ||\n\t\t\t\t\tid\n\n\t\t\t\tconst panelId = `builder_header_panel_${id}`\n\n\t\t\t\tconst headerOptions =\n\t\t\t\t\tct_customizer_localizations.header_builder_data.header_data\n\t\t\t\t\t\t.header_options\n\n\t\t\t\tconst option = {\n\t\t\t\t\tlabel: panelLabel,\n\t\t\t\t\t'inner-options': headerOptions,\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<PanelMetaWrapper\n\t\t\t\t\t\tid={panelId}\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t{...panelsActions}\n\t\t\t\t\t\tgetActualOption={({ open }) => (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t{Object.keys(headerOptions).length > 0 &&\n\t\t\t\t\t\t\t\t\tid === builderValue.id && (\n\t\t\t\t\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\t\t\t\t\tid={panelId}\n\t\t\t\t\t\t\t\t\t\t\tgetValues={() =>\n\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.settings || {}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t\t\t\tonChangeFor={(\n\t\t\t\t\t\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\t\t\t\t\t\toptionValue\n\t\t\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\t\t\tbuilderValueDispatch({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'BUILDER_GLOBAL_SETTING_ON_CHANGE',\n\t\t\t\t\t\t\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionValue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues: getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theaderOptions,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tArray.isArray(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuilderValue.settings\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? {}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: builderValue.settings ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tview=\"simple\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{id === builderValue.id && (\n\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\t\t\t\t\tactive: id === builderValue.id,\n\t\t\t\t\t\t\t\t\t\t\t'ct-global': id === 'type-1',\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tObject.keys(headerOptions)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.length > 0\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\topen()\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<span className=\"ct-panel-name\">\n\t\t\t\t\t\t\t\t\t\t\t{panelLabel}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}></PanelMetaWrapper>\n\t\t\t\t)\n\t\t\t})}\n\t\t</ul>\n\t)\n}\n\nexport default PanelsManager\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tuseContext,\n\tFragment,\n} from '@wordpress/element'\nimport cls from 'classnames'\nimport { __, sprintf } from 'ct-i18n'\n\nimport { Slot } from '@wordpress/components'\n\nimport SecondaryItems from './builder-sidebar/SecondaryItems'\nimport InvisiblePanels from './builder-sidebar/InvisiblePanels'\n\nimport PanelsManager from './builder-sidebar/PanelsManager'\n\nimport { DragDropContext } from './BuilderRoot'\n\nimport classnames from 'classnames'\n\nconst AvailableItems = ({\n\tallBuilderSections,\n\tbuilderValue,\n\tbuilderValueDispatch,\n\tinlinedItemsFromBuilder,\n}) => {\n\t// panels | items | options\n\tconst [currentTab, setCurrentTab] = useState('items')\n\n\tconst { builderValueCollection } = useContext(DragDropContext)\n\n\tconst secondaryItems =\n\t\tct_customizer_localizations.header_builder_data.secondary_items.header\n\tconst allItems = ct_customizer_localizations.header_builder_data.header\n\n\tconst headerOptions =\n\t\tct_customizer_localizations.header_builder_data.header_data\n\t\t\t.header_options\n\n\treturn (\n\t\t<div className=\"ct-available-items\">\n\t\t\t<h3\n\t\t\t\tclassName=\"ct-title\"\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: sprintf(\n\t\t\t\t\t\t__('Customizing: %s', 'blocksy'),\n\t\t\t\t\t\t`<span>${\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tbuilderValueCollection.sections.find(\n\t\t\t\t\t\t\t\t\t({ id }) => id === builderValue.id\n\t\t\t\t\t\t\t\t) || {}\n\t\t\t\t\t\t\t).name ||\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'type-1': __('Global Header', 'blocksy'),\n\t\t\t\t\t\t\t}[builderValue.id] ||\n\t\t\t\t\t\t\tbuilderValue.id\n\t\t\t\t\t\t}</span>`\n\t\t\t\t\t),\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t<div className=\"ct-tabs\">\n\t\t\t\t<ul>\n\t\t\t\t\t{['items', 'panels'].map((tab) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={tab}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\tsetCurrentTab(tab)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\t\tactive: tab === currentTab,\n\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpanels: __('Headers', 'blocksy'),\n\t\t\t\t\t\t\t\t\titems: __('Elements', 'blocksy'),\n\t\t\t\t\t\t\t\t}[tab]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\n\t\t\t\t<div className=\"ct-current-tab\">\n\t\t\t\t\t{currentTab === 'panels' && (\n\t\t\t\t\t\t<Slot name=\"PlacementsBuilderPanelsManager\">\n\t\t\t\t\t\t\t{(fills) =>\n\t\t\t\t\t\t\t\tfills.length === 0 ? <PanelsManager /> : fills\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Slot>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<SecondaryItems\n\t\t\t\t\t\tbuilderValue={builderValue}\n\t\t\t\t\t\tbuilderValueDispatch={builderValueDispatch}\n\t\t\t\t\t\tinlinedItemsFromBuilder={inlinedItemsFromBuilder}\n\t\t\t\t\t\tdisplayList={currentTab === 'items'}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<InvisiblePanels\n\t\t\t\tbuilderValue={builderValue}\n\t\t\t\tbuilderValueDispatch={builderValueDispatch}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default AvailableItems\n","import { fetchCurrentHeader } from './BuilderRoot'\nimport { getOriginalId, customItemsSeparator } from './helpers'\nimport nanoid from 'nanoid'\n\nexport const builderReducer = (builderValue, action) => {\n\tlet updatedGlobalState = {}\n\tlet newSections = []\n\n\tlet futureBuilderValue = builderValue.sections.find(\n\t\t({ id }) =>\n\t\t\tid.indexOf(\n\t\t\t\tbuilderValue.__forced_static_header__ ||\n\t\t\t\t\tfetchCurrentHeader() ||\n\t\t\t\t\tbuilderValue.sections[0].id\n\t\t\t) > -1\n\t)\n\n\tlet shouldUpdate = false\n\tlet updateItemId = false\n\tlet removeSectionIds = []\n\n\tif (action.type === 'ITEM_VALUE_ON_CHANGE') {\n\t\tconst { id, optionId, optionValue, values = {} } = action.payload\n\n\t\tupdateItemId = `${id}:${optionId}`\n\n\t\tlet items = futureBuilderValue.items\n\n\t\tif (!items.find(({ id: _id }) => _id === id)) {\n\t\t\titems = [\n\t\t\t\t...items,\n\t\t\t\t{\n\t\t\t\t\tid,\n\t\t\t\t\tvalues: {},\n\t\t\t\t},\n\t\t\t]\n\t\t}\n\n\t\tfutureBuilderValue = {\n\t\t\t...futureBuilderValue,\n\t\t\titems: items.map((item) =>\n\t\t\t\titem.id === id\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\tvalues: {\n\t\t\t\t\t\t\t\t...item.values,\n\t\t\t\t\t\t\t\t...values,\n\t\t\t\t\t\t\t\t[optionId]: optionValue,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t  }\n\t\t\t\t\t: item\n\t\t\t),\n\t\t}\n\t}\n\n\tif (action.type === 'PICK_BUILDER_SECTION') {\n\t\tshouldUpdate = true\n\t\tupdatedGlobalState = {\n\t\t\t__forced_static_header__: action.payload.id,\n\t\t}\n\t}\n\n\tif (action.type === 'MARK_HEADER_AS_GLOBAL') {\n\t\tshouldUpdate = true\n\t\tupdatedGlobalState = {\n\t\t\tcurrent_section: builderValue.__forced_static_header__,\n\t\t}\n\t}\n\n\tif (action.type === 'MARK_SPECIFIC_HEADER_AS_GLOBAL') {\n\t\tupdatedGlobalState = {\n\t\t\tcurrent_section: action.payload.id,\n\t\t}\n\t}\n\n\tif (action.type === 'CLONE_ITEM') {\n\t\tconst futureId = getOriginalId(action.payload.id)\n\n\t\tfutureBuilderValue = {\n\t\t\t...futureBuilderValue,\n\t\t\titems: [\n\t\t\t\t...futureBuilderValue.items,\n\t\t\t\t{\n\t\t\t\t\tid: `${futureId}${customItemsSeparator()}${nanoid()}`,\n\t\t\t\t\tvalues: futureBuilderValue.items.find(\n\t\t\t\t\t\t({ id }) => id === futureId\n\t\t\t\t\t)\n\t\t\t\t\t\t? futureBuilderValue.items.find(\n\t\t\t\t\t\t\t\t({ id }) => id === futureId\n\t\t\t\t\t\t  ).values\n\t\t\t\t\t\t: {},\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\t}\n\n\tif (action.type === 'REMOVE_CLONED_ITEM') {\n\t\tfutureBuilderValue = {\n\t\t\t...futureBuilderValue,\n\t\t\titems: futureBuilderValue.items.filter(\n\t\t\t\t({ id }) => id !== action.payload.id\n\t\t\t),\n\t\t}\n\t}\n\n\tif (action.type === 'SET_LIST') {\n\t\tshouldUpdate = true\n\t\tconst { currentView, lists } = action.payload\n\n\t\tif (\n\t\t\t/**\n\t\t\t * If we just inserted offcanvas trigger on desktop\n\t\t\t */\n\t\t\tcurrentView === 'desktop' &&\n\t\t\tObject.values(lists)\n\t\t\t\t.reduce((all, current) => [...all, ...current], [])\n\t\t\t\t.indexOf('trigger') > -1 &&\n\t\t\t!futureBuilderValue.desktop.find(({ id }) => id === 'offcanvas')\n\t\t) {\n\t\t\tfutureBuilderValue = {\n\t\t\t\t...futureBuilderValue,\n\t\t\t\tdesktop: [\n\t\t\t\t\t...futureBuilderValue.desktop,\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'offcanvas',\n\t\t\t\t\t\tplacements: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'start',\n\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t}\n\t\t}\n\n\t\tfutureBuilderValue = {\n\t\t\t...futureBuilderValue,\n\t\t\t[currentView]: futureBuilderValue[currentView].map(\n\t\t\t\t({ id: barId, placements }) => {\n\t\t\t\t\tconst keys = Object.keys(lists)\n\n\t\t\t\t\tif (keys.map((k) => k.split(':')[0]).indexOf(barId) > -1) {\n\t\t\t\t\t\tlet futureBar = {\n\t\t\t\t\t\t\tid: barId,\n\t\t\t\t\t\t\tplacements: placements.map(({ id, items }) => {\n\t\t\t\t\t\t\t\tif (lists[`${barId}:${id}`]) {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\titems: lists[`${barId}:${id}`],\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn { id, items }\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tfutureBar.placements.find(\n\t\t\t\t\t\t\t\t({ id }) => id === 'middle'\n\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\tfutureBar.placements.find(\n\t\t\t\t\t\t\t\t({ id }) => id === 'middle'\n\t\t\t\t\t\t\t).items.length === 0 &&\n\t\t\t\t\t\t\tfutureBar.placements.find(\n\t\t\t\t\t\t\t\t({ id }) => id === 'start-middle'\n\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t(futureBar.placements.find(\n\t\t\t\t\t\t\t\t({ id }) => id === 'start-middle'\n\t\t\t\t\t\t\t).items.length > 0 ||\n\t\t\t\t\t\t\t\tfutureBar.placements.find(\n\t\t\t\t\t\t\t\t\t({ id }) => id === 'end-middle'\n\t\t\t\t\t\t\t\t).items.length > 0)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlet updater = {}\n\n\t\t\t\t\t\t\tupdater[`${barId}:start`] = [\n\t\t\t\t\t\t\t\t...futureBar.placements.find(\n\t\t\t\t\t\t\t\t\t({ id }) => id === 'start'\n\t\t\t\t\t\t\t\t).items,\n\t\t\t\t\t\t\t\t...futureBar.placements.find(\n\t\t\t\t\t\t\t\t\t({ id }) => id === 'start-middle'\n\t\t\t\t\t\t\t\t).items,\n\t\t\t\t\t\t\t]\n\n\t\t\t\t\t\t\tupdater[`${barId}:end`] = [\n\t\t\t\t\t\t\t\t...futureBar.placements.find(\n\t\t\t\t\t\t\t\t\t({ id }) => id === 'end-middle'\n\t\t\t\t\t\t\t\t).items,\n\t\t\t\t\t\t\t\t...futureBar.placements.find(\n\t\t\t\t\t\t\t\t\t({ id }) => id === 'end'\n\t\t\t\t\t\t\t\t).items,\n\t\t\t\t\t\t\t]\n\n\t\t\t\t\t\t\tupdater[`${barId}:start-middle`] = []\n\t\t\t\t\t\t\tupdater[`${barId}:end-middle`] = []\n\n\t\t\t\t\t\t\tfutureBar = {\n\t\t\t\t\t\t\t\tid: barId,\n\t\t\t\t\t\t\t\tplacements: futureBar.placements.map(\n\t\t\t\t\t\t\t\t\t({ id, items }) => {\n\t\t\t\t\t\t\t\t\t\tif (updater[`${barId}:${id}`]) {\n\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\t\titems:\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdater[`${barId}:${id}`],\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn { id, items }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn futureBar\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: barId,\n\t\t\t\t\t\tplacements,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t),\n\t\t}\n\t}\n\n\tif (action.type === 'BUILDER_GLOBAL_SETTING_ON_CHANGE') {\n\t\tconst { optionId, optionValue, values = {} } = action.payload\n\n\t\tfutureBuilderValue = {\n\t\t\t...futureBuilderValue,\n\t\t\tsettings: {\n\t\t\t\t...futureBuilderValue.settings,\n\t\t\t\t...values,\n\t\t\t\t[optionId]: optionValue,\n\t\t\t},\n\t\t}\n\t}\n\n\tif (action.type === 'CREATE_NEW_SECTION') {\n\t\tconst { name, copy } = action.payload\n\n\t\tnewSections = [\n\t\t\tcopy\n\t\t\t\t? {\n\t\t\t\t\t\t...(builderValue.sections.find(\n\t\t\t\t\t\t\t({ id }) => id === copy\n\t\t\t\t\t\t) || {}),\n\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tid: `ct-custom-${nanoid()}`,\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tid: `ct-custom-${nanoid()}`,\n\t\t\t\t\t\tmode: 'placements',\n\t\t\t\t\t\titems: [],\n\t\t\t\t\t\tsettings: [],\n\t\t\t\t\t\tdesktop: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'top-row',\n\t\t\t\t\t\t\t\tplacements: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'middle-row',\n\t\t\t\t\t\t\t\tplacements: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start',\n\t\t\t\t\t\t\t\t\t\titems: ['logo'],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end',\n\t\t\t\t\t\t\t\t\t\titems: ['menu'],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'bottom-row',\n\t\t\t\t\t\t\t\tplacements: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\n\t\t\t\t\t\tmobile: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'top-row',\n\t\t\t\t\t\t\t\tplacements: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'middle-row',\n\t\t\t\t\t\t\t\tplacements: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start',\n\t\t\t\t\t\t\t\t\t\titems: ['logo'],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end',\n\t\t\t\t\t\t\t\t\t\titems: ['trigger'],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'bottom-row',\n\t\t\t\t\t\t\t\tplacements: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'end-middle',\n\t\t\t\t\t\t\t\t\t\titems: [],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'offcanvas',\n\t\t\t\t\t\t\t\tplacements: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: 'start',\n\t\t\t\t\t\t\t\t\t\titems: ['mobile-menu'],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t  },\n\t\t]\n\t}\n\n\tif (action.type === 'REMOVE_BUILDER_SECTION') {\n\t\tremoveSectionIds.push(action.payload.id)\n\t}\n\n\tconst actualBuilderValue = {\n\t\t...builderValue,\n\t\t...updatedGlobalState,\n\t\t__should_refresh__: shouldUpdate,\n\t\t__should_refresh_item__: updateItemId,\n\t\tsections: [\n\t\t\t...builderValue.sections.map((builder) =>\n\t\t\t\tbuilder.id === futureBuilderValue.id\n\t\t\t\t\t? futureBuilderValue\n\t\t\t\t\t: builder\n\t\t\t),\n\t\t\t...newSections,\n\t\t].filter(({ id }) => removeSectionIds.indexOf(id) === -1),\n\t}\n\n\treturn actualBuilderValue\n}\n","import {\n\tcreateElement,\n\tFragment,\n\tComponent,\n\tuseEffect,\n\tuseRef,\n\tuseMemo,\n\tcreatePortal,\n\tuseState,\n\tuseCallback,\n\tcreateContext,\n\tuseReducer,\n} from '@wordpress/element'\nimport PlacementsBuilder from './PlacementsBuilder'\nimport DraggableItems from './DraggableItems'\nimport ViewSwitch from './ViewSwitch'\nimport AvailableItems from './AvailableItems'\nimport { builderReducer } from './builderReducer'\nimport { useDeviceManager } from '../../components/useDeviceManager'\nimport ctEvents from 'ct-events'\n\nexport const DragDropContext = createContext({})\n\nconst getDocument = (x) =>\n\tx.document || x.contentDocument || x.contentWindow.document\n\nexport const fetchCurrentHeader = () => {\n\tconst document = getDocument(\n\t\twp.customize.previewer.container.find('iframe')[0]\n\t)\n\n\tif (\n\t\twp.customize.previewer.container\n\t\t\t.find('iframe')[0]\n\t\t\t.contentDocument.querySelector('header#header')\n\t) {\n\t\treturn wp.customize.previewer.container\n\t\t\t.find('iframe')[0]\n\t\t\t.contentDocument.querySelector('header#header').dataset.id\n\t}\n\n\treturn null\n}\n\nconst BuilderRoot = ({\n\tvalue: allBuilderSections,\n\toption,\n\tonChange: onBuilderValueChange,\n}) => {\n\tconst currentHeader = useRef(null)\n\n\tif (currentHeader.current === null) {\n\t\tcurrentHeader.current = (\n\t\t\tallBuilderSections.sections.find(\n\t\t\t\t({ id }) => id.indexOf(fetchCurrentHeader()) > -1\n\t\t\t) || allBuilderSections.sections[0]\n\t\t).id\n\t}\n\n\tuseEffect(() => {\n\t\tlet {\n\t\t\t__forced_dynamic_header__,\n\t\t\t__forced_static_header__,\n\t\t\t__should_refresh__,\n\t\t\t...old\n\t\t} = wp.customize('header_placements')()\n\n\t\tObject.keys(old).map((key) => {\n\t\t\tif (parseFloat(key)) {\n\t\t\t\tdelete old[key]\n\t\t\t}\n\t\t})\n\n\t\ttry {\n\t\t\twp.customize('header_placements')({\n\t\t\t\t...old,\n\t\t\t\t__forced_static_header__: (\n\t\t\t\t\tallBuilderSections.sections.find(\n\t\t\t\t\t\t({ id }) => id.indexOf(fetchCurrentHeader()) > -1\n\t\t\t\t\t) || allBuilderSections.sections[0]\n\t\t\t\t).id,\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\n\t\treturn () => {\n\t\t\tconst {\n\t\t\t\t__forced_dynamic_header__,\n\t\t\t\t__forced_static_header__,\n\t\t\t\t__should_refresh__,\n\t\t\t\t...old\n\t\t\t} = wp.customize('header_placements')()\n\n\t\t\twp.customize('header_placements')({\n\t\t\t\t__should_refresh__: true,\n\t\t\t\t[Math.random()]: 'update',\n\t\t\t\t...old,\n\t\t\t})\n\t\t}\n\t}, [])\n\n\tconst [isDragging, setIsDragging] = useState(false)\n\n\tconst [builderValueCollection, builderValueDispatchInternal] = useReducer(\n\t\tbuilderReducer,\n\t\t{\n\t\t\t...allBuilderSections,\n\t\t\t...(currentHeader.current\n\t\t\t\t? {\n\t\t\t\t\t\t__forced_static_header__: currentHeader.current,\n\t\t\t\t  }\n\t\t\t\t: {}),\n\t\t}\n\t)\n\n\tconst builderValue = useMemo(\n\t\t() =>\n\t\t\tbuilderValueCollection.sections.find(\n\t\t\t\t({ id }) =>\n\t\t\t\t\tid === builderValueCollection.__forced_static_header__\n\t\t\t) || builderValueCollection.sections[0],\n\t\t[builderValueCollection]\n\t)\n\n\t// desktop | mobile\n\tconst [currentView, setCurrentView] = useDeviceManager({\n\t\twithTablet: false,\n\t})\n\n\tconst inlinedItemsFromBuilder = useMemo(\n\t\t() =>\n\t\t\tbuilderValue[currentView].reduce(\n\t\t\t\t(currentItems, { id, placements }) => [\n\t\t\t\t\t...currentItems,\n\t\t\t\t\t...(placements || []).reduce(\n\t\t\t\t\t\t(c, { id, items }) => [...c, ...items],\n\t\t\t\t\t\t[]\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t\t[]\n\t\t\t),\n\t\t[builderValue, currentView]\n\t)\n\n\tconst builderValueDispatch = useCallback(\n\t\t(action) => {\n\t\t\tlet newState = builderReducer(builderValueCollection, action)\n\n\t\t\tif (action.type === 'ITEM_VALUE_ON_CHANGE') {\n\t\t\t\tconst {\n\t\t\t\t\tid,\n\t\t\t\t\toptionId,\n\t\t\t\t\toptionValue,\n\t\t\t\t\tvalues = {},\n\t\t\t\t} = action.payload\n\n\t\t\t\tconst builderValue =\n\t\t\t\t\tnewState.sections.find(\n\t\t\t\t\t\t({ id }) => id === newState.__forced_static_header__\n\t\t\t\t\t) || newState.sections[0]\n\n\t\t\t\tlet items = builderValue.items\n\n\t\t\t\tif (\n\t\t\t\t\tid === 'logo' &&\n\t\t\t\t\toptionId === 'custom_logo' &&\n\t\t\t\t\tbuilderValue.id === 'type-1'\n\t\t\t\t) {\n\t\t\t\t\twp.customize &&\n\t\t\t\t\t\twp.customize('custom_logo')(\n\t\t\t\t\t\t\toptionValue\n\t\t\t\t\t\t\t\t? optionValue.desktop\n\t\t\t\t\t\t\t\t\t? optionValue.desktop\n\t\t\t\t\t\t\t\t\t: optionValue\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\twp.customize.previewer &&\n\t\t\t\t\twp.customize.previewer.send(\n\t\t\t\t\t\t'ct:header:receive-value-update',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titemId: id,\n\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\toptionValue,\n\t\t\t\t\t\t\tfutureItems: builderValue.items,\n\t\t\t\t\t\t\tvalues: {\n\t\t\t\t\t\t\t\t...(\n\t\t\t\t\t\t\t\t\titems.find(({ id: _id }) => id === _id) || {\n\t\t\t\t\t\t\t\t\t\tvalues: {},\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t).values,\n\t\t\t\t\t\t\t\t...values,\n\t\t\t\t\t\t\t\t[optionId]: optionValue,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (action.type === 'BUILDER_GLOBAL_SETTING_ON_CHANGE') {\n\t\t\t\tconst { optionId, optionValue, values = {} } = action.payload\n\n\t\t\t\tconst builderValue =\n\t\t\t\t\tnewState.sections.find(\n\t\t\t\t\t\t({ id }) => id === newState.__forced_static_header__\n\t\t\t\t\t) || newState.sections[0]\n\n\t\t\t\twp.customize.previewer &&\n\t\t\t\t\twp.customize.previewer.send(\n\t\t\t\t\t\t'ct:header:receive-value-update',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titemId: 'global',\n\t\t\t\t\t\t\toptionId,\n\t\t\t\t\t\t\toptionValue,\n\t\t\t\t\t\t\tvalues: {\n\t\t\t\t\t\t\t\t...builderValue.settings,\n\t\t\t\t\t\t\t\t...values,\n\t\t\t\t\t\t\t\t[optionId]: optionValue,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t}\n\n\t\t\tonBuilderValueChange(newState)\n\n\t\t\tbuilderValueDispatchInternal(action)\n\t\t},\n\t\t[\n\t\t\tbuilderValueDispatchInternal,\n\t\t\tonBuilderValueChange,\n\t\t\tbuilderValueCollection,\n\t\t]\n\t)\n\n\tconst setList = useCallback(\n\t\t(lists) =>\n\t\t\tbuilderValueDispatch({\n\t\t\t\ttype: 'SET_LIST',\n\t\t\t\tpayload: {\n\t\t\t\t\tcurrentView,\n\t\t\t\t\tlists,\n\t\t\t\t},\n\t\t\t}),\n\t\t[builderValueDispatch, currentView]\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<DragDropContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\toption,\n\t\t\t\t\tcurrentView,\n\t\t\t\t\tisDragging,\n\t\t\t\t\tsetIsDragging,\n\t\t\t\t\tsetList,\n\t\t\t\t\tbuilderValueDispatch,\n\t\t\t\t\tbuilderValue,\n\t\t\t\t\tonChange: ({ id, value }) => setList({ [id]: value }),\n\t\t\t\t\tbuilderValueCollection,\n\t\t\t\t}}>\n\t\t\t\t<AvailableItems\n\t\t\t\t\tallBuilderSections={allBuilderSections}\n\t\t\t\t\tbuilderValue={builderValue}\n\t\t\t\t\tinlinedItemsFromBuilder={inlinedItemsFromBuilder}\n\t\t\t\t\tbuilderValueDispatch={builderValueDispatch}\n\t\t\t\t/>\n\n\t\t\t\t{createPortal(\n\t\t\t\t\t<div className=\"ct-builder-header\">\n\t\t\t\t\t\t<ViewSwitch\n\t\t\t\t\t\t\tcurrentView={currentView}\n\t\t\t\t\t\t\tsetCurrentView={setCurrentView}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<PlacementsBuilder\n\t\t\t\t\t\t\tinlinedItemsFromBuilder={inlinedItemsFromBuilder}\n\t\t\t\t\t\t\tbuilderValueWithView={builderValue[currentView]}\n\t\t\t\t\t\t\tview={currentView}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>,\n\t\t\t\t\tdocument.querySelector('.ct-panel-builder')\n\t\t\t\t)}\n\t\t\t</DragDropContext.Provider>\n\t\t</Fragment>\n\t)\n}\n\nexport default BuilderRoot\n","import { createElement } from '@wordpress/element'\nimport BuilderRoot from '../../customizer/panels-builder/placements/BuilderRoot'\n\nconst HeaderBuilder = props => <BuilderRoot {...props} />\nHeaderBuilder.renderingConfig = { design: 'none' }\n\nexport default HeaderBuilder\n","import { createElement, Component } from '@wordpress/element'\nimport classnames from 'classnames'\nimport { normalizeCondition, matchValuesWithCondition } from 'match-conditions'\n\nconst ImagePicker = ({\n\toption: { choices, tabletChoices, mobileChoices },\n\toption,\n\tdevice,\n\tvalue,\n\tvalues,\n\tonChange,\n}) => {\n\tconst { className, ...attr } = { ...(option.attr || {}) }\n\n\tlet deviceChoices = option.choices\n\n\tif (device === 'tablet' && tabletChoices) {\n\t\tdeviceChoices = tabletChoices\n\t}\n\n\tif (device === 'mobile' && mobileChoices) {\n\t\tdeviceChoices = mobileChoices\n\t}\n\n\tlet matchingChoices = (Array.isArray(deviceChoices)\n\t\t? deviceChoices\n\t\t: Object.keys(deviceChoices).map((choice) => ({\n\t\t\t\tkey: choice,\n\t\t\t\t...deviceChoices[choice],\n\t\t  }))\n\t).filter(({ key }) => {\n\t\tif (!option.conditions) {\n\t\t\treturn true\n\t\t}\n\n\t\tif (!option.conditions[key]) {\n\t\t\treturn true\n\t\t}\n\n\t\treturn matchValuesWithCondition(\n\t\t\tnormalizeCondition(option.conditions[key]),\n\t\t\tvalues\n\t\t)\n\t})\n\n\tlet normalizedValue = matchingChoices.map(({ key }) => key).includes(value)\n\t\t? value\n\t\t: option.value\n\n\treturn (\n\t\t<ul\n\t\t\t{...attr}\n\t\t\tclassName={classnames('ct-image-picker', className)}\n\t\t\t{...(option.title && null ? { 'data-title': '' } : {})}>\n\t\t\t{matchingChoices.map((choice) => (\n\t\t\t\t<li\n\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\tactive: choice.key === normalizedValue,\n\t\t\t\t\t})}\n\t\t\t\t\tonClick={() => onChange(choice.key)}\n\t\t\t\t\tkey={choice.key}>\n\t\t\t\t\t{choice.src.indexOf('<svg') === -1 ? (\n\t\t\t\t\t\t<img src={choice.src} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t__html: choice.src,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{option.title && null && <span>{choice.title}</span>}\n\n\t\t\t\t\t{choice.title && (\n\t\t\t\t\t\t<span className=\"ct-tooltip-top\">{choice.title}</span>\n\t\t\t\t\t)}\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t)\n}\n\nexport default ImagePicker\n","import { createElement, Component, Fragment } from '@wordpress/element'\nimport { FocalPointPicker } from '@wordpress/components'\nimport classnames from 'classnames'\nimport { __ } from 'ct-i18n'\nimport _ from 'underscore'\n\nexport default class ImageUploader extends Component {\n\tparams = {\n\t\theight: 250,\n\t\twidth: 250,\n\t\tflex_width: true,\n\t\tflex_height: true,\n\t}\n\n\tstate = {\n\t\tattachment_info: null,\n\t}\n\n\tgetUrlFor = (attachmentInfo) =>\n\t\tattachmentInfo\n\t\t\t? (attachmentInfo.width < 700\n\t\t\t\t\t? attachmentInfo.sizes.full\n\t\t\t\t\t: _.max(\n\t\t\t\t\t\t\t_.values(\n\t\t\t\t\t\t\t\t_.keys(attachmentInfo.sizes).length === 1\n\t\t\t\t\t\t\t\t\t? attachmentInfo.sizes\n\t\t\t\t\t\t\t\t\t: _.omit(attachmentInfo.sizes, 'full')\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t({ width }) => width\n\t\t\t\t\t  )\n\t\t\t  ).url || attachmentInfo.url\n\t\t\t: null\n\n\tonChange = (value, attachment_info = null) =>\n\t\tthis.props.onChange(\n\t\t\tthis.props.option.inline_value\n\t\t\t\t? value || ''\n\t\t\t\t: {\n\t\t\t\t\t\t...this.props.value,\n\t\t\t\t\t\turl: this.getUrlFor(attachment_info),\n\t\t\t\t\t\tattachment_id: value,\n\t\t\t\t  }\n\t\t)\n\n\tgetAttachmentId = (props = this.props) =>\n\t\tprops.option.inline_value ? props.value : props.value.attachment_id\n\n\t/**\n\t * Create a media modal select frame, and store it so the instance can be reused when needed.\n\t */\n\tinitFrame() {\n\t\tthis.frame = wp.media({\n\t\t\tbutton: {\n\t\t\t\ttext: 'Select',\n\t\t\t\tclose: false,\n\t\t\t},\n\t\t\tstates: [\n\t\t\t\tnew wp.media.controller.Library({\n\t\t\t\t\ttitle: __('Select logo', 'blocksy'),\n\t\t\t\t\tlibrary: wp.media.query({\n\t\t\t\t\t\ttype: this.props.option.mediaType || 'image',\n\t\t\t\t\t}),\n\t\t\t\t\tmultiple: false,\n\t\t\t\t\tdate: false,\n\t\t\t\t\tpriority: 20,\n\t\t\t\t\tsuggestedWidth: (this.props.option.logo || {}).width,\n\t\t\t\t\tsuggestedHeight: (this.props.option.logo || {}).height,\n\t\t\t\t}),\n\n\t\t\t\t...(this.props.option.skipCrop || true\n\t\t\t\t\t? []\n\t\t\t\t\t: [\n\t\t\t\t\t\t\tnew wp.media.controller.CustomizeImageCropper({\n\t\t\t\t\t\t\t\timgSelectOptions: this\n\t\t\t\t\t\t\t\t\t.calculateImageSelectOptions,\n\t\t\t\t\t\t\t\tcontrol: this,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t  ]),\n\t\t\t],\n\t\t})\n\n\t\tthis.frame.on('select', this.onSelect, this)\n\t\tthis.frame.on('close', () => {\n\t\t\tthis.props.option.onFrameClose && this.props.option.onFrameClose()\n\t\t})\n\t\tthis.frame.on('cropped', this.onCropped, this)\n\t\tthis.frame.on('skippedcrop', this.onSkippedCrop, this)\n\t}\n\n\t/**\n\t * Open the media modal to the library state.\n\t */\n\topenFrame() {\n\t\tthis.initFrame()\n\t\tthis.frame.setState('library').open()\n\t\tthis.props.option.onFrameOpen && this.props.option.onFrameOpen()\n\t}\n\n\t/**\n\t * After an image is selected in the media modal, switch to the cropper\n\t * state if the image isn't the right size.\n\t */\n\tonSelect = () => {\n\t\tvar attachment = this.frame.state().get('selection').first().toJSON()\n\n\t\tif (\n\t\t\t((this.props.option.logo || {}).width === attachment.width &&\n\t\t\t\t(this.props.option.logo || {}).height === attachment.height &&\n\t\t\t\t!(this.props.option.logo || {}).flex_width &&\n\t\t\t\t!(this.props.option.logo || {}).flex_height) ||\n\t\t\tthis.props.option.skipCrop ||\n\t\t\ttrue\n\t\t) {\n\t\t\tthis.setImageFromAttachment(attachment)\n\t\t\tthis.frame.close()\n\t\t} else {\n\t\t\tthis.frame.setState('cropper')\n\t\t}\n\t}\n\n\t/**\n\t * After the image has been cropped, apply the cropped image data to the setting.\n\t *\n\t * @param {object} croppedImage Cropped attachment data.\n\t */\n\tonCropped = (croppedImage) => {\n\t\tthis.setImageFromAttachment(croppedImage)\n\t}\n\n\t/**\n\t * Returns a set of options, computed from the attached image data and\n\t * control-specific data, to be fed to the imgAreaSelect plugin in\n\t * wp.media.view.Cropper.\n\t *\n\t * @param {wp.media.model.Attachment} attachment\n\t * @param {wp.media.controller.Cropper} controller\n\t * @returns {Object} Options\n\t */\n\tcalculateImageSelectOptions(attachment, controller) {\n\t\tvar control = controller.get('control')\n\t\tvar flexWidth = !!parseInt(\n\t\t\t(control.props.option.logo || {}).flex_width,\n\t\t\t10\n\t\t)\n\t\tvar flexHeight = !!parseInt(\n\t\t\t(control.props.option.logo || {}).flex_height,\n\t\t\t10\n\t\t)\n\t\tvar realWidth = attachment.get('width')\n\t\tvar realHeight = attachment.get('height')\n\t\tvar xInit = parseInt((control.props.option.logo || {}).width, 10)\n\t\tvar yInit = parseInt((control.props.option.logo || {}).height, 10)\n\t\tvar ratio = xInit / yInit\n\t\tvar xImg = xInit\n\t\tvar yImg = yInit\n\t\tvar x1\n\t\tvar y1\n\t\tvar imgSelectOptions\n\n\t\tif (realWidth / realHeight > ratio) {\n\t\t\tyInit = realHeight\n\t\t\txInit = yInit * ratio\n\t\t} else {\n\t\t\txInit = realWidth\n\t\t\tyInit = xInit / ratio\n\t\t}\n\n\t\tx1 = (realWidth - xInit) / 2\n\t\ty1 = (realHeight - yInit) / 2\n\n\t\timgSelectOptions = {\n\t\t\thandles: true,\n\t\t\tkeys: true,\n\t\t\tinstance: true,\n\t\t\tpersistent: true,\n\t\t\timageWidth: realWidth,\n\t\t\timageHeight: realHeight,\n\t\t\tminWidth: xImg > xInit ? xInit : xImg,\n\t\t\tminHeight: yImg > yInit ? yInit : yImg,\n\t\t\tx1: x1,\n\t\t\ty1: y1,\n\t\t\tx2: xInit + x1,\n\t\t\ty2: yInit + y1,\n\t\t}\n\n\t\tif (flexHeight === false && flexWidth === false) {\n\t\t\timgSelectOptions.aspectRatio = xInit + ':' + yInit\n\t\t}\n\n\t\tif (true === flexHeight) {\n\t\t\tdelete imgSelectOptions.minHeight\n\t\t\timgSelectOptions.maxWidth = realWidth\n\t\t}\n\n\t\tif (true === flexWidth) {\n\t\t\tdelete imgSelectOptions.minWidth\n\t\t\timgSelectOptions.maxHeight = realHeight\n\t\t}\n\n\t\treturn imgSelectOptions\n\t}\n\n\t/**\n\t * Return whether the image must be cropped, based on required dimensions.\n\t *\n\t * @param {bool} flexW\n\t * @param {bool} flexH\n\t * @param {int}  dstW\n\t * @param {int}  dstH\n\t * @param {int}  imgW\n\t * @param {int}  imgH\n\t * @return {bool}\n\t */\n\tmustBeCropped(flexW, flexH, dstW, dstH, imgW, imgH) {\n\t\tif (true === flexW && true === flexH) {\n\t\t\treturn false\n\t\t}\n\n\t\tif (true === flexW && dstH === imgH) {\n\t\t\treturn false\n\t\t}\n\n\t\tif (true === flexH && dstW === imgW) {\n\t\t\treturn false\n\t\t}\n\n\t\tif (dstW === imgW && dstH === imgH) {\n\t\t\treturn false\n\t\t}\n\n\t\tif (imgW <= dstW) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn true\n\t}\n\n\t/**\n\t * If cropping was skipped, apply the image data directly to the setting.\n\t */\n\tonSkippedCrop = () => {\n\t\tvar attachment = this.frame.state().get('selection').first().toJSON()\n\n\t\tthis.setImageFromAttachment(attachment)\n\t}\n\n\t/**\n\t * Updates the setting and re-renders the control UI.\n\t *\n\t * @param {object} attachment\n\t */\n\tsetImageFromAttachment(attachment) {\n\t\tthis.onChange(\n\t\t\tattachment.id,\n\t\t\tJSON.parse(\n\t\t\t\tJSON.stringify(wp.media.attachment(attachment.id).toJSON())\n\t\t\t)\n\t\t)\n\n\t\tthis.updateAttachmentInfo()\n\t}\n\n\tupdateAttachmentInfo = (force = false) => {\n\t\tlet id = this.getAttachmentId()\n\n\t\tif (!id) return\n\n\t\tif (!wp.media.attachment(id).get('url') || force) {\n\t\t\twp.media\n\t\t\t\t.attachment(id)\n\t\t\t\t.fetch()\n\t\t\t\t.then(() =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tattachment_info: JSON.parse(\n\t\t\t\t\t\t\tJSON.stringify(wp.media.attachment(id).toJSON())\n\t\t\t\t\t\t),\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tattachment_info: JSON.parse(\n\t\t\t\t\tJSON.stringify(wp.media.attachment(id).toJSON())\n\t\t\t\t),\n\t\t\t})\n\t\t}\n\n\t\tthis.detachListener()\n\t\twp.media.attachment(id).on('change', this.updateAttachmentInfo)\n\t}\n\n\tdetachListener() {\n\t\tif (!this.getAttachmentId()) return\n\n\t\twp.media\n\t\t\t.attachment(this.getAttachmentId())\n\t\t\t.off('change', this.updateAttachmentInfo)\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.getAttachmentId() !== this.getAttachmentId(prevProps)) {\n\t\t\twp.media\n\t\t\t\t.attachment(this.getAttachmentId(prevProps))\n\t\t\t\t.off('change', this.updateAttachmentInfo)\n\n\t\t\tthis.updateAttachmentInfo()\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateAttachmentInfo()\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.detachListener()\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classnames('attachment-media-view ct-attachment', {\n\t\t\t\t\t['landscape']:\n\t\t\t\t\t\tthis.getAttachmentId() && this.state.attachment_info,\n\t\t\t\t\t['attachment-media-view-image']:\n\t\t\t\t\t\tthis.getAttachmentId() && this.state.attachment_info,\n\t\t\t\t})}\n\t\t\t\t{...(this.props.option.attr || {})}>\n\t\t\t\t{this.getAttachmentId() && this.state.attachment_info ? (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"thumbnail thumbnail-image\"\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t!this.props.option.has_position_picker &&\n\t\t\t\t\t\t\t\tthis.openFrame()\n\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t{!this.props.option.has_position_picker && (\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"attachment-thumb\"\n\t\t\t\t\t\t\t\t\tsrc={this.getUrlFor(\n\t\t\t\t\t\t\t\t\t\tthis.state.attachment_info\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{this.props.option.has_position_picker && (\n\t\t\t\t\t\t\t\t<FocalPointPicker\n\t\t\t\t\t\t\t\t\turl={this.getUrlFor(\n\t\t\t\t\t\t\t\t\t\tthis.state.attachment_info\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tdimensions={{\n\t\t\t\t\t\t\t\t\t\twidth: 400,\n\t\t\t\t\t\t\t\t\t\theight: 100,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvalue={this.props.value}\n\t\t\t\t\t\t\t\t\tonChange={(drag_position) => {\n\t\t\t\t\t\t\t\t\t\tthis.props.onChange({\n\t\t\t\t\t\t\t\t\t\t\t...this.props.value,\n\t\t\t\t\t\t\t\t\t\t\t...drag_position,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<div className=\"actions\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"button edit-button control-focus\"\n\t\t\t\t\t\t\t\t\ttitle={__('Edit', 'blocksy')}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\t\tthis.openFrame()\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tid=\"customize-media-control-button-35\"></button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\t\tthis.setState({ attachment_info: null })\n\t\t\t\t\t\t\t\t\t\tthis.onChange(null)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttitle={__('Remove', 'blocksy')}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"button remove-button\"></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Fragment>\n\t\t\t\t) : (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => this.openFrame()}\n\t\t\t\t\t\t\tclassName=\"button ct-upload-button\"\n\t\t\t\t\t\t\tid=\"customize-media-control-button-50\">\n\t\t\t\t\t\t\t{this.props.option.emptyLabel ||\n\t\t\t\t\t\t\t\t__('Select logo', 'blocksy')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import { Fragment, createElement } from '@wordpress/element'\nimport OptionsPanel from '../OptionsPanel'\n\nconst LayersMirror = ({ values, onChangeFor, value, option, onChange }) => {\n\tconst wholeLayers = values[option.layers] || []\n\n\tconst ourLayers = wholeLayers.filter(\n\t\t({ id, enabled }) => enabled && id === option.field\n\t)\n\n\tif (ourLayers.length === 0) {\n\t\treturn null\n\t}\n\n\treturn ourLayers.map((layer, index) => {\n\t\tlet computedOptions = Object.keys(option['inner-options']).reduce(\n\t\t\t(all, optionId) => ({\n\t\t\t\t...all,\n\t\t\t\t[optionId]: {\n\t\t\t\t\t...option['inner-options'][optionId],\n\t\t\t\t\tlabel: option['inner-options'][optionId].label.replace(\n\t\t\t\t\t\t'INDEX ',\n\t\t\t\t\t\tourLayers.length === 1 ? '' : `${index + 1} `\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t}),\n\t\t\t{}\n\t\t)\n\n\t\treturn (\n\t\t\t<OptionsPanel\n\t\t\t\tkey={layer.__id || layer.id}\n\t\t\t\tonChange={(id, value) => {\n\t\t\t\t\tonChangeFor(\n\t\t\t\t\t\toption.layers,\n\t\t\t\t\t\twholeLayers.map((l) =>\n\t\t\t\t\t\t\tl.__id !== layer.__id\n\t\t\t\t\t\t\t\t? l\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t...l,\n\t\t\t\t\t\t\t\t\t\t[id]: value,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\toptions={computedOptions}\n\t\t\t\tvalue={layer}\n\t\t\t/>\n\t\t)\n\t})\n}\n\nLayersMirror.renderingConfig = { design: 'none' }\n\nexport default LayersMirror\n","import { createElement, Fragment, useContext } from '@wordpress/element'\nimport { itemsThatAreNotAdded, LayersContext } from '../ct-layers'\nimport Select from '../ct-select'\n\nconst SelectThatAddsItems = ({ value, option }) => {\n\tconst notAddedItems = itemsThatAreNotAdded(value, option)\n\n\tconst {\n\t\tcurrentlyPickedItem,\n\t\tsetCurrentItem,\n\t\taddCurrentlySelectedItem,\n\t} = useContext(LayersContext)\n\n\tif (notAddedItems.length <= 0) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className=\"ct-add-layer-controls\">\n\t\t\t<Select\n\t\t\t\tonChange={(currentlyPickedItem) =>\n\t\t\t\t\tsetCurrentItem(currentlyPickedItem)\n\t\t\t\t}\n\t\t\t\toption={{\n\t\t\t\t\tsearch: true,\n\t\t\t\t\tchoices: notAddedItems.map((key) => ({\n\t\t\t\t\t\tkey,\n\n\t\t\t\t\t\tvalue: window._.template(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\toption.settings[key] || {\n\t\t\t\t\t\t\t\t\tlabel: key,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t).label\n\t\t\t\t\t\t)({\n\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t}),\n\t\t\t\t\t})),\n\t\t\t\t\t...(option.selectOption || {}),\n\t\t\t\t}}\n\t\t\t\tvalue={currentlyPickedItem || notAddedItems[0]}\n\t\t\t/>\n\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"button button-primary\"\n\t\t\t\tonClick={() => addCurrentlySelectedItem()}>\n\t\t\t\t<svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\">\n\t\t\t\t\t<path d=\"M17,10h-7v7H7v-7H0V7h7V0h3v7h7V10z\" />\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t)\n}\n\nexport default SelectThatAddsItems\n","import {\n\tcreateElement,\n\tuseContext,\n\tuseState,\n\tFragment,\n} from '@wordpress/element'\nimport { SortableHandle } from 'react-sortable-hoc'\nimport { LayersContext } from '../ct-layers'\nimport { __ } from 'ct-i18n'\nimport { normalizeCondition, matchValuesWithCondition } from 'match-conditions'\n\nconst LayerControls = ({ itemIndex, items, onChange, value }) => {\n\tconst { removeForId, addForId, option, toggleOptionsPanel } = useContext(\n\t\tLayersContext\n\t)\n\n\tconst hasOptions =\n\t\toption.settings[value.id] &&\n\t\toption.settings[value.id].options &&\n\t\t(!option.settings[value.id].options_condition ||\n\t\t\t(option.settings[value.id].options_condition &&\n\t\t\t\tmatchValuesWithCondition(\n\t\t\t\t\tnormalizeCondition(\n\t\t\t\t\t\toption.settings[value.id].options_condition\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\titemIndex,\n\t\t\t\t\t}\n\t\t\t\t)))\n\n\tlet itemsOfType = items.filter(({ id }) => id === value.id)\n\tlet relativeIndex = itemsOfType.map(({ __id }) => __id).indexOf(value.__id)\n\n\treturn (\n\t\t<div className=\"ct-layer-controls\">\n\t\t\t{!option.disableHiding && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"ct-visibility\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\titems.map((l) =>\n\t\t\t\t\t\t\t\tl.__id === value.__id\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t...l,\n\t\t\t\t\t\t\t\t\t\t\tenabled: !{\n\t\t\t\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\t\t\t\t...l,\n\t\t\t\t\t\t\t\t\t\t\t}.enabled,\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: l\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}}>\n\t\t\t\t\t<svg width=\"13px\" height=\"13px\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<path d=\"M12,4C4.1,4,0,12,0,12s3.1,8,12,8c8.1,0,12-8,12-8S20.1,4,12,4z M12,17c-2.9,0-5-2.2-5-5c0-2.8,2.1-5,5-5s5,2.2,5,5C17,14.8,14.9,17,12,17z M12,9c-1.7,0-3,1.4-3,3c0,1.6,1.3,3,3,3s3-1.4,3-3C15,10.4,13.7,9,12,9z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t)}\n\n\t\t\t<div className=\"ct-layer-label\">\n\t\t\t\t<span>\n\t\t\t\t\t{window._.template(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\toption.settings[value.id] || {\n\t\t\t\t\t\t\t\tlabel: value.id,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t).label\n\t\t\t\t\t)(value).replace(\n\t\t\t\t\t\t' INDEX',\n\t\t\t\t\t\titemsOfType.length === 1 ? '' : ` ${relativeIndex + 1}`\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t{option.settings[value.id] &&\n\t\t\t\toption.settings[value.id].clone &&\n\t\t\t\titems.filter(({ id }) => id === value.id).length <\n\t\t\t\t\t(parseInt(option.settings[value.id].clone) || 1) + 1 && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"ct-clone\"\n\t\t\t\t\t\tonClick={() => addForId(value.id, value)}>\n\t\t\t\t\t\t<svg width=\"11px\" height=\"11px\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path d=\"M23,24H7.7c-0.6,0-1-0.4-1-1V7.7c0-0.6,0.4-1,1-1H23c0.6,0,1,0.4,1,1V23C24,23.6,23.6,24,23,24z M8.7,22H22V8.7 H8.7V22z\" />\n\t\t\t\t\t\t\t<path d=\"M17.3,16.3c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1h15.3c0.6,0,1,0.4,1,1V16.3z\" />\n\t\t\t\t\t\t</svg>\n\n\t\t\t\t\t\t<i className=\"ct-tooltip-top\">\n\t\t\t\t\t\t\t{__('Clone Item', 'blocksy')}\n\t\t\t\t\t\t</i>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t{(option.manageable ||\n\t\t\t\t(option.settings[value.id] &&\n\t\t\t\t\toption.settings[value.id].clone &&\n\t\t\t\t\titems.filter(({ id }) => id === value.id).length > 1) ||\n\t\t\t\t!option.settings[value.id]) && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"ct-remove\"\n\t\t\t\t\tonClick={() => removeForId(value.__id)}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{hasOptions && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"ct-toggle\"\n\t\t\t\t\tonMouseDown={(e) => {\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\ttoggleOptionsPanel(value.__id)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default SortableHandle(LayerControls)\n","import {\n\tcreateElement,\n\tComponent,\n\tcreateContext,\n\tuseState,\n\tFragment,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport {\n\tSortableContainer,\n\tSortableElement,\n\tSortableHandle,\n} from 'react-sortable-hoc'\n\nimport arrayMove from 'array-move'\n\nimport OptionsPanel from '../OptionsPanel'\nimport { getValueFromInput } from '../helpers/get-value-from-input'\nimport Select from './ct-select'\nimport nanoid from 'nanoid'\n\nimport SelectThatAddsItems from './ct-layers/SelectThatAddsItems'\nimport LayerControls from './ct-layers/LayerControls'\n\nconst valueWithUniqueIds = (value) =>\n\tvalue.map((singleItem) => ({\n\t\t...singleItem,\n\n\t\t...(singleItem.__id\n\t\t\t? {}\n\t\t\t: {\n\t\t\t\t\t__id: nanoid(),\n\t\t\t  }),\n\t}))\n\nexport const itemsThatAreNotAdded = (value, option) =>\n\tObject.keys(option.settings).filter(\n\t\t(optionId) => !value.find(({ id }) => id === optionId)\n\t)\n\nconst getDefaultState = () => ({\n\tcurrentlyPickedItem: null,\n\tisDragging: false,\n\tisOpen: false,\n})\n\nexport const LayersContext = createContext(getDefaultState())\n\nconst { Provider, Consumer } = LayersContext\n\nclass SingleItem extends Component {\n\tstate = {\n\t\tisOpen: false,\n\t}\n\n\trender() {\n\t\tconst { value, items, onChange, index } = this.props\n\t\tconst itemIndex = items\n\t\t\t.map(({ __id }) => __id)\n\t\t\t.indexOf(value.__id)\n\t\t\t.toString()\n\n\t\treturn (\n\t\t\t<Consumer>\n\t\t\t\t{({ option, isDragging, isOpen, parentValue }) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName={classnames('ct-layer', option.itemClass, {\n\t\t\t\t\t\t\t[`ct-disabled`]: !{ enabled: true, ...value }\n\t\t\t\t\t\t\t\t.enabled,\n\t\t\t\t\t\t})}>\n\t\t\t\t\t\t<LayerControls\n\t\t\t\t\t\t\titems={items}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\titemIndex={itemIndex}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{option.settings[value.id] &&\n\t\t\t\t\t\t\toption.settings[value.id].options &&\n\t\t\t\t\t\t\tisOpen === value.__id &&\n\t\t\t\t\t\t\t(!isDragging ||\n\t\t\t\t\t\t\t\t(isDragging && isDragging !== isOpen)) && (\n\t\t\t\t\t\t\t\t<div className=\"ct-layer-content\">\n\t\t\t\t\t\t\t\t\t<OptionsPanel\n\t\t\t\t\t\t\t\t\t\thasRevertButton={false}\n\t\t\t\t\t\t\t\t\t\tparentValue={parentValue}\n\t\t\t\t\t\t\t\t\t\tonChange={(key, newValue) => {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\toption.settings[value.id]\n\t\t\t\t\t\t\t\t\t\t\t\t\t.sync &&\n\t\t\t\t\t\t\t\t\t\t\t\toption.settings[value.id].clone\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tlet totalItems = items.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) => id === value.id\n\t\t\t\t\t\t\t\t\t\t\t\t).length\n\n\t\t\t\t\t\t\t\t\t\t\t\tlet idForSync = `${\n\t\t\t\t\t\t\t\t\t\t\t\t\toption.settings[value.id]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.sync.id\n\t\t\t\t\t\t\t\t\t\t\t\t}_first`\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotalItems > 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\titems\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid === value.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map(({ __id }) => __id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.indexOf(value.__id) > 0\n\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tidForSync = `${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toption.settings[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].sync.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t}_second`\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\twp.customize &&\n\t\t\t\t\t\t\t\t\t\t\t\t\twp.customize.previewer &&\n\t\t\t\t\t\t\t\t\t\t\t\t\twp.customize.previewer.send(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'ct:sync:refresh_partial',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: idForSync,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t\t\titems.map((l) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tl.__id === value.__id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...l,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[key]: newValue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: l\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvalue={getValueFromInput(\n\t\t\t\t\t\t\t\t\t\t\toption.settings[value.id].options,\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t...(option.value.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) => id === value.id\n\t\t\t\t\t\t\t\t\t\t\t\t).length > 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t? option.value.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.id === id\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t({ id }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}) => __id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.indexOf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue.__id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\t\t\titemIndex,\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\toptions={\n\t\t\t\t\t\t\t\t\t\t\toption.settings[value.id].options\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t</Consumer>\n\t\t)\n\t}\n}\n\nconst SortableItem = SortableElement(SingleItem)\n\nconst SortableList = SortableContainer(({ items, onChange }) => (\n\t<Consumer>\n\t\t{({ option }) => (\n\t\t\t<ul className=\"ct-layers\">\n\t\t\t\t{items.map((value, index) => (\n\t\t\t\t\t<SortableItem\n\t\t\t\t\t\tkey={value.__id}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\titems={items}\n\t\t\t\t\t\tdisabled={!!option.disableDrag}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t)}\n\t</Consumer>\n))\n\nconst Layers = ({ value, option, onChange, values }) => {\n\tconst [state, setState] = useState(getDefaultState())\n\n\tconst addForId = (idToAdd, val = {}) => {\n\t\tonChange([\n\t\t\t...(value || []),\n\t\t\t{\n\t\t\t\tid: idToAdd,\n\t\t\t\tenabled: true,\n\t\t\t\t...getValueFromInput(\n\t\t\t\t\toption.settings[idToAdd].options || {},\n\t\t\t\t\t{}\n\t\t\t\t),\n\t\t\t\t...val,\n\t\t\t\t__id: nanoid(),\n\t\t\t},\n\t\t])\n\t}\n\n\tconst computedValue = (option.manageable\n\t\t? valueWithUniqueIds(value)\n\t\t: [\n\t\t\t\t...valueWithUniqueIds(value),\n\t\t\t\t...option.value\n\t\t\t\t\t.filter(\n\t\t\t\t\t\t({ id }) => value.map(({ id }) => id).indexOf(id) === -1\n\t\t\t\t\t)\n\t\t\t\t\t.map((item) => ({\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\t__id: nanoid(),\n\t\t\t\t\t\tenabled: false,\n\t\t\t\t\t})),\n\t\t  ]\n\t).filter((item) => !!option.settings[item.id])\n\n\treturn (\n\t\t<Provider\n\t\t\tvalue={{\n\t\t\t\t...state,\n\t\t\t\tparentValue: values,\n\t\t\t\taddCurrentlySelectedItem: () => {\n\t\t\t\t\tconst idToAdd =\n\t\t\t\t\t\tstate.currentlyPickedItem ||\n\t\t\t\t\t\titemsThatAreNotAdded(\n\t\t\t\t\t\t\tvalueWithUniqueIds(value),\n\t\t\t\t\t\t\toption\n\t\t\t\t\t\t)[0]\n\n\t\t\t\t\tsetState((state) => ({\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\tcurrentlyPickedItem: null,\n\t\t\t\t\t}))\n\t\t\t\t\taddForId(idToAdd)\n\t\t\t\t},\n\t\t\t\taddForId: (id, value) => addForId(id, value),\n\t\t\t\toption: option,\n\t\t\t\tsetCurrentItem: (currentlyPickedItem) =>\n\t\t\t\t\tsetState((state) => ({ ...state, currentlyPickedItem })),\n\t\t\t\tremoveForId: (idToRemove) =>\n\t\t\t\t\tonChange(\n\t\t\t\t\t\tvalueWithUniqueIds(value).filter(\n\t\t\t\t\t\t\t({ __id: id }) => id !== idToRemove\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\n\t\t\t\ttoggleOptionsPanel: (idToAdd) => {\n\t\t\t\t\tif (value.length > 0 && !value[0].__id) {\n\t\t\t\t\t\twp.customize &&\n\t\t\t\t\t\t\twp.customize.previewer &&\n\t\t\t\t\t\t\twp.customize.previewer.send(\n\t\t\t\t\t\t\t\t'ct:sync:refresh_partial',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tshouldSkip: true,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\tonChange(computedValue)\n\t\t\t\t\t}\n\n\t\t\t\t\tsetState((state) => ({\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\tisOpen: state.isOpen === idToAdd ? false : idToAdd,\n\t\t\t\t\t}))\n\t\t\t\t},\n\t\t\t}}>\n\t\t\t{option.manageable && (\n\t\t\t\t<SelectThatAddsItems\n\t\t\t\t\t{...{\n\t\t\t\t\t\tvalue: computedValue,\n\t\t\t\t\t\toption,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<SortableList\n\t\t\t\tuseDragHandle\n\t\t\t\tdistance={3}\n\t\t\t\tlockAxis=\"y\"\n\t\t\t\titems={computedValue}\n\t\t\t\tonChange={(v) => onChange(v)}\n\t\t\t\thelperContainer={() =>\n\t\t\t\t\tdocument.querySelector('#customize-theme-controls') ||\n\t\t\t\t\tdocument.body\n\t\t\t\t}\n\t\t\t\tonSortEnd={({ oldIndex, newIndex }) => {\n\t\t\t\t\tonChange(arrayMove(computedValue, oldIndex, newIndex))\n\n\t\t\t\t\tsetState((state) => ({\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\tisDragging: false,\n\t\t\t\t\t}))\n\t\t\t\t}}\n\t\t\t\tupdateBeforeSortStart={({ index }) => {\n\t\t\t\t\tnew Promise((resolve) => {\n\t\t\t\t\t\tif (value.length > 0 && !value[0].__id) {\n\t\t\t\t\t\t\twp.customize &&\n\t\t\t\t\t\t\t\twp.customize.previewer &&\n\t\t\t\t\t\t\t\twp.customize.previewer.send(\n\t\t\t\t\t\t\t\t\t'ct:sync:refresh_partial',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tshouldSkip: true,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tonChange(computedValue)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetState((state) => ({\n\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\tisDragging: computedValue[index].__id,\n\t\t\t\t\t\t}))\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Provider>\n\t)\n}\n\nexport default Layers\n","import { createElement, Component, Fragment } from '@wordpress/element'\nimport classnames from 'classnames'\nimport { __ } from 'ct-i18n'\nimport _ from 'underscore'\n\nconst ALLOWED_MEDIA_TYPES = ['image']\n\nexport default class MultiImageUploader extends Component {\n\tparams = {\n\t\theight: 250,\n\t\twidth: 250,\n\t\tflex_width: true,\n\t\tflex_height: true,\n\t}\n\n\tstate = {\n\t\tattachment_info: [],\n\t}\n\n\tgetUrlFor = (attachmentInfo) =>\n\t\tattachmentInfo\n\t\t\t? (attachmentInfo.width < 700\n\t\t\t\t\t? attachmentInfo.sizes.full\n\t\t\t\t\t: _.max(\n\t\t\t\t\t\t\t_.values(\n\t\t\t\t\t\t\t\t_.keys(attachmentInfo.sizes).length === 1\n\t\t\t\t\t\t\t\t\t? attachmentInfo.sizes\n\t\t\t\t\t\t\t\t\t: _.omit(attachmentInfo.sizes, 'full')\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t({ width }) => width\n\t\t\t\t\t  )\n\t\t\t  ).url || attachmentInfo.url\n\t\t\t: null\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classnames('ct-attachment-multi', {})}\n\t\t\t\t{...(this.props.option.attr || {})}>\n\t\t\t\t<wp.mediaUtils.MediaUpload\n\t\t\t\t\tonSelect={(media) => {\n\t\t\t\t\t\tconst result = media.map((attachment) => ({\n\t\t\t\t\t\t\turl: this.getUrlFor(attachment),\n\t\t\t\t\t\t\tattachment_id: attachment.id,\n\t\t\t\t\t\t}))\n\n\t\t\t\t\t\tthis.props.onChange(result)\n\t\t\t\t\t}}\n\t\t\t\t\tgallery={true}\n\t\t\t\t\tallowedTypes={ALLOWED_MEDIA_TYPES}\n\t\t\t\t\tvalue={this.props.value.map(\n\t\t\t\t\t\t({ attachment_id }) => attachment_id\n\t\t\t\t\t)}\n\t\t\t\t\tmultiple={true}\n\t\t\t\t\trender={({ open }) => (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{Array.isArray(this.props.value) &&\n\t\t\t\t\t\t\t\tthis.props.value.length > 0 && (\n\t\t\t\t\t\t\t\t\t<div className=\"ct-thumbnails-list\">\n\t\t\t\t\t\t\t\t\t\t{this.props.value.map(\n\t\t\t\t\t\t\t\t\t\t\t({ url, attachment_id }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={attachment_id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"thumbnail thumbnail-image\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topen()\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"attachment-thumb\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={url}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdraggable=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"actions\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"button edit-button control-focus\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Edit\"></button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Remove\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"button remove-button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.onChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.value.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(a) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ta.attachment_id !==\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tattachment_id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}></button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"button edit-button control-focus\"\n\t\t\t\t\t\t\t\ttitle=\"Edit\"\n\t\t\t\t\t\t\t\tonClick={() => open()}>\n\t\t\t\t\t\t\t\t{__('Add/Edit Gallery', 'blocksy')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import { Fragment, createElement, Component } from '@wordpress/element'\n\nconst Notification = ({ option: { text = '', attr = {} } }) => (\n\t<Fragment>\n\t\t<div\n\t\t\tclassName=\"ct-notification\"\n\t\t\t{...{\n\t\t\t\t...(attr || {}),\n\t\t\t}}\n\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t__html: text,\n\t\t\t}}\n\t\t/>\n\t</Fragment>\n)\n\nNotification.renderingConfig = { design: 'none' }\n\nexport default Notification\n","import { createElement, Component } from '@wordpress/element'\nimport _ from 'underscore'\nimport classnames from 'classnames'\nimport InputWithOnlyNumbers from '../components/InputWithOnlyNumbers'\n\nimport { clamp, round } from './ct-slider'\n\nconst NumberOption = ({\n\tvalue,\n\toption,\n\toption: { attr, step = 1, markAsAutoFor },\n\tdevice,\n\tonChange,\n}) => {\n\tconst parsedValue =\n\t\tmarkAsAutoFor && markAsAutoFor.indexOf(device) > -1 ? 'auto' : value\n\n\tconst min = !option.min && option.min !== 0 ? -Infinity : option.min\n\tconst max = !option.max && option.max !== 0 ? -Infinity : option.max\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classnames('ct-option-number', {\n\t\t\t\t[`ct-reached-limits`]:\n\t\t\t\t\tparseFloat(parsedValue) === parseInt(min) ||\n\t\t\t\t\tparseFloat(parsedValue) === parseInt(max),\n\t\t\t})}\n\t\t\t{...(attr || {})}>\n\t\t\t<a\n\t\t\t\tclassName={classnames('ct-minus', {\n\t\t\t\t\t['ct-disabled']: parseFloat(parsedValue) === parseInt(min),\n\t\t\t\t})}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tonChange(\n\t\t\t\t\t\tround(\n\t\t\t\t\t\t\tclamp(\n\t\t\t\t\t\t\t\tmin,\n\t\t\t\t\t\t\t\tmax,\n\t\t\t\t\t\t\t\tparseFloat(parsedValue) - parseFloat(step)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<a\n\t\t\t\tclassName={classnames('ct-plus', {\n\t\t\t\t\t['ct-disabled']: parseFloat(parsedValue) === parseInt(max),\n\t\t\t\t})}\n\t\t\t\tonClick={() =>\n\t\t\t\t\tonChange(\n\t\t\t\t\t\tround(\n\t\t\t\t\t\t\tclamp(\n\t\t\t\t\t\t\t\tmin,\n\t\t\t\t\t\t\t\tmax,\n\t\t\t\t\t\t\t\tparseFloat(parsedValue) + parseFloat(step)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<InputWithOnlyNumbers\n\t\t\t\tvalue={parsedValue}\n\t\t\t\tstep={step}\n\t\t\t\tonBlur={() =>\n\t\t\t\t\tparseFloat(parsedValue)\n\t\t\t\t\t\t? onChange(round(clamp(min, max, parsedValue)))\n\t\t\t\t\t\t: []\n\t\t\t\t}\n\t\t\t\tonChange={(value, can_safely_parse) =>\n\t\t\t\t\tcan_safely_parse && _.isNumber(parseFloat(value))\n\t\t\t\t\t\t? onChange(round(clamp(min, max, value)))\n\t\t\t\t\t\t: parseFloat(value)\n\t\t\t\t\t\t? onChange(round(Math.min(parseFloat(value), max)))\n\t\t\t\t\t\t: onChange(round(value))\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default NumberOption\n","import {\n\tcreateElement,\n\tuseContext,\n\tuseEffect,\n\tcreatePortal,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport bezierEasing from 'bezier-easing'\n\nimport OptionsPanel from '../../options/OptionsPanel'\nimport Switch from './ct-switch'\nimport { PanelContext } from '../components/PanelLevel'\n\nimport { Transition, animated } from '@react-spring/web'\n\nexport const PanelMetaWrapper = ({ id, option, getActualOption, value }) => {\n\tconst {\n\t\tpanelsState,\n\t\tpanelsHelpers,\n\t\tpanelsDispatch,\n\t\tcontainerRef,\n\t} = useContext(PanelContext)\n\n\tconst selfPanelId = id\n\n\tuseEffect(() => {\n\t\tif (panelsState.previousPanel) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!panelsHelpers.isTransitioningFor(id)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (panelsHelpers.isOpenFor(id)) {\n\t\t\tif (\n\t\t\t\t!panelsHelpers\n\t\t\t\t\t.getWrapperParent()\n\t\t\t\t\t.querySelector('.ct-tmp-panel-wrapper')\n\t\t\t) {\n\t\t\t\tconst wrapper = document.createElement('div')\n\t\t\t\twrapper.classList.add('ct-tmp-panel-wrapper')\n\t\t\t\tpanelsHelpers.getWrapperParent().appendChild(wrapper)\n\t\t\t}\n\n\t\t\tif (panelsHelpers.getParentOptionsWrapper()) {\n\t\t\t\tpanelsHelpers\n\t\t\t\t\t.getParentOptionsWrapper()\n\t\t\t\t\t.classList.add('ct-panel-open')\n\t\t\t}\n\n\t\t\tconst h3 =\n\t\t\t\tcontainerRef.current.closest('ul') &&\n\t\t\t\tcontainerRef.current\n\t\t\t\t\t.closest('ul')\n\t\t\t\t\t.querySelector(\n\t\t\t\t\t\t'.customize-section-description-container h3'\n\t\t\t\t\t)\n\n\t\t\tpanelsDispatch({\n\t\t\t\ttype: 'PANEL_RECEIVE_TITLE',\n\t\t\t\tpayload: {\n\t\t\t\t\ttitlePrefix: h3\n\t\t\t\t\t\t? `${h3.querySelector('span').innerText}  ${\n\t\t\t\t\t\t\t\th3.innerText.split('\\n')[\n\t\t\t\t\t\t\t\t\th3.innerText.split('\\n').length - 1\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t  }`\n\t\t\t\t\t\t: '',\n\t\t\t\t},\n\t\t\t})\n\t\t} else {\n\t\t\tif (\n\t\t\t\t!containerRef.current.closest('.accordion-section-content') ||\n\t\t\t\t!containerRef.current\n\t\t\t\t\t.closest('.accordion-section-content')\n\t\t\t\t\t.classList.contains('ct-panel-open')\n\t\t\t) {\n\t\t\t\t// return\n\t\t\t}\n\n\t\t\tif (panelsHelpers.getParentOptionsWrapper()) {\n\t\t\t\tpanelsHelpers\n\t\t\t\t\t.getParentOptionsWrapper()\n\t\t\t\t\t.classList.remove('ct-panel-open')\n\t\t\t}\n\n\t\t\t/*\n\t\t\tsetTimeout(() =>\n\t\t\t\t(containerRef.current.querySelector('button')\n\t\t\t\t\t? containerRef.current.querySelector('button')\n\t\t\t\t\t: containerRef.current\n\t\t\t\t).focus()\n\t\t\t)\n            */\n\t\t}\n\t}, [panelsState.previousPanel, id, panelsHelpers.isOpenFor(id)])\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\t;[\n\t\t\t\t...document.querySelectorAll('.ct-panel-open:not(.open)'),\n\t\t\t].map((el) => el.classList.remove('ct-panel-open'))\n\t\t}\n\t}, [])\n\n\tconst isEnabled = value === 'yes' || value === true\n\n\treturn getActualOption({\n\t\topen: () => panelsHelpers.open(id),\n\n\t\twrapperAttr: {\n\t\t\tclassName: `${\n\t\t\t\toption.switch\n\t\t\t\t\t? isEnabled\n\t\t\t\t\t\t? 'ct-click-allowed'\n\t\t\t\t\t\t: ''\n\t\t\t\t\t: 'ct-click-allowed'\n\t\t\t} ct-panel`,\n\t\t\tonClick: ({ target }) => {\n\t\t\t\tif (option.switch && !isEnabled) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (target.closest('.ct-tmp-panel-wrapper')) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tpanelsHelpers.open(selfPanelId)\n\t\t\t},\n\t\t},\n\t})\n}\n\nconst PanelContainer = ({ option, id, onChange, getValues, onChangeFor }) => {\n\tlet maybeLabel =\n\t\tObject.keys(option).indexOf('label') === -1\n\t\t\t? (id || '')\n\t\t\t\t\t.replace(/./, (s) => s.toUpperCase())\n\t\t\t\t\t.replace(/\\_|\\-/g, ' ')\n\t\t\t: option.label\n\n\tconst {\n\t\tpanelsState: { titlePrefix, previousPanel },\n\t\tpanelsState,\n\t\tpanelsHelpers,\n\t\tcontainerRef,\n\t} = useContext(PanelContext)\n\n\treturn containerRef.current &&\n\t\tpanelsHelpers.getWrapperParent().querySelector('.ct-tmp-panel-wrapper')\n\t\t? createPortal(\n\t\t\t\t<Transition\n\t\t\t\t\titems={panelsHelpers.isOpenFor(id)}\n\t\t\t\t\tfrom={{ transform: 'translateX(100%)' }}\n\t\t\t\t\tenter={{\n\t\t\t\t\t\ttransform: 'translateX(0%)',\n\t\t\t\t\t}}\n\t\t\t\t\tleave={\n\t\t\t\t\t\tpreviousPanel === id\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\ttransform: 'translateX(-100%)',\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\ttransform: 'translateX(100%)',\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t}\n\t\t\t\t\tconfig={(item, type) => ({\n\t\t\t\t\t\t// delay: type === 'enter' ? 180 * 10 : 0,\n\t\t\t\t\t\t// duration: 2000,\n\t\t\t\t\t\tduration: 180,\n\t\t\t\t\t\teasing: bezierEasing(0.645, 0.045, 0.355, 1),\n\t\t\t\t\t})}\n\t\t\t\t\tonRest={(isOpen) => {\n\t\t\t\t\t\tpanelsHelpers.stopTransitioning()\n\n\t\t\t\t\t\tif (isOpen) {\n\t\t\t\t\t\t\t;[\n\t\t\t\t\t\t\t\t...panelsHelpers\n\t\t\t\t\t\t\t\t\t.getWrapperParent()\n\t\t\t\t\t\t\t\t\t.querySelectorAll('.ct-tmp-panel-wrapper'),\n\t\t\t\t\t\t\t].map((el) => {\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tif (!el.firstElementChild) {\n\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tel.firstElementChild.removeAttribute(\n\t\t\t\t\t\t\t\t\t\t'style'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!previousPanel) {\n\t\t\t\t\t\t\t;[\n\t\t\t\t\t\t\t\t...panelsHelpers\n\t\t\t\t\t\t\t\t\t.getWrapperParent()\n\t\t\t\t\t\t\t\t\t.querySelectorAll('.ct-tmp-panel-wrapper'),\n\t\t\t\t\t\t\t].map((el) => el.parentNode.removeChild(el))\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t{(props, isOpen) =>\n\t\t\t\t\t\tisOpen && (\n\t\t\t\t\t\t\t<animated.div\n\t\t\t\t\t\t\t\tstyle={props}\n\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t'ct-customizer-panel ct-options-container',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'ct-panel-second-level':\n\t\t\t\t\t\t\t\t\t\t\tpanelsState.currentLevel === 2,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"customize-panel-actions\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\t\t\t\tpanelsHelpers.close()\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"customize-section-back\"\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t\t<span>{titlePrefix}</span>\n\t\t\t\t\t\t\t\t\t\t\t{maybeLabel}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"customizer-panel-content\">\n\t\t\t\t\t\t\t\t\t\t<OptionsPanel\n\t\t\t\t\t\t\t\t\t\t\tpurpose=\"customizer\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(key, val) =>\n\t\t\t\t\t\t\t\t\t\t\t\tonChangeFor(key, val)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\toptions={option['inner-options']}\n\t\t\t\t\t\t\t\t\t\t\tvalue={getValues()}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{(panelsState.currentLevel === 2 ||\n\t\t\t\t\t\t\t\t\tpanelsState.secondLevelTitleLabel) && (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"customize-panel-actions\">\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\t\t\t\t\tpanelsHelpers.close()\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"customize-section-back\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{panelsState.titlePrefix +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'  ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaybeLabel}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tpanelsState.secondLevelTitleLabel\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"customizer-panel-content\"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</animated.div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Transition>,\n\t\t\t\tpanelsHelpers\n\t\t\t\t\t.getWrapperParent()\n\t\t\t\t\t.querySelector('.ct-tmp-panel-wrapper')\n\t\t  )\n\t\t: null\n}\n\nconst Panel = ({\n\tid,\n\tgetValues,\n\tvalues,\n\tonChangeFor,\n\toption,\n\tvalue,\n\tview = 'normal',\n\tonChange,\n}) => {\n\tconst {\n\t\tpanelsState: { isOpen, isTransitioning },\n\t\tpanelsHelpers,\n\t} = useContext(PanelContext)\n\n\tif (view === 'simple') {\n\t\treturn panelsHelpers.isTransitioningFor(id) ||\n\t\t\tpanelsHelpers.isOpenFor(id) ? (\n\t\t\t<PanelContainer\n\t\t\t\tid={id}\n\t\t\t\tgetValues={() => (getValues ? getValues() : values)}\n\t\t\t\tonChangeFor={onChangeFor}\n\t\t\t\toption={option}\n\t\t\t/>\n\t\t) : null\n\t}\n\n\treturn (\n\t\t<div className=\"ct-customizer-panel-container\">\n\t\t\t<div className={classnames('ct-customizer-panel-option')}>\n\t\t\t\t{option.switch && (\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t\toption={{\n\t\t\t\t\t\t\tbehavior: option.switchBehavior || 'words',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<button type=\"button\" />\n\t\t\t</div>\n\n\t\t\t{(panelsHelpers.isTransitioningFor(id) ||\n\t\t\t\tpanelsHelpers.isOpenFor(id)) && (\n\t\t\t\t<PanelContainer\n\t\t\t\t\tid={id}\n\t\t\t\t\tgetValues={() => (getValues ? getValues() : values)}\n\t\t\t\t\tonChangeFor={onChangeFor}\n\t\t\t\t\toption={option}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nPanel.renderingConfig = {\n\tdesign: 'inline',\n}\n\nPanel.MetaWrapper = PanelMetaWrapper\n\nexport default Panel\n","import { createElement, Component } from '@wordpress/element'\nimport classnames from 'classnames'\nimport { normalizeCondition, matchValuesWithCondition } from 'match-conditions'\n\nconst RadioInput = (props) => {\n\tconst { inline = false } = props.option\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"ct-radio-option\"\n\t\t\t{...(inline ? { ['data-inline']: '' } : {})}\n\t\t\t{...(props.option.attr || {})}>\n\t\t\t{Object.keys(props.option.choices).map((choice) => (\n\t\t\t\t<label key={choice}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tchecked={choice === props.value}\n\t\t\t\t\t\tonChange={() => props.onChange(choice)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{props.option.choices[choice]}\n\t\t\t\t</label>\n\t\t\t))}\n\t\t</div>\n\t)\n}\n\nconst DefaultRadio = ({\n\toption,\n\tvalues,\n\tvalue,\n\tonChange,\n\tsingleChoiceProps,\n}) => {\n\tconst { inline = false } = option\n\n\tlet matchingChoices = Object.keys(option.choices).filter((choice) => {\n\t\tif (!option.conditions) {\n\t\t\treturn true\n\t\t}\n\n\t\tif (!option.conditions[choice]) {\n\t\t\treturn true\n\t\t}\n\n\t\treturn matchValuesWithCondition(\n\t\t\tnormalizeCondition(option.conditions[choice]),\n\t\t\tvalues\n\t\t)\n\t})\n\n\tlet normalizedValue = matchingChoices.includes(value) ? value : option.value\n\n\treturn (\n\t\t<ul\n\t\t\tclassName=\"ct-radio-option ct-buttons-group\"\n\t\t\t{...(inline ? { ['data-inline']: '' } : {})}\n\t\t\t{...(option.attr || {})}>\n\t\t\t{matchingChoices.map((choice, index) => (\n\t\t\t\t<li\n\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\tactive: choice === normalizedValue,\n\t\t\t\t\t})}\n\t\t\t\t\tonClick={() => onChange(choice)}\n\t\t\t\t\tkey={choice}\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: option.choices[choice],\n\t\t\t\t\t}}\n\t\t\t\t\t{...(singleChoiceProps ? singleChoiceProps(choice) : {})}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</ul>\n\t)\n}\n\nconst Radio = (props) => {\n\tconst {\n\t\toption: { view },\n\t} = props\n\n\tif (view === 'radio') {\n\t\treturn <RadioInput {...props} />\n\t}\n\n\treturn <DefaultRadio {...props} />\n}\n\nexport default Radio\n","import {\n\tcreateElement,\n\tComponent,\n\tcreatePortal,\n\tuseRef,\n\tcreateRef,\n} from '@wordpress/element'\nimport { Transition } from 'react-spring/renderprops'\nimport bezierEasing from 'bezier-easing'\nimport classnames from 'classnames'\nimport GenericOptionType from '../../GenericOptionType'\nimport { __ } from 'ct-i18n'\n\nconst RatioModal = ({\n\trenderContent,\n\tstopTransitioning,\n\n\tel,\n\n\tisTransitioning,\n\tisPicking,\n}) => {\n\treturn (\n\t\t(isTransitioning || isPicking) &&\n\t\tcreatePortal(\n\t\t\t<Transition\n\t\t\t\titems={isPicking}\n\t\t\t\tonRest={(isOpen) => stopTransitioning()}\n\t\t\t\tconfig={{\n\t\t\t\t\tduration: 100,\n\t\t\t\t\teasing: bezierEasing(0.25, 0.1, 0.25, 1.0),\n\t\t\t\t}}\n\t\t\t\tfrom={{\n\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\topacity: 0,\n\t\t\t\t}}\n\t\t\t\tenter={{\n\t\t\t\t\ttransform: 'scale3d(1, 1, 1)',\n\t\t\t\t\topacity: 1,\n\t\t\t\t}}\n\t\t\t\tleave={{\n\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\topacity: 0,\n\t\t\t\t}}>\n\t\t\t\t{(isPicking) =>\n\t\t\t\t\tisPicking &&\n\t\t\t\t\t((props) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={props}\n\t\t\t\t\t\t\tclassName=\"ct-ratio-modal\"\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonMouseDownCapture={(e) => {\n\t\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t\t\t\t\t\t\te.nativeEvent.stopPropagation()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonMouseUpCapture={(e) => {\n\t\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t\t\t\t\t\t\te.nativeEvent.stopPropagation()\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{renderContent && renderContent()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</Transition>,\n\t\t\tel.current.closest('.ct-single-palette')\n\t\t\t\t? el.current\n\t\t\t\t\t\t.closest('.ct-single-palette')\n\t\t\t\t\t\t.querySelector('.ct-color-modal-wrapper')\n\t\t\t\t: el.current.closest('.ct-color-modal-wrapper')\n\t\t\t\t? el.current.closest('.ct-color-modal-wrapper')\n\t\t\t\t: el.current\n\t\t\t\t\t\t.closest('.ct-control')\n\t\t\t\t\t\t.querySelector('.ct-color-modal-wrapper')\n\t\t)\n\t)\n}\n\nexport default RatioModal\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tuseRef,\n\tFragment,\n} from '@wordpress/element'\nimport cls from 'classnames'\nimport { __, sprintf } from 'ct-i18n'\nimport OutsideClickHandler from './react-outside-click-handler'\nimport RatioModal from './ratio/RatioModal'\nimport OptionsPanel from '../OptionsPanel'\nimport { getValueFromInput } from '../helpers/get-value-from-input'\n\nconst Ratio = ({ option, value, onChange, onChangeFor, values }) => {\n\tconst [isForcedReversed, setIsReversed] = useState(false)\n\tlet {\n\t\thasOriginalRatio = true,\n\t\t// popup | inline\n\t\tview = 'popup',\n\t\tpreview_width_key = null,\n\t} = option || {}\n\n\tconst [currentModalTab, setCurrentTab] = useState('ratio')\n\n\tlet normal_ratios = ['4/3', '16/9', '2/1']\n\tlet reversed_ratios = ['3/4', '9/16', '1/2']\n\n\tconst el = useRef()\n\n\tconst [{ isPicking, isTransitioning }, setAnimationState] = useState({\n\t\tisPicking: false,\n\t\tisTransitioning: false,\n\t})\n\n\tconst isReversed =\n\t\tnormal_ratios.indexOf(value) > -1\n\t\t\t? false\n\t\t\t: reversed_ratios.indexOf(value) > -1\n\t\t\t? true\n\t\t\t: isForcedReversed\n\n\tlet currentTab =\n\t\tvalue === 'original'\n\t\t\t? 'original'\n\t\t\t: value.indexOf('/') === -1\n\t\t\t? 'custom'\n\t\t\t: 'predefined'\n\n\tlet isCustom = value.indexOf('/') === -1\n\n\tconst inlineRatioView = (\n\t\t<Fragment>\n\t\t\t{option && option['inner-options'] && (\n\t\t\t\t<ul className=\"ct-modal-tabs\">\n\t\t\t\t\t<li\n\t\t\t\t\t\tonClick={() => setCurrentTab('ratio')}\n\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\tactive: currentModalTab === 'ratio',\n\t\t\t\t\t\t})}>\n\t\t\t\t\t\t{__('Image Ratio', 'blocksy')}\n\t\t\t\t\t</li>\n\t\t\t\t\t<li\n\t\t\t\t\t\tonClick={() => setCurrentTab('size')}\n\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\tactive: currentModalTab === 'size',\n\t\t\t\t\t\t})}>\n\t\t\t\t\t\t{__('Image Size', 'blocksy')}\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t)}\n\n\t\t\t<div className=\"ct-ratio-content\">\n\t\t\t\t{currentModalTab === 'ratio' && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={cls('ct-ratio-picker', {\n\t\t\t\t\t\t\treversed: isReversed,\n\t\t\t\t\t\t})}>\n\t\t\t\t\t\t<ul className=\"ct-radio-option ct-buttons-group\">\n\t\t\t\t\t\t\t{hasOriginalRatio && (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\t\t\t\tactive: currentTab === 'original',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (value !== 'original') {\n\t\t\t\t\t\t\t\t\t\t\tonChange('original')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{__('Original', 'blocksy')}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\t\t\tactive: currentTab === 'predefined',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tvalue.indexOf('/') === -1 ||\n\t\t\t\t\t\t\t\t\t\tvalue === 'original'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t\toption.value === 'original'\n\t\t\t\t\t\t\t\t\t\t\t\t? '1/1'\n\t\t\t\t\t\t\t\t\t\t\t\t: option.value\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{__('Predefined', 'blocksy')}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\t\t\tactive: currentTab === 'custom',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tvalue.indexOf('/') !== -1 ||\n\t\t\t\t\t\t\t\t\t\tvalue === 'original'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tlet [first, second] = (value ===\n\t\t\t\t\t\t\t\t\t\t'original'\n\t\t\t\t\t\t\t\t\t\t\t? option.value === 'original'\n\t\t\t\t\t\t\t\t\t\t\t\t? '1/1'\n\t\t\t\t\t\t\t\t\t\t\t\t: option.value\n\t\t\t\t\t\t\t\t\t\t\t: value\n\t\t\t\t\t\t\t\t\t\t).split('/')\n\t\t\t\t\t\t\t\t\t\tonChange(`${first}:${second}`)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{__('Custom', 'blocksy')}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\n\t\t\t\t\t\t{currentTab === 'predefined' && (\n\t\t\t\t\t\t\t<div className=\"ct-ratio-predefined\">\n\t\t\t\t\t\t\t\t<ul className=\"ct-buttons-group\">\n\t\t\t\t\t\t\t\t\t{[\n\t\t\t\t\t\t\t\t\t\t'1/1',\n\t\t\t\t\t\t\t\t\t\t...(isReversed\n\t\t\t\t\t\t\t\t\t\t\t? reversed_ratios\n\t\t\t\t\t\t\t\t\t\t\t: normal_ratios),\n\t\t\t\t\t\t\t\t\t].map((ratio) => (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tkey={ratio}\n\t\t\t\t\t\t\t\t\t\t\tclassName={cls({\n\t\t\t\t\t\t\t\t\t\t\t\tactive: ratio === value,\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onChange(ratio)}>\n\t\t\t\t\t\t\t\t\t\t\t{ratio}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\t\t\t\t\tif (value === '1/1') {\n\t\t\t\t\t\t\t\t\t\t\tsetIsReversed(!isReversed)\n\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tlet [\n\t\t\t\t\t\t\t\t\t\t\tfirst_component,\n\t\t\t\t\t\t\t\t\t\t\tsecond_component,\n\t\t\t\t\t\t\t\t\t\t] = value.split('/')\n\n\t\t\t\t\t\t\t\t\t\tsetIsReversed(\n\t\t\t\t\t\t\t\t\t\t\t+first_component < +second_component\n\t\t\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t\tvalue.split('/').reverse().join('/')\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<span />\n\t\t\t\t\t\t\t\t\t<i className=\"ct-tooltip-top\">Reverse</i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{currentTab === 'custom' && (\n\t\t\t\t\t\t\t<div className=\"ct-ratio-custom\">\n\t\t\t\t\t\t\t\t<div className=\"ct-option-input\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={value.split(':')[0]}\n\t\t\t\t\t\t\t\t\t\tonChange={({\n\t\t\t\t\t\t\t\t\t\t\ttarget: { value: val },\n\t\t\t\t\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t\t\t`${val}:${value.split(':')[1]}`\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span>:</span>\n\t\t\t\t\t\t\t\t<div className=\"ct-option-input\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tvalue={value.split(':')[1]}\n\t\t\t\t\t\t\t\t\t\tonChange={({\n\t\t\t\t\t\t\t\t\t\t\ttarget: { value: val },\n\t\t\t\t\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t\t\t`${value.split(':')[0]}:${val}`\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"ct-notification\"\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: sprintf(\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'Use this online %stool%s for calculating a custom image ratio based on your image size.',\n\t\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t'<a href=\"https://www.digitalrebellion.com/webapps/aspectcalc\" target=\"_blank\">',\n\t\t\t\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{currentTab === 'original' && (\n\t\t\t\t\t\t\t<div className=\"ct-ratio-original\">\n\t\t\t\t\t\t\t\t<div className=\"ct-notification\">\n\t\t\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\t\t'Images will be displayed using the aspect ratio in which they were uploaded.',\n\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{currentModalTab === 'size' && option['inner-options'] && (\n\t\t\t\t\t<OptionsPanel\n\t\t\t\t\t\tonChange={(key, val) => onChangeFor(key, val)}\n\t\t\t\t\t\toptions={option['inner-options']}\n\t\t\t\t\t\tvalue={values}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Fragment>\n\t)\n\n\tif (view === 'inline') {\n\t\treturn inlineRatioView\n\t}\n\n\treturn (\n\t\t<div ref={el} className={cls('ct-ratio-picker-container', {})}>\n\t\t\t<OutsideClickHandler\n\t\t\t\tuseCapture={false}\n\t\t\t\tdisabled={!isPicking}\n\t\t\t\tclassName=\"ct-ratio-preview\"\n\t\t\t\tonOutsideClick={() => {\n\t\t\t\t\tif (!isPicking) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\tisTransitioning: false,\n\t\t\t\t\t\tisPicking: false,\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t\twrapperProps={{\n\t\t\t\t\tonClick: (e) => {\n\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\t\tisTransitioning: true,\n\t\t\t\t\t\t\tisPicking: !isPicking,\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t}}>\n\t\t\t\t{value.indexOf(':') > -1 && (\n\t\t\t\t\t<span className=\"ct-ratio-key\">\n\t\t\t\t\t\t{__('Custom', 'blocksy')}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\n\t\t\t\t{value.indexOf('/') > -1 && (\n\t\t\t\t\t<span className=\"ct-ratio-key\">\n\t\t\t\t\t\t{__('Predefined', 'blocksy')}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\n\t\t\t\t{value === 'original'\n\t\t\t\t\t? __('Original Ratio', 'blocksy')\n\t\t\t\t\t: value.replace('/', ':')}\n\n\t\t\t\t{preview_width_key && (\n\t\t\t\t\t<span className=\"ct-width-key\">\n\t\t\t\t\t\t{values[preview_width_key]}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</OutsideClickHandler>\n\n\t\t\t<RatioModal\n\t\t\t\tel={el}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={onChange}\n\t\t\t\toption={option}\n\t\t\t\tisPicking={isPicking}\n\t\t\t\tisTransitioning={isTransitioning}\n\t\t\t\tonPickingChange={(isPicking) => {\n\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\tisTransitioning: true,\n\t\t\t\t\t\tisPicking,\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t\tstopTransitioning={() =>\n\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\tisPicking,\n\t\t\t\t\t\tisTransitioning: false,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\trenderContent={() => inlineRatioView}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nRatio.ControlEnd = () => (\n\t<div\n\t\tclassName=\"ct-color-modal-wrapper\"\n\t\tonMouseDown={(e) => e.stopPropagation()}\n\t\tonMouseUp={(e) => e.stopPropagation()}\n\t/>\n)\n\nexport default Ratio\n","function t(t){return\"object\"==typeof t&&null!=t&&1===t.nodeType}function e(t,e){return(!e||\"hidden\"!==t)&&\"visible\"!==t&&\"clip\"!==t}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function r(t,e,n,r,i,o,l,d){return o<t&&l>e||o>t&&l<e?0:o<=t&&d<=n||l>=e&&d>=n?o-t-r:l>e&&d<n||o<t&&d>n?l-e+i:0}export default function(e,i){var o=window,l=i.scrollMode,d=i.block,u=i.inline,h=i.boundary,a=i.skipOverflowHiddenElements,c=\"function\"==typeof h?h:function(t){return t!==h};if(!t(e))throw new TypeError(\"Invalid target\");for(var f=document.scrollingElement||document.documentElement,s=[],p=e;t(p)&&c(p);){if((p=p.parentElement)===f){s.push(p);break}null!=p&&p===document.body&&n(p)&&!n(document.documentElement)||null!=p&&n(p,a)&&s.push(p)}for(var m=o.visualViewport?o.visualViewport.width:innerWidth,g=o.visualViewport?o.visualViewport.height:innerHeight,w=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,W=e.getBoundingClientRect(),b=W.height,H=W.width,y=W.top,E=W.right,M=W.bottom,V=W.left,x=\"start\"===d||\"nearest\"===d?y:\"end\"===d?M:y+b/2,I=\"center\"===u?V+H/2:\"end\"===u?E:V,C=[],T=0;T<s.length;T++){var k=s[T],B=k.getBoundingClientRect(),D=B.height,O=B.width,R=B.top,X=B.right,Y=B.bottom,L=B.left;if(\"if-needed\"===l&&y>=0&&V>=0&&M<=g&&E<=m&&y>=R&&M<=Y&&V>=L&&E<=X)return C;var S=getComputedStyle(k),j=parseInt(S.borderLeftWidth,10),q=parseInt(S.borderTopWidth,10),z=parseInt(S.borderRightWidth,10),A=parseInt(S.borderBottomWidth,10),F=0,G=0,J=\"offsetWidth\"in k?k.offsetWidth-k.clientWidth-j-z:0,K=\"offsetHeight\"in k?k.offsetHeight-k.clientHeight-q-A:0;if(f===k)F=\"start\"===d?x:\"end\"===d?x-g:\"nearest\"===d?r(v,v+g,g,q,A,v+x,v+x+b,b):x-g/2,G=\"start\"===u?I:\"center\"===u?I-m/2:\"end\"===u?I-m:r(w,w+m,m,j,z,w+I,w+I+H,H),F=Math.max(0,F+v),G=Math.max(0,G+w);else{F=\"start\"===d?x-R-q:\"end\"===d?x-Y+A+K:\"nearest\"===d?r(R,Y,D,q,A+K,x,x+b,b):x-(R+D/2)+K/2,G=\"start\"===u?I-L-j:\"center\"===u?I-(L+O/2)+J/2:\"end\"===u?I-X+z+J:r(L,X,O,j,z+J,I,I+H,H);var N=k.scrollLeft,P=k.scrollTop;x+=P-(F=Math.max(0,Math.min(P+F,k.scrollHeight-D+K))),I+=N-(G=Math.max(0,Math.min(N+G,k.scrollWidth-O+J)))}C.push({el:k,top:F,left:G})}return C}\n//# sourceMappingURL=index.module.js.map\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport PropTypes from 'prop-types';\nimport { cloneElement, Component, useRef, useEffect, useCallback, useLayoutEffect, useReducer, useMemo } from 'react';\nimport { isForwardRef } from 'react-is';\nimport computeScrollIntoView from 'compute-scroll-into-view';\nimport { __assign } from 'tslib';\n\nvar idCounter = 0;\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */\n\nfunction cbToCb(cb) {\n  return typeof cb === 'function' ? cb : noop;\n}\n\nfunction noop() {}\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */\n\n\nfunction scrollIntoView(node, menuNode) {\n  if (!node) {\n    return;\n  }\n\n  var actions = computeScrollIntoView(node, {\n    boundary: menuNode,\n    block: 'nearest',\n    scrollMode: 'if-needed'\n  });\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n    el.scrollTop = top;\n    el.scrollLeft = left;\n  });\n}\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @param {Window} environment The window context where downshift renders.\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */\n\n\nfunction isOrContainsNode(parent, child, environment) {\n  var result = parent === child || child instanceof environment.Node && parent.contains && parent.contains(child);\n  return result;\n}\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */\n\n\nfunction debounce(fn, time) {\n  var timeoutId;\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n  }\n\n  function wrapper() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    cancel();\n    timeoutId = setTimeout(function () {\n      timeoutId = null;\n      fn.apply(void 0, args);\n    }, time);\n  }\n\n  wrapper.cancel = cancel;\n  return wrapper;\n}\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\n\n\nfunction callAllEventHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    return fns.some(function (fn) {\n      if (fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return event.preventDownshiftDefault || event.hasOwnProperty('nativeEvent') && event.nativeEvent.preventDownshiftDefault;\n    });\n  };\n}\n\nfunction handleRefs() {\n  for (var _len4 = arguments.length, refs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    refs[_key4] = arguments[_key4];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      if (typeof ref === 'function') {\n        ref(node);\n      } else if (ref) {\n        ref.current = node;\n      }\n    });\n  };\n}\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {String} the unique ID\n */\n\n\nfunction generateId() {\n  return String(idCounter++);\n}\n/**\n * Resets idCounter to 0. Used for SSR.\n */\n\n\nfunction resetIdCounter() {\n  idCounter = 0;\n}\n/**\n * Default implementation for status message. Only added when menu is open.\n * Will specify if there are results in the list, and if so, how many,\n * and what keys are relevant.\n *\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\n\n\nfunction getA11yStatusMessage$1(_ref2) {\n  var isOpen = _ref2.isOpen,\n      resultCount = _ref2.resultCount,\n      previousResultCount = _ref2.previousResultCount;\n\n  if (!isOpen) {\n    return '';\n  }\n\n  if (!resultCount) {\n    return 'No results are available.';\n  }\n\n  if (resultCount !== previousResultCount) {\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n\n  return '';\n}\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\n\n\nfunction unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ?\n  /* istanbul ignore next (preact) */\n  arg[0] : arg;\n\n  if (!arg && defaultValue) {\n    return defaultValue;\n  } else {\n    return arg;\n  }\n}\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */\n\n\nfunction isDOMElement(element) {\n\n\n  return typeof element.type === 'string';\n}\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */\n\n\nfunction getElementProps(element) {\n\n  return element.props;\n}\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */\n\n\nfunction requiredProp(fnName, propName) {\n  // eslint-disable-next-line no-console\n  console.error(\"The property \\\"\" + propName + \"\\\" is required in \\\"\" + fnName + \"\\\"\");\n}\n\nvar stateKeys = ['highlightedIndex', 'inputValue', 'isOpen', 'selectedItem', 'type'];\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */\n\nfunction pickState(state) {\n  if (state === void 0) {\n    state = {};\n  }\n\n  var result = {};\n  stateKeys.forEach(function (k) {\n    if (state.hasOwnProperty(k)) {\n      result[k] = state[k];\n    }\n  });\n  return result;\n}\n/**\n * This will perform a shallow merge of the given state object\n * with the state coming from props\n * (for the controlled component scenario)\n * This is used in state updater functions so they're referencing\n * the right state regardless of where it comes from.\n *\n * @param {Object} state The state of the component/hook.\n * @param {Object} props The props that may contain controlled values.\n * @returns {Object} The merged controlled state.\n */\n\n\nfunction getState(state, props) {\n  return Object.keys(state).reduce(function (prevState, key) {\n    prevState[key] = isControlledProp(props, key) ? props[key] : state[key];\n    return prevState;\n  }, {});\n}\n/**\n * This determines whether a prop is a \"controlled prop\" meaning it is\n * state which is controlled by the outside of this component rather\n * than within this component.\n *\n * @param {Object} props The props that may contain controlled values.\n * @param {String} key the key to check\n * @return {Boolean} whether it is a controlled controlled prop\n */\n\n\nfunction isControlledProp(props, key) {\n  return props[key] !== undefined;\n}\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */\n\n\nfunction normalizeArrowKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  /* istanbul ignore next (ie) */\n\n  if (keyCode >= 37 && keyCode <= 40 && key.indexOf('Arrow') !== 0) {\n    return \"Arrow\" + key;\n  }\n\n  return key;\n}\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */\n\n\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n/**\n * Returns the new index in the list, in a circular way. If next value is out of bonds from the total,\n * it will wrap to either 0 or itemCount - 1.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @param {Function} getItemNodeFromIndex Used to check if item is disabled.\n * @param {boolean} circular Specify if navigation is circular. Default is true.\n * @returns {number} The new index after the move.\n */\n\n\nfunction getNextWrappingIndex(moveAmount, baseIndex, itemCount, getItemNodeFromIndex, circular) {\n  if (circular === void 0) {\n    circular = true;\n  }\n\n  if (itemCount === 0) {\n    return -1;\n  }\n\n  var itemsLastIndex = itemCount - 1;\n\n  if (typeof baseIndex !== 'number' || baseIndex < 0 || baseIndex >= itemCount) {\n    baseIndex = moveAmount > 0 ? -1 : itemsLastIndex + 1;\n  }\n\n  var newIndex = baseIndex + moveAmount;\n\n  if (newIndex < 0) {\n    newIndex = circular ? itemsLastIndex : 0;\n  } else if (newIndex > itemsLastIndex) {\n    newIndex = circular ? 0 : itemsLastIndex;\n  }\n\n  var nonDisabledNewIndex = getNextNonDisabledIndex(moveAmount, newIndex, itemCount, getItemNodeFromIndex, circular);\n\n  if (nonDisabledNewIndex === -1) {\n    return baseIndex >= itemCount ? -1 : baseIndex;\n  }\n\n  return nonDisabledNewIndex;\n}\n/**\n * Returns the next index in the list of an item that is not disabled.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @param {Function} getItemNodeFromIndex Used to check if item is disabled.\n * @param {boolean} circular Specify if navigation is circular. Default is true.\n * @returns {number} The new index. Returns baseIndex if item is not disabled. Returns next non-disabled item otherwise. If no non-disabled found it will return -1.\n */\n\n\nfunction getNextNonDisabledIndex(moveAmount, baseIndex, itemCount, getItemNodeFromIndex, circular) {\n  var currentElementNode = getItemNodeFromIndex(baseIndex);\n\n  if (!currentElementNode || !currentElementNode.hasAttribute('disabled')) {\n    return baseIndex;\n  }\n\n  if (moveAmount > 0) {\n    for (var index = baseIndex + 1; index < itemCount; index++) {\n      if (!getItemNodeFromIndex(index).hasAttribute('disabled')) {\n        return index;\n      }\n    }\n  } else {\n    for (var _index = baseIndex - 1; _index >= 0; _index--) {\n      if (!getItemNodeFromIndex(_index).hasAttribute('disabled')) {\n        return _index;\n      }\n    }\n  }\n\n  if (circular) {\n    return moveAmount > 0 ? getNextNonDisabledIndex(1, 0, itemCount, getItemNodeFromIndex, false) : getNextNonDisabledIndex(-1, itemCount - 1, itemCount, getItemNodeFromIndex, false);\n  }\n\n  return -1;\n}\n/**\n * Checks if event target is within the downshift elements.\n *\n * @param {EventTarget} target Target to check.\n * @param {HTMLElement[]} downshiftElements The elements that form downshift (list, toggle button etc).\n * @param {Window} environment The window context where downshift renders.\n * @param {boolean} checkActiveElement Whether to also check activeElement.\n *\n * @returns {boolean} Whether or not the target is within downshift elements.\n */\n\n\nfunction targetWithinDownshift(target, downshiftElements, environment, checkActiveElement) {\n  if (checkActiveElement === void 0) {\n    checkActiveElement = true;\n  }\n\n  return downshiftElements.some(function (contextNode) {\n    return contextNode && (isOrContainsNode(contextNode, target, environment) || checkActiveElement && isOrContainsNode(contextNode, environment.document.activeElement, environment));\n  });\n} // eslint-disable-next-line import/no-mutable-exports\n\n\nvar validateControlledUnchanged = noop;\n/* istanbul ignore next */\n\nif (process.env.NODE_ENV !== 'production') {\n  validateControlledUnchanged = function validateControlledUnchanged(state, prevProps, nextProps) {\n    var warningDescription = \"This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props\";\n    Object.keys(state).forEach(function (propKey) {\n      if (prevProps[propKey] !== undefined && nextProps[propKey] === undefined) {\n        // eslint-disable-next-line no-console\n        console.error(\"downshift: A component has changed the controlled prop \\\"\" + propKey + \"\\\" to be uncontrolled. \" + warningDescription);\n      } else if (prevProps[propKey] === undefined && nextProps[propKey] !== undefined) {\n        // eslint-disable-next-line no-console\n        console.error(\"downshift: A component has changed the uncontrolled prop \\\"\" + propKey + \"\\\" to be controlled. \" + warningDescription);\n      }\n    });\n  };\n}\n\nvar cleanupStatus = debounce(function (documentProp) {\n  getStatusDiv(documentProp).textContent = '';\n}, 500);\n/**\n * @param {String} status the status message\n * @param {Object} documentProp document passed by the user.\n */\n\nfunction setStatus(status, documentProp) {\n  var div = getStatusDiv(documentProp);\n\n  if (!status) {\n    return;\n  }\n\n  div.textContent = status;\n  cleanupStatus(documentProp);\n}\n/**\n * Get the status node or create it if it does not already exist.\n * @param {Object} documentProp document passed by the user.\n * @return {HTMLElement} the status node.\n */\n\n\nfunction getStatusDiv(documentProp) {\n  if (documentProp === void 0) {\n    documentProp = document;\n  }\n\n  var statusDiv = documentProp.getElementById('a11y-status-message');\n\n  if (statusDiv) {\n    return statusDiv;\n  }\n\n  statusDiv = documentProp.createElement('div');\n  statusDiv.setAttribute('id', 'a11y-status-message');\n  statusDiv.setAttribute('role', 'status');\n  statusDiv.setAttribute('aria-live', 'polite');\n  statusDiv.setAttribute('aria-relevant', 'additions text');\n  Object.assign(statusDiv.style, {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    width: '1px'\n  });\n  documentProp.body.appendChild(statusDiv);\n  return statusDiv;\n}\n\nvar unknown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_unknown__' : 0;\nvar mouseUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_mouseup__' : 1;\nvar itemMouseEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_item_mouseenter__' : 2;\nvar keyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_up__' : 3;\nvar keyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_down__' : 4;\nvar keyDownEscape = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_escape__' : 5;\nvar keyDownEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 6;\nvar keyDownHome = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_home__' : 7;\nvar keyDownEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_end__' : 8;\nvar clickItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_item__' : 9;\nvar blurInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_input__' : 10;\nvar changeInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_change_input__' : 11;\nvar keyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_space_button__' : 12;\nvar clickButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_button__' : 13;\nvar blurButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_button__' : 14;\nvar controlledPropUpdatedSelectedItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_controlled_prop_updated_selected_item__' : 15;\nvar touchEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_touchend__' : 16;\n\nvar stateChangeTypes$3 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  unknown: unknown,\n  mouseUp: mouseUp,\n  itemMouseEnter: itemMouseEnter,\n  keyDownArrowUp: keyDownArrowUp,\n  keyDownArrowDown: keyDownArrowDown,\n  keyDownEscape: keyDownEscape,\n  keyDownEnter: keyDownEnter,\n  keyDownHome: keyDownHome,\n  keyDownEnd: keyDownEnd,\n  clickItem: clickItem,\n  blurInput: blurInput,\n  changeInput: changeInput,\n  keyDownSpaceButton: keyDownSpaceButton,\n  clickButton: clickButton,\n  blurButton: blurButton,\n  controlledPropUpdatedSelectedItem: controlledPropUpdatedSelectedItem,\n  touchEnd: touchEnd\n});\n\nvar _excluded$4 = [\"refKey\", \"ref\"],\n    _excluded2$3 = [\"onClick\", \"onPress\", \"onKeyDown\", \"onKeyUp\", \"onBlur\"],\n    _excluded3$2 = [\"onKeyDown\", \"onBlur\", \"onChange\", \"onInput\", \"onChangeText\"],\n    _excluded4$1 = [\"refKey\", \"ref\"],\n    _excluded5$1 = [\"onMouseMove\", \"onMouseDown\", \"onClick\", \"onPress\", \"index\", \"item\"];\n\nvar Downshift = /*#__PURE__*/function () {\n  var Downshift = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(Downshift, _Component);\n\n    function Downshift(_props) {\n      var _this;\n\n      _this = _Component.call(this, _props) || this; // fancy destructuring + defaults + aliases\n      // this basically says each value of state should either be set to\n      // the initial value or the default value if the initial value is not provided\n\n      _this.id = _this.props.id || \"downshift-\" + generateId();\n      _this.menuId = _this.props.menuId || _this.id + \"-menu\";\n      _this.labelId = _this.props.labelId || _this.id + \"-label\";\n      _this.inputId = _this.props.inputId || _this.id + \"-input\";\n\n      _this.getItemId = _this.props.getItemId || function (index) {\n        return _this.id + \"-item-\" + index;\n      };\n\n      _this.input = null;\n      _this.items = [];\n      _this.itemCount = null;\n      _this.previousResultCount = 0;\n      _this.timeoutIds = [];\n\n      _this.internalSetTimeout = function (fn, time) {\n        var id = setTimeout(function () {\n          _this.timeoutIds = _this.timeoutIds.filter(function (i) {\n            return i !== id;\n          });\n          fn();\n        }, time);\n\n        _this.timeoutIds.push(id);\n      };\n\n      _this.setItemCount = function (count) {\n        _this.itemCount = count;\n      };\n\n      _this.unsetItemCount = function () {\n        _this.itemCount = null;\n      };\n\n      _this.setHighlightedIndex = function (highlightedIndex, otherStateToSet) {\n        if (highlightedIndex === void 0) {\n          highlightedIndex = _this.props.defaultHighlightedIndex;\n        }\n\n        if (otherStateToSet === void 0) {\n          otherStateToSet = {};\n        }\n\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(_extends({\n          highlightedIndex: highlightedIndex\n        }, otherStateToSet));\n      };\n\n      _this.clearSelection = function (cb) {\n        _this.internalSetState({\n          selectedItem: null,\n          inputValue: '',\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          isOpen: _this.props.defaultIsOpen\n        }, cb);\n      };\n\n      _this.selectItem = function (item, otherStateToSet, cb) {\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(_extends({\n          isOpen: _this.props.defaultIsOpen,\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          selectedItem: item,\n          inputValue: _this.props.itemToString(item)\n        }, otherStateToSet), cb);\n      };\n\n      _this.selectItemAtIndex = function (itemIndex, otherStateToSet, cb) {\n        var item = _this.items[itemIndex];\n\n        if (item == null) {\n          return;\n        }\n\n        _this.selectItem(item, otherStateToSet, cb);\n      };\n\n      _this.selectHighlightedItem = function (otherStateToSet, cb) {\n        return _this.selectItemAtIndex(_this.getState().highlightedIndex, otherStateToSet, cb);\n      };\n\n      _this.internalSetState = function (stateToSet, cb) {\n        var isItemSelected, onChangeArg;\n        var onStateChangeArg = {};\n        var isStateToSetFunction = typeof stateToSet === 'function'; // we want to call `onInputValueChange` before the `setState` call\n        // so someone controlling the `inputValue` state gets notified of\n        // the input change as soon as possible. This avoids issues with\n        // preserving the cursor position.\n        // See https://github.com/downshift-js/downshift/issues/217 for more info.\n\n        if (!isStateToSetFunction && stateToSet.hasOwnProperty('inputValue')) {\n          _this.props.onInputValueChange(stateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), stateToSet));\n        }\n\n        return _this.setState(function (state) {\n          state = _this.getState(state);\n          var newStateToSet = isStateToSetFunction ? stateToSet(state) : stateToSet; // Your own function that could modify the state that will be set.\n\n          newStateToSet = _this.props.stateReducer(state, newStateToSet); // checks if an item is selected, regardless of if it's different from\n          // what was selected before\n          // used to determine if onSelect and onChange callbacks should be called\n\n          isItemSelected = newStateToSet.hasOwnProperty('selectedItem'); // this keeps track of the object we want to call with setState\n\n          var nextState = {}; // this is just used to tell whether the state changed\n\n          var nextFullState = {}; // we need to call on change if the outside world is controlling any of our state\n          // and we're trying to update that state. OR if the selection has changed and we're\n          // trying to update the selection\n\n          if (isItemSelected && newStateToSet.selectedItem !== state.selectedItem) {\n            onChangeArg = newStateToSet.selectedItem;\n          }\n\n          newStateToSet.type = newStateToSet.type || unknown;\n          Object.keys(newStateToSet).forEach(function (key) {\n            // onStateChangeArg should only have the state that is\n            // actually changing\n            if (state[key] !== newStateToSet[key]) {\n              onStateChangeArg[key] = newStateToSet[key];\n            } // the type is useful for the onStateChangeArg\n            // but we don't actually want to set it in internal state.\n            // this is an undocumented feature for now... Not all internalSetState\n            // calls support it and I'm not certain we want them to yet.\n            // But it enables users controlling the isOpen state to know when\n            // the isOpen state changes due to mouseup events which is quite handy.\n\n\n            if (key === 'type') {\n              return;\n            }\n\n            nextFullState[key] = newStateToSet[key]; // if it's coming from props, then we don't care to set it internally\n\n            if (!isControlledProp(_this.props, key)) {\n              nextState[key] = newStateToSet[key];\n            }\n          }); // if stateToSet is a function, then we weren't able to call onInputValueChange\n          // earlier, so we'll call it now that we know what the inputValue state will be.\n\n          if (isStateToSetFunction && newStateToSet.hasOwnProperty('inputValue')) {\n            _this.props.onInputValueChange(newStateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), newStateToSet));\n          }\n\n          return nextState;\n        }, function () {\n          // call the provided callback if it's a function\n          cbToCb(cb)(); // only call the onStateChange and onChange callbacks if\n          // we have relevant information to pass them.\n\n          var hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1;\n\n          if (hasMoreStateThanType) {\n            _this.props.onStateChange(onStateChangeArg, _this.getStateAndHelpers());\n          }\n\n          if (isItemSelected) {\n            _this.props.onSelect(stateToSet.selectedItem, _this.getStateAndHelpers());\n          }\n\n          if (onChangeArg !== undefined) {\n            _this.props.onChange(onChangeArg, _this.getStateAndHelpers());\n          } // this is currently undocumented and therefore subject to change\n          // We'll try to not break it, but just be warned.\n\n\n          _this.props.onUserAction(onStateChangeArg, _this.getStateAndHelpers());\n        });\n      };\n\n      _this.rootRef = function (node) {\n        return _this._rootNode = node;\n      };\n\n      _this.getRootProps = function (_temp, _temp2) {\n        var _extends2;\n\n        var _ref = _temp === void 0 ? {} : _temp,\n            _ref$refKey = _ref.refKey,\n            refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n            ref = _ref.ref,\n            rest = _objectWithoutPropertiesLoose(_ref, _excluded$4);\n\n        var _ref2 = _temp2 === void 0 ? {} : _temp2,\n            _ref2$suppressRefErro = _ref2.suppressRefError,\n            suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n\n        // this is used in the render to know whether the user has called getRootProps.\n        // It uses that to know whether to apply the props automatically\n        _this.getRootProps.called = true;\n        _this.getRootProps.refKey = refKey;\n        _this.getRootProps.suppressRefError = suppressRefError;\n\n        var _this$getState = _this.getState(),\n            isOpen = _this$getState.isOpen;\n\n        return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, _this.rootRef), _extends2.role = 'combobox', _extends2['aria-expanded'] = isOpen, _extends2['aria-haspopup'] = 'listbox', _extends2['aria-owns'] = isOpen ? _this.menuId : null, _extends2['aria-labelledby'] = _this.labelId, _extends2), rest);\n      };\n\n      _this.keyDownHandlers = {\n        ArrowDown: function ArrowDown(event) {\n          var _this2 = this;\n\n          event.preventDefault();\n\n          if (this.getState().isOpen) {\n            var amount = event.shiftKey ? 5 : 1;\n            this.moveHighlightedIndex(amount, {\n              type: keyDownArrowDown\n            });\n          } else {\n            this.internalSetState({\n              isOpen: true,\n              type: keyDownArrowDown\n            }, function () {\n              var itemCount = _this2.getItemCount();\n\n              if (itemCount > 0) {\n                var _this2$getState = _this2.getState(),\n                    highlightedIndex = _this2$getState.highlightedIndex;\n\n                var nextHighlightedIndex = getNextWrappingIndex(1, highlightedIndex, itemCount, function (index) {\n                  return _this2.getItemNodeFromIndex(index);\n                });\n\n                _this2.setHighlightedIndex(nextHighlightedIndex, {\n                  type: keyDownArrowDown\n                });\n              }\n            });\n          }\n        },\n        ArrowUp: function ArrowUp(event) {\n          var _this3 = this;\n\n          event.preventDefault();\n\n          if (this.getState().isOpen) {\n            var amount = event.shiftKey ? -5 : -1;\n            this.moveHighlightedIndex(amount, {\n              type: keyDownArrowUp\n            });\n          } else {\n            this.internalSetState({\n              isOpen: true,\n              type: keyDownArrowUp\n            }, function () {\n              var itemCount = _this3.getItemCount();\n\n              if (itemCount > 0) {\n                var _this3$getState = _this3.getState(),\n                    highlightedIndex = _this3$getState.highlightedIndex;\n\n                var nextHighlightedIndex = getNextWrappingIndex(-1, highlightedIndex, itemCount, function (index) {\n                  return _this3.getItemNodeFromIndex(index);\n                });\n\n                _this3.setHighlightedIndex(nextHighlightedIndex, {\n                  type: keyDownArrowUp\n                });\n              }\n            });\n          }\n        },\n        Enter: function Enter(event) {\n          if (event.which === 229) {\n            return;\n          }\n\n          var _this$getState2 = this.getState(),\n              isOpen = _this$getState2.isOpen,\n              highlightedIndex = _this$getState2.highlightedIndex;\n\n          if (isOpen && highlightedIndex != null) {\n            event.preventDefault();\n            var item = this.items[highlightedIndex];\n            var itemNode = this.getItemNodeFromIndex(highlightedIndex);\n\n            if (item == null || itemNode && itemNode.hasAttribute('disabled')) {\n              return;\n            }\n\n            this.selectHighlightedItem({\n              type: keyDownEnter\n            });\n          }\n        },\n        Escape: function Escape(event) {\n          event.preventDefault();\n          this.reset(_extends({\n            type: keyDownEscape\n          }, !this.state.isOpen && {\n            selectedItem: null,\n            inputValue: ''\n          }));\n        }\n      };\n      _this.buttonKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n        ' ': function _(event) {\n          event.preventDefault();\n          this.toggleMenu({\n            type: keyDownSpaceButton\n          });\n        }\n      });\n      _this.inputKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n        Home: function Home(event) {\n          var _this4 = this;\n\n          var _this$getState3 = this.getState(),\n              isOpen = _this$getState3.isOpen;\n\n          if (!isOpen) {\n            return;\n          }\n\n          event.preventDefault();\n          var itemCount = this.getItemCount();\n\n          if (itemCount <= 0 || !isOpen) {\n            return;\n          } // get next non-disabled starting downwards from 0 if that's disabled.\n\n\n          var newHighlightedIndex = getNextNonDisabledIndex(1, 0, itemCount, function (index) {\n            return _this4.getItemNodeFromIndex(index);\n          }, false);\n          this.setHighlightedIndex(newHighlightedIndex, {\n            type: keyDownHome\n          });\n        },\n        End: function End(event) {\n          var _this5 = this;\n\n          var _this$getState4 = this.getState(),\n              isOpen = _this$getState4.isOpen;\n\n          if (!isOpen) {\n            return;\n          }\n\n          event.preventDefault();\n          var itemCount = this.getItemCount();\n\n          if (itemCount <= 0 || !isOpen) {\n            return;\n          } // get next non-disabled starting upwards from last index if that's disabled.\n\n\n          var newHighlightedIndex = getNextNonDisabledIndex(-1, itemCount - 1, itemCount, function (index) {\n            return _this5.getItemNodeFromIndex(index);\n          }, false);\n          this.setHighlightedIndex(newHighlightedIndex, {\n            type: keyDownEnd\n          });\n        }\n      });\n\n      _this.getToggleButtonProps = function (_temp3) {\n        var _ref3 = _temp3 === void 0 ? {} : _temp3,\n            onClick = _ref3.onClick;\n            _ref3.onPress;\n            var onKeyDown = _ref3.onKeyDown,\n            onKeyUp = _ref3.onKeyUp,\n            onBlur = _ref3.onBlur,\n            rest = _objectWithoutPropertiesLoose(_ref3, _excluded2$3);\n\n        var _this$getState5 = _this.getState(),\n            isOpen = _this$getState5.isOpen;\n\n        var enabledEventHandlers = {\n          onClick: callAllEventHandlers(onClick, _this.buttonHandleClick),\n          onKeyDown: callAllEventHandlers(onKeyDown, _this.buttonHandleKeyDown),\n          onKeyUp: callAllEventHandlers(onKeyUp, _this.buttonHandleKeyUp),\n          onBlur: callAllEventHandlers(onBlur, _this.buttonHandleBlur)\n        };\n        var eventHandlers = rest.disabled ? {} : enabledEventHandlers;\n        return _extends({\n          type: 'button',\n          role: 'button',\n          'aria-label': isOpen ? 'close menu' : 'open menu',\n          'aria-haspopup': true,\n          'data-toggle': true\n        }, eventHandlers, rest);\n      };\n\n      _this.buttonHandleKeyUp = function (event) {\n        // Prevent click event from emitting in Firefox\n        event.preventDefault();\n      };\n\n      _this.buttonHandleKeyDown = function (event) {\n        var key = normalizeArrowKey(event);\n\n        if (_this.buttonKeyDownHandlers[key]) {\n          _this.buttonKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n        }\n      };\n\n      _this.buttonHandleClick = function (event) {\n        event.preventDefault(); // handle odd case for Safari and Firefox which\n        // don't give the button the focus properly.\n\n        /* istanbul ignore if (can't reasonably test this) */\n\n        if (_this.props.environment.document.activeElement === _this.props.environment.document.body) {\n          event.target.focus();\n        } // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n        // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n        // when building for production and should therefore have no impact on production code.\n\n\n        if (process.env.NODE_ENV === 'test') {\n          _this.toggleMenu({\n            type: clickButton\n          });\n        } else {\n          // Ensure that toggle of menu occurs after the potential blur event in iOS\n          _this.internalSetTimeout(function () {\n            return _this.toggleMenu({\n              type: clickButton\n            });\n          });\n        }\n      };\n\n      _this.buttonHandleBlur = function (event) {\n        var blurTarget = event.target; // Save blur target for comparison with activeElement later\n        // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n\n        _this.internalSetTimeout(function () {\n          if (!_this.isMouseDown && (_this.props.environment.document.activeElement == null || _this.props.environment.document.activeElement.id !== _this.inputId) && _this.props.environment.document.activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n          ) {\n            _this.reset({\n              type: blurButton\n            });\n          }\n        });\n      };\n\n      _this.getLabelProps = function (props) {\n        return _extends({\n          htmlFor: _this.inputId,\n          id: _this.labelId\n        }, props);\n      };\n\n      _this.getInputProps = function (_temp4) {\n        var _ref4 = _temp4 === void 0 ? {} : _temp4,\n            onKeyDown = _ref4.onKeyDown,\n            onBlur = _ref4.onBlur,\n            onChange = _ref4.onChange,\n            onInput = _ref4.onInput;\n            _ref4.onChangeText;\n            var rest = _objectWithoutPropertiesLoose(_ref4, _excluded3$2);\n\n        var onChangeKey;\n        var eventHandlers = {};\n        /* istanbul ignore next (preact) */\n\n        {\n          onChangeKey = 'onChange';\n        }\n\n        var _this$getState6 = _this.getState(),\n            inputValue = _this$getState6.inputValue,\n            isOpen = _this$getState6.isOpen,\n            highlightedIndex = _this$getState6.highlightedIndex;\n\n        if (!rest.disabled) {\n          var _eventHandlers;\n\n          eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, _this.inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, _this.inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, _this.inputHandleBlur), _eventHandlers);\n        }\n\n        return _extends({\n          'aria-autocomplete': 'list',\n          'aria-activedescendant': isOpen && typeof highlightedIndex === 'number' && highlightedIndex >= 0 ? _this.getItemId(highlightedIndex) : null,\n          'aria-controls': isOpen ? _this.menuId : null,\n          'aria-labelledby': _this.labelId,\n          // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n          // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n          autoComplete: 'off',\n          value: inputValue,\n          id: _this.inputId\n        }, eventHandlers, rest);\n      };\n\n      _this.inputHandleKeyDown = function (event) {\n        var key = normalizeArrowKey(event);\n\n        if (key && _this.inputKeyDownHandlers[key]) {\n          _this.inputKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n        }\n      };\n\n      _this.inputHandleChange = function (event) {\n        _this.internalSetState({\n          type: changeInput,\n          isOpen: true,\n          inputValue: event.target.value,\n          highlightedIndex: _this.props.defaultHighlightedIndex\n        });\n      };\n\n      _this.inputHandleBlur = function () {\n        // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n        _this.internalSetTimeout(function () {\n          var downshiftButtonIsActive = _this.props.environment.document && !!_this.props.environment.document.activeElement && !!_this.props.environment.document.activeElement.dataset && _this.props.environment.document.activeElement.dataset.toggle && _this._rootNode && _this._rootNode.contains(_this.props.environment.document.activeElement);\n\n          if (!_this.isMouseDown && !downshiftButtonIsActive) {\n            _this.reset({\n              type: blurInput\n            });\n          }\n        });\n      };\n\n      _this.menuRef = function (node) {\n        _this._menuNode = node;\n      };\n\n      _this.getMenuProps = function (_temp5, _temp6) {\n        var _extends3;\n\n        var _ref5 = _temp5 === void 0 ? {} : _temp5,\n            _ref5$refKey = _ref5.refKey,\n            refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n            ref = _ref5.ref,\n            props = _objectWithoutPropertiesLoose(_ref5, _excluded4$1);\n\n        var _ref6 = _temp6 === void 0 ? {} : _temp6,\n            _ref6$suppressRefErro = _ref6.suppressRefError,\n            suppressRefError = _ref6$suppressRefErro === void 0 ? false : _ref6$suppressRefErro;\n\n        _this.getMenuProps.called = true;\n        _this.getMenuProps.refKey = refKey;\n        _this.getMenuProps.suppressRefError = suppressRefError;\n        return _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, _this.menuRef), _extends3.role = 'listbox', _extends3['aria-labelledby'] = props && props['aria-label'] ? null : _this.labelId, _extends3.id = _this.menuId, _extends3), props);\n      };\n\n      _this.getItemProps = function (_temp7) {\n        var _enabledEventHandlers;\n\n        var _ref7 = _temp7 === void 0 ? {} : _temp7,\n            onMouseMove = _ref7.onMouseMove,\n            onMouseDown = _ref7.onMouseDown,\n            onClick = _ref7.onClick;\n            _ref7.onPress;\n            var index = _ref7.index,\n            _ref7$item = _ref7.item,\n            item = _ref7$item === void 0 ? process.env.NODE_ENV === 'production' ?\n        /* istanbul ignore next */\n        undefined : requiredProp('getItemProps', 'item') : _ref7$item,\n            rest = _objectWithoutPropertiesLoose(_ref7, _excluded5$1);\n\n        if (index === undefined) {\n          _this.items.push(item);\n\n          index = _this.items.indexOf(item);\n        } else {\n          _this.items[index] = item;\n        }\n\n        var onSelectKey = 'onClick';\n        var customClickHandler = onClick;\n        var enabledEventHandlers = (_enabledEventHandlers = {\n          // onMouseMove is used over onMouseEnter here. onMouseMove\n          // is only triggered on actual mouse movement while onMouseEnter\n          // can fire on DOM changes, interrupting keyboard navigation\n          onMouseMove: callAllEventHandlers(onMouseMove, function () {\n            if (index === _this.getState().highlightedIndex) {\n              return;\n            }\n\n            _this.setHighlightedIndex(index, {\n              type: itemMouseEnter\n            }); // We never want to manually scroll when changing state based\n            // on `onMouseMove` because we will be moving the element out\n            // from under the user which is currently scrolling/moving the\n            // cursor\n\n\n            _this.avoidScrolling = true;\n\n            _this.internalSetTimeout(function () {\n              return _this.avoidScrolling = false;\n            }, 250);\n          }),\n          onMouseDown: callAllEventHandlers(onMouseDown, function (event) {\n            // This prevents the activeElement from being changed\n            // to the item so it can remain with the current activeElement\n            // which is a more common use case.\n            event.preventDefault();\n          })\n        }, _enabledEventHandlers[onSelectKey] = callAllEventHandlers(customClickHandler, function () {\n          _this.selectItemAtIndex(index, {\n            type: clickItem\n          });\n        }), _enabledEventHandlers); // Passing down the onMouseDown handler to prevent redirect\n        // of the activeElement if clicking on disabled items\n\n        var eventHandlers = rest.disabled ? {\n          onMouseDown: enabledEventHandlers.onMouseDown\n        } : enabledEventHandlers;\n        return _extends({\n          id: _this.getItemId(index),\n          role: 'option',\n          'aria-selected': _this.getState().highlightedIndex === index\n        }, eventHandlers, rest);\n      };\n\n      _this.clearItems = function () {\n        _this.items = [];\n      };\n\n      _this.reset = function (otherStateToSet, cb) {\n        if (otherStateToSet === void 0) {\n          otherStateToSet = {};\n        }\n\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(function (_ref8) {\n          var selectedItem = _ref8.selectedItem;\n          return _extends({\n            isOpen: _this.props.defaultIsOpen,\n            highlightedIndex: _this.props.defaultHighlightedIndex,\n            inputValue: _this.props.itemToString(selectedItem)\n          }, otherStateToSet);\n        }, cb);\n      };\n\n      _this.toggleMenu = function (otherStateToSet, cb) {\n        if (otherStateToSet === void 0) {\n          otherStateToSet = {};\n        }\n\n        otherStateToSet = pickState(otherStateToSet);\n\n        _this.internalSetState(function (_ref9) {\n          var isOpen = _ref9.isOpen;\n          return _extends({\n            isOpen: !isOpen\n          }, isOpen && {\n            highlightedIndex: _this.props.defaultHighlightedIndex\n          }, otherStateToSet);\n        }, function () {\n          var _this$getState7 = _this.getState(),\n              isOpen = _this$getState7.isOpen,\n              highlightedIndex = _this$getState7.highlightedIndex;\n\n          if (isOpen) {\n            if (_this.getItemCount() > 0 && typeof highlightedIndex === 'number') {\n              _this.setHighlightedIndex(highlightedIndex, otherStateToSet);\n            }\n          }\n\n          cbToCb(cb)();\n        });\n      };\n\n      _this.openMenu = function (cb) {\n        _this.internalSetState({\n          isOpen: true\n        }, cb);\n      };\n\n      _this.closeMenu = function (cb) {\n        _this.internalSetState({\n          isOpen: false\n        }, cb);\n      };\n\n      _this.updateStatus = debounce(function () {\n        var state = _this.getState();\n\n        var item = _this.items[state.highlightedIndex];\n\n        var resultCount = _this.getItemCount();\n\n        var status = _this.props.getA11yStatusMessage(_extends({\n          itemToString: _this.props.itemToString,\n          previousResultCount: _this.previousResultCount,\n          resultCount: resultCount,\n          highlightedItem: item\n        }, state));\n\n        _this.previousResultCount = resultCount;\n        setStatus(status, _this.props.environment.document);\n      }, 200);\n\n      var _this$props = _this.props,\n          defaultHighlightedIndex = _this$props.defaultHighlightedIndex,\n          _this$props$initialHi = _this$props.initialHighlightedIndex,\n          _highlightedIndex = _this$props$initialHi === void 0 ? defaultHighlightedIndex : _this$props$initialHi,\n          defaultIsOpen = _this$props.defaultIsOpen,\n          _this$props$initialIs = _this$props.initialIsOpen,\n          _isOpen = _this$props$initialIs === void 0 ? defaultIsOpen : _this$props$initialIs,\n          _this$props$initialIn = _this$props.initialInputValue,\n          _inputValue = _this$props$initialIn === void 0 ? '' : _this$props$initialIn,\n          _this$props$initialSe = _this$props.initialSelectedItem,\n          _selectedItem = _this$props$initialSe === void 0 ? null : _this$props$initialSe;\n\n      var _state = _this.getState({\n        highlightedIndex: _highlightedIndex,\n        isOpen: _isOpen,\n        inputValue: _inputValue,\n        selectedItem: _selectedItem\n      });\n\n      if (_state.selectedItem != null && _this.props.initialInputValue === undefined) {\n        _state.inputValue = _this.props.itemToString(_state.selectedItem);\n      }\n\n      _this.state = _state;\n      return _this;\n    }\n\n    var _proto = Downshift.prototype;\n\n    /**\n     * Clear all running timeouts\n     */\n    _proto.internalClearTimeouts = function internalClearTimeouts() {\n      this.timeoutIds.forEach(function (id) {\n        clearTimeout(id);\n      });\n      this.timeoutIds = [];\n    }\n    /**\n     * Gets the state based on internal state or props\n     * If a state value is passed via props, then that\n     * is the value given, otherwise it's retrieved from\n     * stateToMerge\n     *\n     * @param {Object} stateToMerge defaults to this.state\n     * @return {Object} the state\n     */\n    ;\n\n    _proto.getState = function getState$1(stateToMerge) {\n      if (stateToMerge === void 0) {\n        stateToMerge = this.state;\n      }\n\n      return getState(stateToMerge, this.props);\n    };\n\n    _proto.getItemCount = function getItemCount() {\n      // things read better this way. They're in priority order:\n      // 1. `this.itemCount`\n      // 2. `this.props.itemCount`\n      // 3. `this.items.length`\n      var itemCount = this.items.length;\n\n      if (this.itemCount != null) {\n        itemCount = this.itemCount;\n      } else if (this.props.itemCount !== undefined) {\n        itemCount = this.props.itemCount;\n      }\n\n      return itemCount;\n    };\n\n    _proto.getItemNodeFromIndex = function getItemNodeFromIndex(index) {\n      return this.props.environment.document.getElementById(this.getItemId(index));\n    };\n\n    _proto.scrollHighlightedItemIntoView = function scrollHighlightedItemIntoView() {\n      /* istanbul ignore else (react-native) */\n      {\n        var node = this.getItemNodeFromIndex(this.getState().highlightedIndex);\n        this.props.scrollIntoView(node, this._menuNode);\n      }\n    };\n\n    _proto.moveHighlightedIndex = function moveHighlightedIndex(amount, otherStateToSet) {\n      var _this6 = this;\n\n      var itemCount = this.getItemCount();\n\n      var _this$getState8 = this.getState(),\n          highlightedIndex = _this$getState8.highlightedIndex;\n\n      if (itemCount > 0) {\n        var nextHighlightedIndex = getNextWrappingIndex(amount, highlightedIndex, itemCount, function (index) {\n          return _this6.getItemNodeFromIndex(index);\n        });\n        this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet);\n      }\n    };\n\n    _proto.getStateAndHelpers = function getStateAndHelpers() {\n      var _this$getState9 = this.getState(),\n          highlightedIndex = _this$getState9.highlightedIndex,\n          inputValue = _this$getState9.inputValue,\n          selectedItem = _this$getState9.selectedItem,\n          isOpen = _this$getState9.isOpen;\n\n      var itemToString = this.props.itemToString;\n      var id = this.id;\n      var getRootProps = this.getRootProps,\n          getToggleButtonProps = this.getToggleButtonProps,\n          getLabelProps = this.getLabelProps,\n          getMenuProps = this.getMenuProps,\n          getInputProps = this.getInputProps,\n          getItemProps = this.getItemProps,\n          openMenu = this.openMenu,\n          closeMenu = this.closeMenu,\n          toggleMenu = this.toggleMenu,\n          selectItem = this.selectItem,\n          selectItemAtIndex = this.selectItemAtIndex,\n          selectHighlightedItem = this.selectHighlightedItem,\n          setHighlightedIndex = this.setHighlightedIndex,\n          clearSelection = this.clearSelection,\n          clearItems = this.clearItems,\n          reset = this.reset,\n          setItemCount = this.setItemCount,\n          unsetItemCount = this.unsetItemCount,\n          setState = this.internalSetState;\n      return {\n        // prop getters\n        getRootProps: getRootProps,\n        getToggleButtonProps: getToggleButtonProps,\n        getLabelProps: getLabelProps,\n        getMenuProps: getMenuProps,\n        getInputProps: getInputProps,\n        getItemProps: getItemProps,\n        // actions\n        reset: reset,\n        openMenu: openMenu,\n        closeMenu: closeMenu,\n        toggleMenu: toggleMenu,\n        selectItem: selectItem,\n        selectItemAtIndex: selectItemAtIndex,\n        selectHighlightedItem: selectHighlightedItem,\n        setHighlightedIndex: setHighlightedIndex,\n        clearSelection: clearSelection,\n        clearItems: clearItems,\n        setItemCount: setItemCount,\n        unsetItemCount: unsetItemCount,\n        setState: setState,\n        // props\n        itemToString: itemToString,\n        // derived\n        id: id,\n        // state\n        highlightedIndex: highlightedIndex,\n        inputValue: inputValue,\n        isOpen: isOpen,\n        selectedItem: selectedItem\n      };\n    } //////////////////////////// ROOT\n    ;\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this7 = this;\n\n      /* istanbul ignore if (react-native) */\n      if (process.env.NODE_ENV !== 'production' && !false && this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n        validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n      }\n      /* istanbul ignore if (react-native) */\n\n\n      {\n        // this.isMouseDown helps us track whether the mouse is currently held down.\n        // This is useful when the user clicks on an item in the list, but holds the mouse\n        // down long enough for the list to disappear (because the blur event fires on the input)\n        // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n        // trigger hiding the menu.\n        var onMouseDown = function onMouseDown() {\n          _this7.isMouseDown = true;\n        };\n\n        var onMouseUp = function onMouseUp(event) {\n          _this7.isMouseDown = false; // if the target element or the activeElement is within a downshift node\n          // then we don't want to reset downshift\n\n          var contextWithinDownshift = targetWithinDownshift(event.target, [_this7._rootNode, _this7._menuNode], _this7.props.environment);\n\n          if (!contextWithinDownshift && _this7.getState().isOpen) {\n            _this7.reset({\n              type: mouseUp\n            }, function () {\n              return _this7.props.onOuterClick(_this7.getStateAndHelpers());\n            });\n          }\n        }; // Touching an element in iOS gives focus and hover states, but touching out of\n        // the element will remove hover, and persist the focus state, resulting in the\n        // blur event not being triggered.\n        // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n        // If the user taps outside of Downshift, the component should be reset,\n        // but not if the user is swiping\n\n\n        var onTouchStart = function onTouchStart() {\n          _this7.isTouchMove = false;\n        };\n\n        var onTouchMove = function onTouchMove() {\n          _this7.isTouchMove = true;\n        };\n\n        var onTouchEnd = function onTouchEnd(event) {\n          var contextWithinDownshift = targetWithinDownshift(event.target, [_this7._rootNode, _this7._menuNode], _this7.props.environment, false);\n\n          if (!_this7.isTouchMove && !contextWithinDownshift && _this7.getState().isOpen) {\n            _this7.reset({\n              type: touchEnd\n            }, function () {\n              return _this7.props.onOuterClick(_this7.getStateAndHelpers());\n            });\n          }\n        };\n\n        var environment = this.props.environment;\n        environment.addEventListener('mousedown', onMouseDown);\n        environment.addEventListener('mouseup', onMouseUp);\n        environment.addEventListener('touchstart', onTouchStart);\n        environment.addEventListener('touchmove', onTouchMove);\n        environment.addEventListener('touchend', onTouchEnd);\n\n        this.cleanup = function () {\n          _this7.internalClearTimeouts();\n\n          _this7.updateStatus.cancel();\n\n          environment.removeEventListener('mousedown', onMouseDown);\n          environment.removeEventListener('mouseup', onMouseUp);\n          environment.removeEventListener('touchstart', onTouchStart);\n          environment.removeEventListener('touchmove', onTouchMove);\n          environment.removeEventListener('touchend', onTouchEnd);\n        };\n      }\n    };\n\n    _proto.shouldScroll = function shouldScroll(prevState, prevProps) {\n      var _ref10 = this.props.highlightedIndex === undefined ? this.getState() : this.props,\n          currentHighlightedIndex = _ref10.highlightedIndex;\n\n      var _ref11 = prevProps.highlightedIndex === undefined ? prevState : prevProps,\n          prevHighlightedIndex = _ref11.highlightedIndex;\n\n      var scrollWhenOpen = currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen;\n      var scrollWhenNavigating = currentHighlightedIndex !== prevHighlightedIndex;\n      return scrollWhenOpen || scrollWhenNavigating;\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n      if (process.env.NODE_ENV !== 'production') {\n        validateControlledUnchanged(this.state, prevProps, this.props);\n        /* istanbul ignore if (react-native) */\n\n        if (this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n          validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n        }\n      }\n\n      if (isControlledProp(this.props, 'selectedItem') && this.props.selectedItemChanged(prevProps.selectedItem, this.props.selectedItem)) {\n        this.internalSetState({\n          type: controlledPropUpdatedSelectedItem,\n          inputValue: this.props.itemToString(this.props.selectedItem)\n        });\n      }\n\n      if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n        this.scrollHighlightedItemIntoView();\n      }\n      /* istanbul ignore else (react-native) */\n\n\n      {\n        this.updateStatus();\n      }\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.cleanup(); // avoids memory leak\n    };\n\n    _proto.render = function render() {\n      var children = unwrapArray(this.props.children, noop); // because the items are rerendered every time we call the children\n      // we clear this out each render and it will be populated again as\n      // getItemProps is called.\n\n      this.clearItems(); // we reset this so we know whether the user calls getRootProps during\n      // this render. If they do then we don't need to do anything,\n      // if they don't then we need to clone the element they return and\n      // apply the props for them.\n\n      this.getRootProps.called = false;\n      this.getRootProps.refKey = undefined;\n      this.getRootProps.suppressRefError = undefined; // we do something similar for getMenuProps\n\n      this.getMenuProps.called = false;\n      this.getMenuProps.refKey = undefined;\n      this.getMenuProps.suppressRefError = undefined; // we do something similar for getLabelProps\n\n      this.getLabelProps.called = false; // and something similar for getInputProps\n\n      this.getInputProps.called = false;\n      var element = unwrapArray(children(this.getStateAndHelpers()));\n\n      if (!element) {\n        return null;\n      }\n\n      if (this.getRootProps.called || this.props.suppressRefError) {\n        if (process.env.NODE_ENV !== 'production' && !this.getRootProps.suppressRefError && !this.props.suppressRefError) {\n          validateGetRootPropsCalledCorrectly(element, this.getRootProps);\n        }\n\n        return element;\n      } else if (isDOMElement(element)) {\n        // they didn't apply the root props, but we can clone\n        // this and apply the props ourselves\n        return /*#__PURE__*/cloneElement(element, this.getRootProps(getElementProps(element)));\n      }\n      /* istanbul ignore else */\n\n\n      if (process.env.NODE_ENV !== 'production') {\n        // they didn't apply the root props, but they need to\n        // otherwise we can't query around the autocomplete\n        throw new Error('downshift: If you return a non-DOM element, you must apply the getRootProps function');\n      }\n      /* istanbul ignore next */\n\n\n      return undefined;\n    };\n\n    return Downshift;\n  }(Component);\n\n  Downshift.defaultProps = {\n    defaultHighlightedIndex: null,\n    defaultIsOpen: false,\n    getA11yStatusMessage: getA11yStatusMessage$1,\n    itemToString: function itemToString(i) {\n      if (i == null) {\n        return '';\n      }\n\n      if (process.env.NODE_ENV !== 'production' && isPlainObject(i) && !i.hasOwnProperty('toString')) {\n        // eslint-disable-next-line no-console\n        console.warn('downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.', 'The object that was passed:', i);\n      }\n\n      return String(i);\n    },\n    onStateChange: noop,\n    onInputValueChange: noop,\n    onUserAction: noop,\n    onChange: noop,\n    onSelect: noop,\n    onOuterClick: noop,\n    selectedItemChanged: function selectedItemChanged(prevItem, item) {\n      return prevItem !== item;\n    },\n    environment:\n    /* istanbul ignore next (ssr) */\n    typeof window === 'undefined' ? {} : window,\n    stateReducer: function stateReducer(state, stateToSet) {\n      return stateToSet;\n    },\n    suppressRefError: false,\n    scrollIntoView: scrollIntoView\n  };\n  Downshift.stateChangeTypes = stateChangeTypes$3;\n  return Downshift;\n}();\n\nprocess.env.NODE_ENV !== \"production\" ? Downshift.propTypes = {\n  children: PropTypes.func,\n  defaultHighlightedIndex: PropTypes.number,\n  defaultIsOpen: PropTypes.bool,\n  initialHighlightedIndex: PropTypes.number,\n  initialSelectedItem: PropTypes.any,\n  initialInputValue: PropTypes.string,\n  initialIsOpen: PropTypes.bool,\n  getA11yStatusMessage: PropTypes.func,\n  itemToString: PropTypes.func,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  onUserAction: PropTypes.func,\n  onOuterClick: PropTypes.func,\n  selectedItemChanged: PropTypes.func,\n  stateReducer: PropTypes.func,\n  itemCount: PropTypes.number,\n  id: PropTypes.string,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  }),\n  suppressRefError: PropTypes.bool,\n  scrollIntoView: PropTypes.func,\n  // things we keep in state for uncontrolled components\n  // but can accept as props for controlled components\n\n  /* eslint-disable react/no-unused-prop-types */\n  selectedItem: PropTypes.any,\n  isOpen: PropTypes.bool,\n  inputValue: PropTypes.string,\n  highlightedIndex: PropTypes.number,\n  labelId: PropTypes.string,\n  inputId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func\n  /* eslint-enable react/no-unused-prop-types */\n\n} : void 0;\nvar Downshift$1 = Downshift;\n\nfunction validateGetMenuPropsCalledCorrectly(node, _ref12) {\n  var refKey = _ref12.refKey;\n\n  if (!node) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: The ref prop \\\"\" + refKey + \"\\\" from getMenuProps was not applied correctly on your menu element.\");\n  }\n}\n\nfunction validateGetRootPropsCalledCorrectly(element, _ref13) {\n  var refKey = _ref13.refKey;\n  var refKeySpecified = refKey !== 'ref';\n  var isComposite = !isDOMElement(element);\n\n  if (isComposite && !refKeySpecified && !isForwardRef(element)) {\n    // eslint-disable-next-line no-console\n    console.error('downshift: You returned a non-DOM element. You must specify a refKey in getRootProps');\n  } else if (!isComposite && refKeySpecified) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \\\"\" + refKey + \"\\\"\");\n  }\n\n  if (!isForwardRef(element) && !getElementProps(element)[refKey]) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You must apply the ref prop \\\"\" + refKey + \"\\\" from getRootProps onto your root element.\");\n  }\n}\n\nvar _excluded$3 = [\"isInitialMount\", \"highlightedIndex\", \"items\", \"environment\"];\nvar dropdownDefaultStateValues = {\n  highlightedIndex: -1,\n  isOpen: false,\n  selectedItem: null,\n  inputValue: ''\n};\n\nfunction callOnChangeProps(action, state, newState) {\n  var props = action.props,\n      type = action.type;\n  var changes = {};\n  Object.keys(state).forEach(function (key) {\n    invokeOnChangeHandler(key, action, state, newState);\n\n    if (newState[key] !== state[key]) {\n      changes[key] = newState[key];\n    }\n  });\n\n  if (props.onStateChange && Object.keys(changes).length) {\n    props.onStateChange(_extends({\n      type: type\n    }, changes));\n  }\n}\n\nfunction invokeOnChangeHandler(key, action, state, newState) {\n  var props = action.props,\n      type = action.type;\n  var handler = \"on\" + capitalizeString(key) + \"Change\";\n\n  if (props[handler] && newState[key] !== undefined && newState[key] !== state[key]) {\n    props[handler](_extends({\n      type: type\n    }, newState));\n  }\n}\n/**\n * Default state reducer that returns the changes.\n *\n * @param {Object} s state.\n * @param {Object} a action with changes.\n * @returns {Object} changes.\n */\n\n\nfunction stateReducer(s, a) {\n  return a.changes;\n}\n/**\n * Returns a message to be added to aria-live region when item is selected.\n *\n * @param {Object} selectionParameters Parameters required to build the message.\n * @returns {string} The a11y message.\n */\n\n\nfunction getA11ySelectionMessage(selectionParameters) {\n  var selectedItem = selectionParameters.selectedItem,\n      itemToStringLocal = selectionParameters.itemToString;\n  return selectedItem ? itemToStringLocal(selectedItem) + \" has been selected.\" : '';\n}\n/**\n * Debounced call for updating the a11y message.\n */\n\n\nvar updateA11yStatus = debounce(function (getA11yMessage, document) {\n  setStatus(getA11yMessage(), document);\n}, 200); // istanbul ignore next\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction useElementIds(_ref) {\n  var _ref$id = _ref.id,\n      id = _ref$id === void 0 ? \"downshift-\" + generateId() : _ref$id,\n      labelId = _ref.labelId,\n      menuId = _ref.menuId,\n      getItemId = _ref.getItemId,\n      toggleButtonId = _ref.toggleButtonId,\n      inputId = _ref.inputId;\n  var elementIdsRef = useRef({\n    labelId: labelId || id + \"-label\",\n    menuId: menuId || id + \"-menu\",\n    getItemId: getItemId || function (index) {\n      return id + \"-item-\" + index;\n    },\n    toggleButtonId: toggleButtonId || id + \"-toggle-button\",\n    inputId: inputId || id + \"-input\"\n  });\n  return elementIdsRef.current;\n}\n\nfunction getItemIndex(index, item, items) {\n  if (index !== undefined) {\n    return index;\n  }\n\n  if (items.length === 0) {\n    return -1;\n  }\n\n  return items.indexOf(item);\n}\n\nfunction itemToString(item) {\n  return item ? String(item) : '';\n}\n\nfunction isAcceptedCharacterKey(key) {\n  return /^\\S{1}$/.test(key);\n}\n\nfunction capitalizeString(string) {\n  return \"\" + string.slice(0, 1).toUpperCase() + string.slice(1);\n}\n\nfunction useLatestRef(val) {\n  var ref = useRef(val); // technically this is not \"concurrent mode safe\" because we're manipulating\n  // the value during render (so it's not idempotent). However, the places this\n  // hook is used is to support memoizing callbacks which will be called\n  // *during* render, so we need the latest values *during* render.\n  // If not for this, then we'd probably want to use useLayoutEffect instead.\n\n  ref.current = val;\n  return ref;\n}\n/**\n * Computes the controlled state using a the previous state, props,\n * two reducers, one from downshift and an optional one from the user.\n * Also calls the onChange handlers for state values that have changed.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} initialState Initial state of the hook.\n * @param {Object} props The hook props.\n * @returns {Array} An array with the state and an action dispatcher.\n */\n\n\nfunction useEnhancedReducer(reducer, initialState, props) {\n  var prevStateRef = useRef();\n  var actionRef = useRef();\n  var enhancedReducer = useCallback(function (state, action) {\n    actionRef.current = action;\n    state = getState(state, action.props);\n    var changes = reducer(state, action);\n    var newState = action.props.stateReducer(state, _extends({}, action, {\n      changes: changes\n    }));\n    return newState;\n  }, [reducer]);\n\n  var _useReducer = useReducer(enhancedReducer, initialState),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var propsRef = useLatestRef(props);\n  var dispatchWithProps = useCallback(function (action) {\n    return dispatch(_extends({\n      props: propsRef.current\n    }, action));\n  }, [propsRef]);\n  var action = actionRef.current;\n  useEffect(function () {\n    if (action && prevStateRef.current && prevStateRef.current !== state) {\n      callOnChangeProps(action, getState(prevStateRef.current, action.props), state);\n    }\n\n    prevStateRef.current = state;\n  }, [state, props, action]);\n  return [state, dispatchWithProps];\n}\n/**\n * Wraps the useEnhancedReducer and applies the controlled prop values before\n * returning the new state.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} initialState Initial state of the hook.\n * @param {Object} props The hook props.\n * @returns {Array} An array with the state and an action dispatcher.\n */\n\n\nfunction useControlledReducer$1(reducer, initialState, props) {\n  var _useEnhancedReducer = useEnhancedReducer(reducer, initialState, props),\n      state = _useEnhancedReducer[0],\n      dispatch = _useEnhancedReducer[1];\n\n  return [getState(state, props), dispatch];\n}\n\nvar defaultProps$3 = {\n  itemToString: itemToString,\n  stateReducer: stateReducer,\n  getA11ySelectionMessage: getA11ySelectionMessage,\n  scrollIntoView: scrollIntoView,\n  circularNavigation: false,\n  environment:\n  /* istanbul ignore next (ssr) */\n  typeof window === 'undefined' ? {} : window\n};\n\nfunction getDefaultValue$1(props, propKey, defaultStateValues) {\n  if (defaultStateValues === void 0) {\n    defaultStateValues = dropdownDefaultStateValues;\n  }\n\n  var defaultPropKey = \"default\" + capitalizeString(propKey);\n\n  if (defaultPropKey in props) {\n    return props[defaultPropKey];\n  }\n\n  return defaultStateValues[propKey];\n}\n\nfunction getInitialValue$1(props, propKey, defaultStateValues) {\n  if (defaultStateValues === void 0) {\n    defaultStateValues = dropdownDefaultStateValues;\n  }\n\n  if (propKey in props) {\n    return props[propKey];\n  }\n\n  var initialPropKey = \"initial\" + capitalizeString(propKey);\n\n  if (initialPropKey in props) {\n    return props[initialPropKey];\n  }\n\n  return getDefaultValue$1(props, propKey, defaultStateValues);\n}\n\nfunction getInitialState$2(props) {\n  var selectedItem = getInitialValue$1(props, 'selectedItem');\n  var isOpen = getInitialValue$1(props, 'isOpen');\n  var highlightedIndex = getInitialValue$1(props, 'highlightedIndex');\n  var inputValue = getInitialValue$1(props, 'inputValue');\n  return {\n    highlightedIndex: highlightedIndex < 0 && selectedItem && isOpen ? props.items.indexOf(selectedItem) : highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem,\n    inputValue: inputValue\n  };\n}\n\nfunction getHighlightedIndexOnOpen(props, state, offset, getItemNodeFromIndex) {\n  var items = props.items,\n      initialHighlightedIndex = props.initialHighlightedIndex,\n      defaultHighlightedIndex = props.defaultHighlightedIndex;\n  var selectedItem = state.selectedItem,\n      highlightedIndex = state.highlightedIndex;\n\n  if (items.length === 0) {\n    return -1;\n  } // initialHighlightedIndex will give value to highlightedIndex on initial state only.\n\n\n  if (initialHighlightedIndex !== undefined && highlightedIndex === initialHighlightedIndex) {\n    return initialHighlightedIndex;\n  }\n\n  if (defaultHighlightedIndex !== undefined) {\n    return defaultHighlightedIndex;\n  }\n\n  if (selectedItem) {\n    if (offset === 0) {\n      return items.indexOf(selectedItem);\n    }\n\n    return getNextWrappingIndex(offset, items.indexOf(selectedItem), items.length, getItemNodeFromIndex, false);\n  }\n\n  if (offset === 0) {\n    return -1;\n  }\n\n  return offset < 0 ? items.length - 1 : 0;\n}\n/**\n * Reuse the movement tracking of mouse and touch events.\n *\n * @param {boolean} isOpen Whether the dropdown is open or not.\n * @param {Array<Object>} downshiftElementRefs Downshift element refs to track movement (toggleButton, menu etc.)\n * @param {Object} environment Environment where component/hook exists.\n * @param {Function} handleBlur Handler on blur from mouse or touch.\n * @returns {Object} Ref containing whether mouseDown or touchMove event is happening\n */\n\n\nfunction useMouseAndTouchTracker(isOpen, downshiftElementRefs, environment, handleBlur) {\n  var mouseAndTouchTrackersRef = useRef({\n    isMouseDown: false,\n    isTouchMove: false\n  });\n  useEffect(function () {\n    // The same strategy for checking if a click occurred inside or outside downsift\n    // as in downshift.js.\n    var onMouseDown = function onMouseDown() {\n      mouseAndTouchTrackersRef.current.isMouseDown = true;\n    };\n\n    var onMouseUp = function onMouseUp(event) {\n      mouseAndTouchTrackersRef.current.isMouseDown = false;\n\n      if (isOpen && !targetWithinDownshift(event.target, downshiftElementRefs.map(function (ref) {\n        return ref.current;\n      }), environment)) {\n        handleBlur();\n      }\n    };\n\n    var onTouchStart = function onTouchStart() {\n      mouseAndTouchTrackersRef.current.isTouchMove = false;\n    };\n\n    var onTouchMove = function onTouchMove() {\n      mouseAndTouchTrackersRef.current.isTouchMove = true;\n    };\n\n    var onTouchEnd = function onTouchEnd(event) {\n      if (isOpen && !mouseAndTouchTrackersRef.current.isTouchMove && !targetWithinDownshift(event.target, downshiftElementRefs.map(function (ref) {\n        return ref.current;\n      }), environment, false)) {\n        handleBlur();\n      }\n    };\n\n    environment.addEventListener('mousedown', onMouseDown);\n    environment.addEventListener('mouseup', onMouseUp);\n    environment.addEventListener('touchstart', onTouchStart);\n    environment.addEventListener('touchmove', onTouchMove);\n    environment.addEventListener('touchend', onTouchEnd);\n    return function cleanup() {\n      environment.removeEventListener('mousedown', onMouseDown);\n      environment.removeEventListener('mouseup', onMouseUp);\n      environment.removeEventListener('touchstart', onTouchStart);\n      environment.removeEventListener('touchmove', onTouchMove);\n      environment.removeEventListener('touchend', onTouchEnd);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, environment]);\n  return mouseAndTouchTrackersRef;\n}\n/* istanbul ignore next */\n// eslint-disable-next-line import/no-mutable-exports\n\n\nvar useGetterPropsCalledChecker = function useGetterPropsCalledChecker() {\n  return noop;\n};\n/**\n * Custom hook that checks if getter props are called correctly.\n *\n * @param  {...any} propKeys Getter prop names to be handled.\n * @returns {Function} Setter function called inside getter props to set call information.\n */\n\n/* istanbul ignore next */\n\n\nif (process.env.NODE_ENV !== 'production') {\n  useGetterPropsCalledChecker = function useGetterPropsCalledChecker() {\n    var isInitialMountRef = useRef(true);\n\n    for (var _len = arguments.length, propKeys = new Array(_len), _key = 0; _key < _len; _key++) {\n      propKeys[_key] = arguments[_key];\n    }\n\n    var getterPropsCalledRef = useRef(propKeys.reduce(function (acc, propKey) {\n      acc[propKey] = {};\n      return acc;\n    }, {}));\n    useEffect(function () {\n      Object.keys(getterPropsCalledRef.current).forEach(function (propKey) {\n        var propCallInfo = getterPropsCalledRef.current[propKey];\n\n        if (isInitialMountRef.current) {\n          if (!Object.keys(propCallInfo).length) {\n            // eslint-disable-next-line no-console\n            console.error(\"downshift: You forgot to call the \" + propKey + \" getter function on your component / element.\");\n            return;\n          }\n        }\n\n        var suppressRefError = propCallInfo.suppressRefError,\n            refKey = propCallInfo.refKey,\n            elementRef = propCallInfo.elementRef;\n\n        if ((!elementRef || !elementRef.current) && !suppressRefError) {\n          // eslint-disable-next-line no-console\n          console.error(\"downshift: The ref prop \\\"\" + refKey + \"\\\" from \" + propKey + \" was not applied correctly on your element.\");\n        }\n      });\n      isInitialMountRef.current = false;\n    });\n    var setGetterPropCallInfo = useCallback(function (propKey, suppressRefError, refKey, elementRef) {\n      getterPropsCalledRef.current[propKey] = {\n        suppressRefError: suppressRefError,\n        refKey: refKey,\n        elementRef: elementRef\n      };\n    }, []);\n    return setGetterPropCallInfo;\n  };\n}\n\nfunction useA11yMessageSetter(getA11yMessage, dependencyArray, _ref2) {\n  var isInitialMount = _ref2.isInitialMount,\n      highlightedIndex = _ref2.highlightedIndex,\n      items = _ref2.items,\n      environment = _ref2.environment,\n      rest = _objectWithoutPropertiesLoose(_ref2, _excluded$3);\n\n  // Sets a11y status message on changes in state.\n  useEffect(function () {\n    if (isInitialMount || false) {\n      return;\n    }\n\n    updateA11yStatus(function () {\n      return getA11yMessage(_extends({\n        highlightedIndex: highlightedIndex,\n        highlightedItem: items[highlightedIndex],\n        resultCount: items.length\n      }, rest));\n    }, environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencyArray);\n}\n\nfunction useScrollIntoView(_ref3) {\n  var highlightedIndex = _ref3.highlightedIndex,\n      isOpen = _ref3.isOpen,\n      itemRefs = _ref3.itemRefs,\n      getItemNodeFromIndex = _ref3.getItemNodeFromIndex,\n      menuElement = _ref3.menuElement,\n      scrollIntoViewProp = _ref3.scrollIntoView;\n  // used not to scroll on highlight by mouse.\n  var shouldScrollRef = useRef(true); // Scroll on highlighted item if change comes from keyboard.\n\n  useIsomorphicLayoutEffect(function () {\n    if (highlightedIndex < 0 || !isOpen || !Object.keys(itemRefs.current).length) {\n      return;\n    }\n\n    if (shouldScrollRef.current === false) {\n      shouldScrollRef.current = true;\n    } else {\n      scrollIntoViewProp(getItemNodeFromIndex(highlightedIndex), menuElement);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [highlightedIndex]);\n  return shouldScrollRef;\n} // eslint-disable-next-line import/no-mutable-exports\n\n\nvar useControlPropsValidator = noop;\n/* istanbul ignore next */\n\nif (process.env.NODE_ENV !== 'production') {\n  useControlPropsValidator = function useControlPropsValidator(_ref4) {\n    var isInitialMount = _ref4.isInitialMount,\n        props = _ref4.props,\n        state = _ref4.state;\n    // used for checking when props are moving from controlled to uncontrolled.\n    var prevPropsRef = useRef(props);\n    useEffect(function () {\n      if (isInitialMount) {\n        return;\n      }\n\n      validateControlledUnchanged(state, prevPropsRef.current, props);\n      prevPropsRef.current = props;\n    }, [state, props, isInitialMount]);\n  };\n}\n\n/* eslint-disable complexity */\n\nfunction downshiftCommonReducer(state, action, stateChangeTypes) {\n  var type = action.type,\n      props = action.props;\n  var changes;\n\n  switch (type) {\n    case stateChangeTypes.ItemMouseMove:\n      changes = {\n        highlightedIndex: action.index\n      };\n      break;\n\n    case stateChangeTypes.MenuMouseLeave:\n      changes = {\n        highlightedIndex: -1\n      };\n      break;\n\n    case stateChangeTypes.ToggleButtonClick:\n    case stateChangeTypes.FunctionToggleMenu:\n      changes = {\n        isOpen: !state.isOpen,\n        highlightedIndex: state.isOpen ? -1 : getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case stateChangeTypes.FunctionOpenMenu:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case stateChangeTypes.FunctionCloseMenu:\n      changes = {\n        isOpen: false\n      };\n      break;\n\n    case stateChangeTypes.FunctionSetHighlightedIndex:\n      changes = {\n        highlightedIndex: action.highlightedIndex\n      };\n      break;\n\n    case stateChangeTypes.FunctionSetInputValue:\n      changes = {\n        inputValue: action.inputValue\n      };\n      break;\n\n    case stateChangeTypes.FunctionReset:\n      changes = {\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex'),\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        selectedItem: getDefaultValue$1(props, 'selectedItem'),\n        inputValue: getDefaultValue$1(props, 'inputValue')\n      };\n      break;\n\n    default:\n      throw new Error('Reducer called without proper action type.');\n  }\n\n  return _extends({}, state, changes);\n}\n/* eslint-enable complexity */\n\nfunction getItemIndexByCharacterKey(_a) {\n    var keysSoFar = _a.keysSoFar, highlightedIndex = _a.highlightedIndex, items = _a.items, itemToString = _a.itemToString, getItemNodeFromIndex = _a.getItemNodeFromIndex;\n    var lowerCasedKeysSoFar = keysSoFar.toLowerCase();\n    for (var index = 0; index < items.length; index++) {\n        var offsetIndex = (index + highlightedIndex + 1) % items.length;\n        var item = items[offsetIndex];\n        if (item !== undefined &&\n            itemToString(item)\n                .toLowerCase()\n                .startsWith(lowerCasedKeysSoFar)) {\n            var element = getItemNodeFromIndex(offsetIndex);\n            if (!(element === null || element === void 0 ? void 0 : element.hasAttribute('disabled'))) {\n                return offsetIndex;\n            }\n        }\n    }\n    return highlightedIndex;\n}\nvar propTypes$2 = {\n    items: PropTypes.array.isRequired,\n    itemToString: PropTypes.func,\n    getA11yStatusMessage: PropTypes.func,\n    getA11ySelectionMessage: PropTypes.func,\n    circularNavigation: PropTypes.bool,\n    highlightedIndex: PropTypes.number,\n    defaultHighlightedIndex: PropTypes.number,\n    initialHighlightedIndex: PropTypes.number,\n    isOpen: PropTypes.bool,\n    defaultIsOpen: PropTypes.bool,\n    initialIsOpen: PropTypes.bool,\n    selectedItem: PropTypes.any,\n    initialSelectedItem: PropTypes.any,\n    defaultSelectedItem: PropTypes.any,\n    id: PropTypes.string,\n    labelId: PropTypes.string,\n    menuId: PropTypes.string,\n    getItemId: PropTypes.func,\n    toggleButtonId: PropTypes.string,\n    stateReducer: PropTypes.func,\n    onSelectedItemChange: PropTypes.func,\n    onHighlightedIndexChange: PropTypes.func,\n    onStateChange: PropTypes.func,\n    onIsOpenChange: PropTypes.func,\n    environment: PropTypes.shape({\n        addEventListener: PropTypes.func,\n        removeEventListener: PropTypes.func,\n        document: PropTypes.shape({\n            getElementById: PropTypes.func,\n            activeElement: PropTypes.any,\n            body: PropTypes.any\n        })\n    })\n};\n/**\n * Default implementation for status message. Only added when menu is open.\n * Will specift if there are results in the list, and if so, how many,\n * and what keys are relevant.\n *\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\nfunction getA11yStatusMessage(_a) {\n    var isOpen = _a.isOpen, resultCount = _a.resultCount, previousResultCount = _a.previousResultCount;\n    if (!isOpen) {\n        return '';\n    }\n    if (!resultCount) {\n        return 'No results are available.';\n    }\n    if (resultCount !== previousResultCount) {\n        return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select.\";\n    }\n    return '';\n}\nvar defaultProps$2 = __assign(__assign({}, defaultProps$3), { getA11yStatusMessage: getA11yStatusMessage });\n// eslint-disable-next-line import/no-mutable-exports\nvar validatePropTypes$2 = noop;\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n    validatePropTypes$2 = function (options, caller) {\n        PropTypes.checkPropTypes(propTypes$2, options, 'prop', caller.name);\n    };\n}\n\nvar MenuKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_arrow_down__' : 0;\nvar MenuKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_arrow_up__' : 1;\nvar MenuKeyDownEscape = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_escape__' : 2;\nvar MenuKeyDownHome = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_home__' : 3;\nvar MenuKeyDownEnd = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_end__' : 4;\nvar MenuKeyDownEnter = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_enter__' : 5;\nvar MenuKeyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_space_button__' : 6;\nvar MenuKeyDownCharacter = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_character__' : 7;\nvar MenuBlur = process.env.NODE_ENV !== \"production\" ? '__menu_blur__' : 8;\nvar MenuMouseLeave$1 = process.env.NODE_ENV !== \"production\" ? '__menu_mouse_leave__' : 9;\nvar ItemMouseMove$1 = process.env.NODE_ENV !== \"production\" ? '__item_mouse_move__' : 10;\nvar ItemClick$1 = process.env.NODE_ENV !== \"production\" ? '__item_click__' : 11;\nvar ToggleButtonClick$1 = process.env.NODE_ENV !== \"production\" ? '__togglebutton_click__' : 12;\nvar ToggleButtonKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_arrow_down__' : 13;\nvar ToggleButtonKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_arrow_up__' : 14;\nvar ToggleButtonKeyDownCharacter = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_character__' : 15;\nvar FunctionToggleMenu$1 = process.env.NODE_ENV !== \"production\" ? '__function_toggle_menu__' : 16;\nvar FunctionOpenMenu$1 = process.env.NODE_ENV !== \"production\" ? '__function_open_menu__' : 17;\nvar FunctionCloseMenu$1 = process.env.NODE_ENV !== \"production\" ? '__function_close_menu__' : 18;\nvar FunctionSetHighlightedIndex$1 = process.env.NODE_ENV !== \"production\" ? '__function_set_highlighted_index__' : 19;\nvar FunctionSelectItem$1 = process.env.NODE_ENV !== \"production\" ? '__function_select_item__' : 20;\nvar FunctionSetInputValue$1 = process.env.NODE_ENV !== \"production\" ? '__function_set_input_value__' : 21;\nvar FunctionReset$2 = process.env.NODE_ENV !== \"production\" ? '__function_reset__' : 22;\n\nvar stateChangeTypes$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  MenuKeyDownArrowDown: MenuKeyDownArrowDown,\n  MenuKeyDownArrowUp: MenuKeyDownArrowUp,\n  MenuKeyDownEscape: MenuKeyDownEscape,\n  MenuKeyDownHome: MenuKeyDownHome,\n  MenuKeyDownEnd: MenuKeyDownEnd,\n  MenuKeyDownEnter: MenuKeyDownEnter,\n  MenuKeyDownSpaceButton: MenuKeyDownSpaceButton,\n  MenuKeyDownCharacter: MenuKeyDownCharacter,\n  MenuBlur: MenuBlur,\n  MenuMouseLeave: MenuMouseLeave$1,\n  ItemMouseMove: ItemMouseMove$1,\n  ItemClick: ItemClick$1,\n  ToggleButtonClick: ToggleButtonClick$1,\n  ToggleButtonKeyDownArrowDown: ToggleButtonKeyDownArrowDown,\n  ToggleButtonKeyDownArrowUp: ToggleButtonKeyDownArrowUp,\n  ToggleButtonKeyDownCharacter: ToggleButtonKeyDownCharacter,\n  FunctionToggleMenu: FunctionToggleMenu$1,\n  FunctionOpenMenu: FunctionOpenMenu$1,\n  FunctionCloseMenu: FunctionCloseMenu$1,\n  FunctionSetHighlightedIndex: FunctionSetHighlightedIndex$1,\n  FunctionSelectItem: FunctionSelectItem$1,\n  FunctionSetInputValue: FunctionSetInputValue$1,\n  FunctionReset: FunctionReset$2\n});\n\n/* eslint-disable complexity */\n\nfunction downshiftSelectReducer(state, action) {\n  var type = action.type,\n      props = action.props,\n      shiftKey = action.shiftKey;\n  var changes;\n\n  switch (type) {\n    case ItemClick$1:\n      changes = {\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex'),\n        selectedItem: props.items[action.index]\n      };\n      break;\n\n    case ToggleButtonKeyDownCharacter:\n      {\n        var lowercasedKey = action.key;\n        var inputValue = \"\" + state.inputValue + lowercasedKey;\n        var itemIndex = getItemIndexByCharacterKey({\n          keysSoFar: inputValue,\n          highlightedIndex: state.selectedItem ? props.items.indexOf(state.selectedItem) : -1,\n          items: props.items,\n          itemToString: props.itemToString,\n          getItemNodeFromIndex: action.getItemNodeFromIndex\n        });\n        changes = _extends({\n          inputValue: inputValue\n        }, itemIndex >= 0 && {\n          selectedItem: props.items[itemIndex]\n        });\n      }\n      break;\n\n    case ToggleButtonKeyDownArrowDown:\n      changes = {\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, 1, action.getItemNodeFromIndex),\n        isOpen: true\n      };\n      break;\n\n    case ToggleButtonKeyDownArrowUp:\n      changes = {\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, -1, action.getItemNodeFromIndex),\n        isOpen: true\n      };\n      break;\n\n    case MenuKeyDownEnter:\n    case MenuKeyDownSpaceButton:\n      changes = _extends({\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex')\n      }, state.highlightedIndex >= 0 && {\n        selectedItem: props.items[state.highlightedIndex]\n      });\n      break;\n\n    case MenuKeyDownHome:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(1, 0, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case MenuKeyDownEnd:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(-1, props.items.length - 1, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case MenuKeyDownEscape:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1\n      };\n      break;\n\n    case MenuBlur:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1\n      };\n      break;\n\n    case MenuKeyDownCharacter:\n      {\n        var _lowercasedKey = action.key;\n\n        var _inputValue = \"\" + state.inputValue + _lowercasedKey;\n\n        var highlightedIndex = getItemIndexByCharacterKey({\n          keysSoFar: _inputValue,\n          highlightedIndex: state.highlightedIndex,\n          items: props.items,\n          itemToString: props.itemToString,\n          getItemNodeFromIndex: action.getItemNodeFromIndex\n        });\n        changes = _extends({\n          inputValue: _inputValue\n        }, highlightedIndex >= 0 && {\n          highlightedIndex: highlightedIndex\n        });\n      }\n      break;\n\n    case MenuKeyDownArrowDown:\n      changes = {\n        highlightedIndex: getNextWrappingIndex(shiftKey ? 5 : 1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n      };\n      break;\n\n    case MenuKeyDownArrowUp:\n      changes = {\n        highlightedIndex: getNextWrappingIndex(shiftKey ? -5 : -1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n      };\n      break;\n\n    case FunctionSelectItem$1:\n      changes = {\n        selectedItem: action.selectedItem\n      };\n      break;\n\n    default:\n      return downshiftCommonReducer(state, action, stateChangeTypes$2);\n  }\n\n  return _extends({}, state, changes);\n}\n/* eslint-enable complexity */\n\nvar _excluded$2 = [\"onMouseLeave\", \"refKey\", \"onKeyDown\", \"onBlur\", \"ref\"],\n    _excluded2$2 = [\"onClick\", \"onKeyDown\", \"refKey\", \"ref\"],\n    _excluded3$1 = [\"item\", \"index\", \"onMouseMove\", \"onClick\", \"refKey\", \"ref\"];\nuseSelect.stateChangeTypes = stateChangeTypes$2;\n\nfunction useSelect(userProps) {\n  if (userProps === void 0) {\n    userProps = {};\n  }\n\n  validatePropTypes$2(userProps, useSelect); // Props defaults and destructuring.\n\n  var props = _extends({}, defaultProps$2, userProps);\n\n  var items = props.items,\n      scrollIntoView = props.scrollIntoView,\n      environment = props.environment,\n      initialIsOpen = props.initialIsOpen,\n      defaultIsOpen = props.defaultIsOpen,\n      itemToString = props.itemToString,\n      getA11ySelectionMessage = props.getA11ySelectionMessage,\n      getA11yStatusMessage = props.getA11yStatusMessage; // Initial state depending on controlled props.\n\n  var initialState = getInitialState$2(props);\n\n  var _useControlledReducer = useControlledReducer$1(downshiftSelectReducer, initialState, props),\n      state = _useControlledReducer[0],\n      dispatch = _useControlledReducer[1];\n\n  var isOpen = state.isOpen,\n      highlightedIndex = state.highlightedIndex,\n      selectedItem = state.selectedItem,\n      inputValue = state.inputValue; // Element efs.\n\n  var toggleButtonRef = useRef(null);\n  var menuRef = useRef(null);\n  var itemRefs = useRef({}); // used not to trigger menu blur action in some scenarios.\n\n  var shouldBlurRef = useRef(true); // used to keep the inputValue clearTimeout object between renders.\n\n  var clearTimeoutRef = useRef(null); // prevent id re-generation between renders.\n\n  var elementIds = useElementIds(props); // used to keep track of how many items we had on previous cycle.\n\n  var previousResultCountRef = useRef();\n  var isInitialMountRef = useRef(true); // utility callback to get item element.\n\n  var latest = useLatestRef({\n    state: state,\n    props: props\n  }); // Some utils.\n\n  var getItemNodeFromIndex = useCallback(function (index) {\n    return itemRefs.current[elementIds.getItemId(index)];\n  }, [elementIds]); // Effects.\n  // Sets a11y status message on changes in state.\n\n  useA11yMessageSetter(getA11yStatusMessage, [isOpen, highlightedIndex, inputValue, items], _extends({\n    isInitialMount: isInitialMountRef.current,\n    previousResultCount: previousResultCountRef.current,\n    items: items,\n    environment: environment,\n    itemToString: itemToString\n  }, state)); // Sets a11y status message on changes in selectedItem.\n\n  useA11yMessageSetter(getA11ySelectionMessage, [selectedItem], _extends({\n    isInitialMount: isInitialMountRef.current,\n    previousResultCount: previousResultCountRef.current,\n    items: items,\n    environment: environment,\n    itemToString: itemToString\n  }, state)); // Scroll on highlighted item if change comes from keyboard.\n\n  var shouldScrollRef = useScrollIntoView({\n    menuElement: menuRef.current,\n    highlightedIndex: highlightedIndex,\n    isOpen: isOpen,\n    itemRefs: itemRefs,\n    scrollIntoView: scrollIntoView,\n    getItemNodeFromIndex: getItemNodeFromIndex\n  }); // Sets cleanup for the keysSoFar callback, debounded after 500ms.\n\n  useEffect(function () {\n    // init the clean function here as we need access to dispatch.\n    clearTimeoutRef.current = debounce(function (outerDispatch) {\n      outerDispatch({\n        type: FunctionSetInputValue$1,\n        inputValue: ''\n      });\n    }, 500); // Cancel any pending debounced calls on mount\n\n    return function () {\n      clearTimeoutRef.current.cancel();\n    };\n  }, []); // Invokes the keysSoFar callback set up above.\n\n  useEffect(function () {\n    if (!inputValue) {\n      return;\n    }\n\n    clearTimeoutRef.current(dispatch);\n  }, [dispatch, inputValue]);\n  useControlPropsValidator({\n    isInitialMount: isInitialMountRef.current,\n    props: props,\n    state: state\n  });\n  /* Controls the focus on the menu or the toggle button. */\n\n  useEffect(function () {\n    // Don't focus menu on first render.\n    if (isInitialMountRef.current) {\n      // Unless it was initialised as open.\n      if ((initialIsOpen || defaultIsOpen || isOpen) && menuRef.current) {\n        menuRef.current.focus();\n      }\n\n      return;\n    } // Focus menu on open.\n\n\n    if (isOpen) {\n      // istanbul ignore else\n      if (menuRef.current) {\n        menuRef.current.focus();\n      }\n\n      return;\n    } // Focus toggleButton on close, but not if it was closed with (Shift+)Tab.\n\n\n    if (environment.document.activeElement === menuRef.current) {\n      // istanbul ignore else\n      if (toggleButtonRef.current) {\n        shouldBlurRef.current = false;\n        toggleButtonRef.current.focus();\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [isOpen]);\n  useEffect(function () {\n    if (isInitialMountRef.current) {\n      return;\n    }\n\n    previousResultCountRef.current = items.length;\n  }); // Add mouse/touch events to document.\n\n  var mouseAndTouchTrackersRef = useMouseAndTouchTracker(isOpen, [menuRef, toggleButtonRef], environment, function () {\n    dispatch({\n      type: MenuBlur\n    });\n  });\n  var setGetterPropCallInfo = useGetterPropsCalledChecker('getMenuProps', 'getToggleButtonProps'); // Make initial ref false.\n\n  useEffect(function () {\n    isInitialMountRef.current = false;\n  }, []); // Reset itemRefs on close.\n\n  useEffect(function () {\n    if (!isOpen) {\n      itemRefs.current = {};\n    }\n  }, [isOpen]); // Event handler functions.\n\n  var toggleButtonKeyDownHandlers = useMemo(function () {\n    return {\n      ArrowDown: function ArrowDown(event) {\n        event.preventDefault();\n        dispatch({\n          type: ToggleButtonKeyDownArrowDown,\n          getItemNodeFromIndex: getItemNodeFromIndex,\n          shiftKey: event.shiftKey\n        });\n      },\n      ArrowUp: function ArrowUp(event) {\n        event.preventDefault();\n        dispatch({\n          type: ToggleButtonKeyDownArrowUp,\n          getItemNodeFromIndex: getItemNodeFromIndex,\n          shiftKey: event.shiftKey\n        });\n      }\n    };\n  }, [dispatch, getItemNodeFromIndex]);\n  var menuKeyDownHandlers = useMemo(function () {\n    return {\n      ArrowDown: function ArrowDown(event) {\n        event.preventDefault();\n        dispatch({\n          type: MenuKeyDownArrowDown,\n          getItemNodeFromIndex: getItemNodeFromIndex,\n          shiftKey: event.shiftKey\n        });\n      },\n      ArrowUp: function ArrowUp(event) {\n        event.preventDefault();\n        dispatch({\n          type: MenuKeyDownArrowUp,\n          getItemNodeFromIndex: getItemNodeFromIndex,\n          shiftKey: event.shiftKey\n        });\n      },\n      Home: function Home(event) {\n        event.preventDefault();\n        dispatch({\n          type: MenuKeyDownHome,\n          getItemNodeFromIndex: getItemNodeFromIndex\n        });\n      },\n      End: function End(event) {\n        event.preventDefault();\n        dispatch({\n          type: MenuKeyDownEnd,\n          getItemNodeFromIndex: getItemNodeFromIndex\n        });\n      },\n      Escape: function Escape() {\n        dispatch({\n          type: MenuKeyDownEscape\n        });\n      },\n      Enter: function Enter(event) {\n        event.preventDefault();\n        dispatch({\n          type: MenuKeyDownEnter\n        });\n      },\n      ' ': function _(event) {\n        event.preventDefault();\n        dispatch({\n          type: MenuKeyDownSpaceButton\n        });\n      }\n    };\n  }, [dispatch, getItemNodeFromIndex]); // Action functions.\n\n  var toggleMenu = useCallback(function () {\n    dispatch({\n      type: FunctionToggleMenu$1\n    });\n  }, [dispatch]);\n  var closeMenu = useCallback(function () {\n    dispatch({\n      type: FunctionCloseMenu$1\n    });\n  }, [dispatch]);\n  var openMenu = useCallback(function () {\n    dispatch({\n      type: FunctionOpenMenu$1\n    });\n  }, [dispatch]);\n  var setHighlightedIndex = useCallback(function (newHighlightedIndex) {\n    dispatch({\n      type: FunctionSetHighlightedIndex$1,\n      highlightedIndex: newHighlightedIndex\n    });\n  }, [dispatch]);\n  var selectItem = useCallback(function (newSelectedItem) {\n    dispatch({\n      type: FunctionSelectItem$1,\n      selectedItem: newSelectedItem\n    });\n  }, [dispatch]);\n  var reset = useCallback(function () {\n    dispatch({\n      type: FunctionReset$2\n    });\n  }, [dispatch]);\n  var setInputValue = useCallback(function (newInputValue) {\n    dispatch({\n      type: FunctionSetInputValue$1,\n      inputValue: newInputValue\n    });\n  }, [dispatch]); // Getter functions.\n\n  var getLabelProps = useCallback(function (labelProps) {\n    return _extends({\n      id: elementIds.labelId,\n      htmlFor: elementIds.toggleButtonId\n    }, labelProps);\n  }, [elementIds]);\n  var getMenuProps = useCallback(function (_temp, _temp2) {\n    var _extends2;\n\n    var _ref = _temp === void 0 ? {} : _temp,\n        onMouseLeave = _ref.onMouseLeave,\n        _ref$refKey = _ref.refKey,\n        refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n        onKeyDown = _ref.onKeyDown,\n        onBlur = _ref.onBlur,\n        ref = _ref.ref,\n        rest = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n    var _ref2 = _temp2 === void 0 ? {} : _temp2,\n        _ref2$suppressRefErro = _ref2.suppressRefError,\n        suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n\n    var latestState = latest.current.state;\n\n    var menuHandleKeyDown = function menuHandleKeyDown(event) {\n      var key = normalizeArrowKey(event);\n\n      if (key && menuKeyDownHandlers[key]) {\n        menuKeyDownHandlers[key](event);\n      } else if (isAcceptedCharacterKey(key)) {\n        dispatch({\n          type: MenuKeyDownCharacter,\n          key: key,\n          getItemNodeFromIndex: getItemNodeFromIndex\n        });\n      }\n    };\n\n    var menuHandleBlur = function menuHandleBlur() {\n      // if the blur was a result of selection, we don't trigger this action.\n      if (shouldBlurRef.current === false) {\n        shouldBlurRef.current = true;\n        return;\n      }\n\n      var shouldBlur = !mouseAndTouchTrackersRef.current.isMouseDown;\n      /* istanbul ignore else */\n\n      if (shouldBlur) {\n        dispatch({\n          type: MenuBlur\n        });\n      }\n    };\n\n    var menuHandleMouseLeave = function menuHandleMouseLeave() {\n      dispatch({\n        type: MenuMouseLeave$1\n      });\n    };\n\n    setGetterPropCallInfo('getMenuProps', suppressRefError, refKey, menuRef);\n    return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function (menuNode) {\n      menuRef.current = menuNode;\n    }), _extends2.id = elementIds.menuId, _extends2.role = 'listbox', _extends2['aria-labelledby'] = elementIds.labelId, _extends2.tabIndex = -1, _extends2), latestState.isOpen && latestState.highlightedIndex > -1 && {\n      'aria-activedescendant': elementIds.getItemId(latestState.highlightedIndex)\n    }, {\n      onMouseLeave: callAllEventHandlers(onMouseLeave, menuHandleMouseLeave),\n      onKeyDown: callAllEventHandlers(onKeyDown, menuHandleKeyDown),\n      onBlur: callAllEventHandlers(onBlur, menuHandleBlur)\n    }, rest);\n  }, [dispatch, latest, menuKeyDownHandlers, mouseAndTouchTrackersRef, setGetterPropCallInfo, elementIds, getItemNodeFromIndex]);\n  var getToggleButtonProps = useCallback(function (_temp3, _temp4) {\n    var _extends3;\n\n    var _ref3 = _temp3 === void 0 ? {} : _temp3,\n        onClick = _ref3.onClick,\n        onKeyDown = _ref3.onKeyDown,\n        _ref3$refKey = _ref3.refKey,\n        refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n        ref = _ref3.ref,\n        rest = _objectWithoutPropertiesLoose(_ref3, _excluded2$2);\n\n    var _ref4 = _temp4 === void 0 ? {} : _temp4,\n        _ref4$suppressRefErro = _ref4.suppressRefError,\n        suppressRefError = _ref4$suppressRefErro === void 0 ? false : _ref4$suppressRefErro;\n\n    var toggleButtonHandleClick = function toggleButtonHandleClick() {\n      dispatch({\n        type: ToggleButtonClick$1\n      });\n    };\n\n    var toggleButtonHandleKeyDown = function toggleButtonHandleKeyDown(event) {\n      var key = normalizeArrowKey(event);\n\n      if (key && toggleButtonKeyDownHandlers[key]) {\n        toggleButtonKeyDownHandlers[key](event);\n      } else if (isAcceptedCharacterKey(key)) {\n        dispatch({\n          type: ToggleButtonKeyDownCharacter,\n          key: key,\n          getItemNodeFromIndex: getItemNodeFromIndex\n        });\n      }\n    };\n\n    var toggleProps = _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function (toggleButtonNode) {\n      toggleButtonRef.current = toggleButtonNode;\n    }), _extends3.id = elementIds.toggleButtonId, _extends3['aria-haspopup'] = 'listbox', _extends3['aria-expanded'] = latest.current.state.isOpen, _extends3['aria-labelledby'] = elementIds.labelId + \" \" + elementIds.toggleButtonId, _extends3), rest);\n\n    if (!rest.disabled) {\n      toggleProps.onClick = callAllEventHandlers(onClick, toggleButtonHandleClick);\n      toggleProps.onKeyDown = callAllEventHandlers(onKeyDown, toggleButtonHandleKeyDown);\n    }\n\n    setGetterPropCallInfo('getToggleButtonProps', suppressRefError, refKey, toggleButtonRef);\n    return toggleProps;\n  }, [dispatch, latest, toggleButtonKeyDownHandlers, setGetterPropCallInfo, elementIds, getItemNodeFromIndex]);\n  var getItemProps = useCallback(function (_temp5) {\n    var _extends4;\n\n    var _ref5 = _temp5 === void 0 ? {} : _temp5,\n        item = _ref5.item,\n        index = _ref5.index,\n        onMouseMove = _ref5.onMouseMove,\n        onClick = _ref5.onClick,\n        _ref5$refKey = _ref5.refKey,\n        refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n        ref = _ref5.ref,\n        rest = _objectWithoutPropertiesLoose(_ref5, _excluded3$1);\n\n    var _latest$current = latest.current,\n        latestState = _latest$current.state,\n        latestProps = _latest$current.props;\n\n    var itemHandleMouseMove = function itemHandleMouseMove() {\n      if (index === latestState.highlightedIndex) {\n        return;\n      }\n\n      shouldScrollRef.current = false;\n      dispatch({\n        type: ItemMouseMove$1,\n        index: index\n      });\n    };\n\n    var itemHandleClick = function itemHandleClick() {\n      dispatch({\n        type: ItemClick$1,\n        index: index\n      });\n    };\n\n    var itemIndex = getItemIndex(index, item, latestProps.items);\n\n    if (itemIndex < 0) {\n      throw new Error('Pass either item or item index in getItemProps!');\n    }\n\n    var itemProps = _extends((_extends4 = {\n      role: 'option',\n      'aria-selected': \"\" + (itemIndex === latestState.highlightedIndex),\n      id: elementIds.getItemId(itemIndex)\n    }, _extends4[refKey] = handleRefs(ref, function (itemNode) {\n      if (itemNode) {\n        itemRefs.current[elementIds.getItemId(itemIndex)] = itemNode;\n      }\n    }), _extends4), rest);\n\n    if (!rest.disabled) {\n      itemProps.onMouseMove = callAllEventHandlers(onMouseMove, itemHandleMouseMove);\n      itemProps.onClick = callAllEventHandlers(onClick, itemHandleClick);\n    }\n\n    return itemProps;\n  }, [dispatch, latest, shouldScrollRef, elementIds]);\n  return {\n    // prop getters.\n    getToggleButtonProps: getToggleButtonProps,\n    getLabelProps: getLabelProps,\n    getMenuProps: getMenuProps,\n    getItemProps: getItemProps,\n    // actions.\n    toggleMenu: toggleMenu,\n    openMenu: openMenu,\n    closeMenu: closeMenu,\n    setHighlightedIndex: setHighlightedIndex,\n    selectItem: selectItem,\n    reset: reset,\n    setInputValue: setInputValue,\n    // state.\n    highlightedIndex: highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem,\n    inputValue: inputValue\n  };\n}\n\nvar InputKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__input_keydown_arrow_down__' : 0;\nvar InputKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__input_keydown_arrow_up__' : 1;\nvar InputKeyDownEscape = process.env.NODE_ENV !== \"production\" ? '__input_keydown_escape__' : 2;\nvar InputKeyDownHome = process.env.NODE_ENV !== \"production\" ? '__input_keydown_home__' : 3;\nvar InputKeyDownEnd = process.env.NODE_ENV !== \"production\" ? '__input_keydown_end__' : 4;\nvar InputKeyDownEnter = process.env.NODE_ENV !== \"production\" ? '__input_keydown_enter__' : 5;\nvar InputChange = process.env.NODE_ENV !== \"production\" ? '__input_change__' : 6;\nvar InputBlur = process.env.NODE_ENV !== \"production\" ? '__input_blur__' : 7;\nvar MenuMouseLeave = process.env.NODE_ENV !== \"production\" ? '__menu_mouse_leave__' : 8;\nvar ItemMouseMove = process.env.NODE_ENV !== \"production\" ? '__item_mouse_move__' : 9;\nvar ItemClick = process.env.NODE_ENV !== \"production\" ? '__item_click__' : 10;\nvar ToggleButtonClick = process.env.NODE_ENV !== \"production\" ? '__togglebutton_click__' : 11;\nvar FunctionToggleMenu = process.env.NODE_ENV !== \"production\" ? '__function_toggle_menu__' : 12;\nvar FunctionOpenMenu = process.env.NODE_ENV !== \"production\" ? '__function_open_menu__' : 13;\nvar FunctionCloseMenu = process.env.NODE_ENV !== \"production\" ? '__function_close_menu__' : 14;\nvar FunctionSetHighlightedIndex = process.env.NODE_ENV !== \"production\" ? '__function_set_highlighted_index__' : 15;\nvar FunctionSelectItem = process.env.NODE_ENV !== \"production\" ? '__function_select_item__' : 16;\nvar FunctionSetInputValue = process.env.NODE_ENV !== \"production\" ? '__function_set_input_value__' : 17;\nvar FunctionReset$1 = process.env.NODE_ENV !== \"production\" ? '__function_reset__' : 18;\nvar ControlledPropUpdatedSelectedItem = process.env.NODE_ENV !== \"production\" ? '__controlled_prop_updated_selected_item__' : 19;\n\nvar stateChangeTypes$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  InputKeyDownArrowDown: InputKeyDownArrowDown,\n  InputKeyDownArrowUp: InputKeyDownArrowUp,\n  InputKeyDownEscape: InputKeyDownEscape,\n  InputKeyDownHome: InputKeyDownHome,\n  InputKeyDownEnd: InputKeyDownEnd,\n  InputKeyDownEnter: InputKeyDownEnter,\n  InputChange: InputChange,\n  InputBlur: InputBlur,\n  MenuMouseLeave: MenuMouseLeave,\n  ItemMouseMove: ItemMouseMove,\n  ItemClick: ItemClick,\n  ToggleButtonClick: ToggleButtonClick,\n  FunctionToggleMenu: FunctionToggleMenu,\n  FunctionOpenMenu: FunctionOpenMenu,\n  FunctionCloseMenu: FunctionCloseMenu,\n  FunctionSetHighlightedIndex: FunctionSetHighlightedIndex,\n  FunctionSelectItem: FunctionSelectItem,\n  FunctionSetInputValue: FunctionSetInputValue,\n  FunctionReset: FunctionReset$1,\n  ControlledPropUpdatedSelectedItem: ControlledPropUpdatedSelectedItem\n});\n\nfunction getInitialState$1(props) {\n  var initialState = getInitialState$2(props);\n  var selectedItem = initialState.selectedItem;\n  var inputValue = initialState.inputValue;\n\n  if (inputValue === '' && selectedItem && props.defaultInputValue === undefined && props.initialInputValue === undefined && props.inputValue === undefined) {\n    inputValue = props.itemToString(selectedItem);\n  }\n\n  return _extends({}, initialState, {\n    inputValue: inputValue\n  });\n}\n\nvar propTypes$1 = {\n  items: PropTypes.array.isRequired,\n  itemToString: PropTypes.func,\n  getA11yStatusMessage: PropTypes.func,\n  getA11ySelectionMessage: PropTypes.func,\n  circularNavigation: PropTypes.bool,\n  highlightedIndex: PropTypes.number,\n  defaultHighlightedIndex: PropTypes.number,\n  initialHighlightedIndex: PropTypes.number,\n  isOpen: PropTypes.bool,\n  defaultIsOpen: PropTypes.bool,\n  initialIsOpen: PropTypes.bool,\n  selectedItem: PropTypes.any,\n  initialSelectedItem: PropTypes.any,\n  defaultSelectedItem: PropTypes.any,\n  inputValue: PropTypes.string,\n  defaultInputValue: PropTypes.string,\n  initialInputValue: PropTypes.string,\n  id: PropTypes.string,\n  labelId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func,\n  inputId: PropTypes.string,\n  toggleButtonId: PropTypes.string,\n  stateReducer: PropTypes.func,\n  onSelectedItemChange: PropTypes.func,\n  onHighlightedIndexChange: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onIsOpenChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  })\n};\n/**\n * The useCombobox version of useControlledReducer, which also\n * checks if the controlled prop selectedItem changed between\n * renders. If so, it will also update inputValue with its\n * string equivalent. It uses the common useEnhancedReducer to\n * compute the rest of the state.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} initialState Initial state of the hook.\n * @param {Object} props The hook props.\n * @returns {Array} An array with the state and an action dispatcher.\n */\n\nfunction useControlledReducer(reducer, initialState, props) {\n  var previousSelectedItemRef = useRef();\n\n  var _useEnhancedReducer = useEnhancedReducer(reducer, initialState, props),\n      state = _useEnhancedReducer[0],\n      dispatch = _useEnhancedReducer[1]; // ToDo: if needed, make same approach as selectedItemChanged from Downshift.\n\n\n  useEffect(function () {\n    if (isControlledProp(props, 'selectedItem')) {\n      if (previousSelectedItemRef.current !== props.selectedItem) {\n        dispatch({\n          type: ControlledPropUpdatedSelectedItem,\n          inputValue: props.itemToString(props.selectedItem)\n        });\n      }\n\n      previousSelectedItemRef.current = state.selectedItem === previousSelectedItemRef.current ? props.selectedItem : state.selectedItem;\n    }\n  });\n  return [getState(state, props), dispatch];\n} // eslint-disable-next-line import/no-mutable-exports\n\n\nvar validatePropTypes$1 = noop;\n/* istanbul ignore next */\n\nif (process.env.NODE_ENV !== 'production') {\n  validatePropTypes$1 = function validatePropTypes(options, caller) {\n    PropTypes.checkPropTypes(propTypes$1, options, 'prop', caller.name);\n  };\n}\n\nvar defaultProps$1 = _extends({}, defaultProps$3, {\n  getA11yStatusMessage: getA11yStatusMessage$1,\n  circularNavigation: true\n});\n\n/* eslint-disable complexity */\n\nfunction downshiftUseComboboxReducer(state, action) {\n  var type = action.type,\n      props = action.props,\n      shiftKey = action.shiftKey;\n  var changes;\n\n  switch (type) {\n    case ItemClick:\n      changes = {\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex'),\n        selectedItem: props.items[action.index],\n        inputValue: props.itemToString(props.items[action.index])\n      };\n      break;\n\n    case InputKeyDownArrowDown:\n      if (state.isOpen) {\n        changes = {\n          highlightedIndex: getNextWrappingIndex(shiftKey ? 5 : 1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n        };\n      } else {\n        changes = {\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, 1, action.getItemNodeFromIndex),\n          isOpen: props.items.length >= 0\n        };\n      }\n\n      break;\n\n    case InputKeyDownArrowUp:\n      if (state.isOpen) {\n        changes = {\n          highlightedIndex: getNextWrappingIndex(shiftKey ? -5 : -1, state.highlightedIndex, props.items.length, action.getItemNodeFromIndex, props.circularNavigation)\n        };\n      } else {\n        changes = {\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, -1, action.getItemNodeFromIndex),\n          isOpen: props.items.length >= 0\n        };\n      }\n\n      break;\n\n    case InputKeyDownEnter:\n      changes = _extends({}, state.isOpen && state.highlightedIndex >= 0 && {\n        selectedItem: props.items[state.highlightedIndex],\n        isOpen: getDefaultValue$1(props, 'isOpen'),\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex'),\n        inputValue: props.itemToString(props.items[state.highlightedIndex])\n      });\n      break;\n\n    case InputKeyDownEscape:\n      changes = _extends({\n        isOpen: false,\n        highlightedIndex: -1\n      }, !state.isOpen && {\n        selectedItem: null,\n        inputValue: ''\n      });\n      break;\n\n    case InputKeyDownHome:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(1, 0, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case InputKeyDownEnd:\n      changes = {\n        highlightedIndex: getNextNonDisabledIndex(-1, props.items.length - 1, props.items.length, action.getItemNodeFromIndex, false)\n      };\n      break;\n\n    case InputBlur:\n      changes = _extends({\n        isOpen: false,\n        highlightedIndex: -1\n      }, state.highlightedIndex >= 0 && action.selectItem && {\n        selectedItem: props.items[state.highlightedIndex],\n        inputValue: props.itemToString(props.items[state.highlightedIndex])\n      });\n      break;\n\n    case InputChange:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getDefaultValue$1(props, 'highlightedIndex'),\n        inputValue: action.inputValue\n      };\n      break;\n\n    case FunctionSelectItem:\n      changes = {\n        selectedItem: action.selectedItem,\n        inputValue: props.itemToString(action.selectedItem)\n      };\n      break;\n\n    case ControlledPropUpdatedSelectedItem:\n      changes = {\n        inputValue: action.inputValue\n      };\n      break;\n\n    default:\n      return downshiftCommonReducer(state, action, stateChangeTypes$1);\n  }\n\n  return _extends({}, state, changes);\n}\n/* eslint-enable complexity */\n\nvar _excluded$1 = [\"onMouseLeave\", \"refKey\", \"ref\"],\n    _excluded2$1 = [\"item\", \"index\", \"refKey\", \"ref\", \"onMouseMove\", \"onClick\", \"onPress\"],\n    _excluded3 = [\"onClick\", \"onPress\", \"refKey\", \"ref\"],\n    _excluded4 = [\"onKeyDown\", \"onChange\", \"onInput\", \"onBlur\", \"onChangeText\", \"refKey\", \"ref\"],\n    _excluded5 = [\"refKey\", \"ref\"];\nuseCombobox.stateChangeTypes = stateChangeTypes$1;\n\nfunction useCombobox(userProps) {\n  if (userProps === void 0) {\n    userProps = {};\n  }\n\n  validatePropTypes$1(userProps, useCombobox); // Props defaults and destructuring.\n\n  var props = _extends({}, defaultProps$1, userProps);\n\n  var initialIsOpen = props.initialIsOpen,\n      defaultIsOpen = props.defaultIsOpen,\n      items = props.items,\n      scrollIntoView = props.scrollIntoView,\n      environment = props.environment,\n      getA11yStatusMessage = props.getA11yStatusMessage,\n      getA11ySelectionMessage = props.getA11ySelectionMessage,\n      itemToString = props.itemToString; // Initial state depending on controlled props.\n\n  var initialState = getInitialState$1(props);\n\n  var _useControlledReducer = useControlledReducer(downshiftUseComboboxReducer, initialState, props),\n      state = _useControlledReducer[0],\n      dispatch = _useControlledReducer[1];\n\n  var isOpen = state.isOpen,\n      highlightedIndex = state.highlightedIndex,\n      selectedItem = state.selectedItem,\n      inputValue = state.inputValue; // Element refs.\n\n  var menuRef = useRef(null);\n  var itemRefs = useRef({});\n  var inputRef = useRef(null);\n  var toggleButtonRef = useRef(null);\n  var comboboxRef = useRef(null);\n  var isInitialMountRef = useRef(true); // prevent id re-generation between renders.\n\n  var elementIds = useElementIds(props); // used to keep track of how many items we had on previous cycle.\n\n  var previousResultCountRef = useRef(); // utility callback to get item element.\n\n  var latest = useLatestRef({\n    state: state,\n    props: props\n  });\n  var getItemNodeFromIndex = useCallback(function (index) {\n    return itemRefs.current[elementIds.getItemId(index)];\n  }, [elementIds]); // Effects.\n  // Sets a11y status message on changes in state.\n\n  useA11yMessageSetter(getA11yStatusMessage, [isOpen, highlightedIndex, inputValue, items], _extends({\n    isInitialMount: isInitialMountRef.current,\n    previousResultCount: previousResultCountRef.current,\n    items: items,\n    environment: environment,\n    itemToString: itemToString\n  }, state)); // Sets a11y status message on changes in selectedItem.\n\n  useA11yMessageSetter(getA11ySelectionMessage, [selectedItem], _extends({\n    isInitialMount: isInitialMountRef.current,\n    previousResultCount: previousResultCountRef.current,\n    items: items,\n    environment: environment,\n    itemToString: itemToString\n  }, state)); // Scroll on highlighted item if change comes from keyboard.\n\n  var shouldScrollRef = useScrollIntoView({\n    menuElement: menuRef.current,\n    highlightedIndex: highlightedIndex,\n    isOpen: isOpen,\n    itemRefs: itemRefs,\n    scrollIntoView: scrollIntoView,\n    getItemNodeFromIndex: getItemNodeFromIndex\n  });\n  useControlPropsValidator({\n    isInitialMount: isInitialMountRef.current,\n    props: props,\n    state: state\n  }); // Focus the input on first render if required.\n\n  useEffect(function () {\n    var focusOnOpen = initialIsOpen || defaultIsOpen || isOpen;\n\n    if (focusOnOpen && inputRef.current) {\n      inputRef.current.focus();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(function () {\n    if (isInitialMountRef.current) {\n      return;\n    }\n\n    previousResultCountRef.current = items.length;\n  }); // Add mouse/touch events to document.\n\n  var mouseAndTouchTrackersRef = useMouseAndTouchTracker(isOpen, [comboboxRef, menuRef, toggleButtonRef], environment, function () {\n    dispatch({\n      type: InputBlur,\n      selectItem: false\n    });\n  });\n  var setGetterPropCallInfo = useGetterPropsCalledChecker('getInputProps', 'getComboboxProps', 'getMenuProps'); // Make initial ref false.\n\n  useEffect(function () {\n    isInitialMountRef.current = false;\n  }, []); // Reset itemRefs on close.\n\n  useEffect(function () {\n    if (!isOpen) {\n      itemRefs.current = {};\n    }\n  }, [isOpen]);\n  /* Event handler functions */\n\n  var inputKeyDownHandlers = useMemo(function () {\n    return {\n      ArrowDown: function ArrowDown(event) {\n        event.preventDefault();\n        dispatch({\n          type: InputKeyDownArrowDown,\n          shiftKey: event.shiftKey,\n          getItemNodeFromIndex: getItemNodeFromIndex\n        });\n      },\n      ArrowUp: function ArrowUp(event) {\n        event.preventDefault();\n        dispatch({\n          type: InputKeyDownArrowUp,\n          shiftKey: event.shiftKey,\n          getItemNodeFromIndex: getItemNodeFromIndex\n        });\n      },\n      Home: function Home(event) {\n        if (!latest.current.state.isOpen) {\n          return;\n        }\n\n        event.preventDefault();\n        dispatch({\n          type: InputKeyDownHome,\n          getItemNodeFromIndex: getItemNodeFromIndex\n        });\n      },\n      End: function End(event) {\n        if (!latest.current.state.isOpen) {\n          return;\n        }\n\n        event.preventDefault();\n        dispatch({\n          type: InputKeyDownEnd,\n          getItemNodeFromIndex: getItemNodeFromIndex\n        });\n      },\n      Escape: function Escape() {\n        var latestState = latest.current.state;\n\n        if (latestState.isOpen || latestState.inputValue || latestState.selectedItem || latestState.highlightedIndex > -1) {\n          dispatch({\n            type: InputKeyDownEscape\n          });\n        }\n      },\n      Enter: function Enter(event) {\n        var latestState = latest.current.state; // if closed or no highlighted index, do nothing.\n\n        if (!latestState.isOpen || latestState.highlightedIndex < 0 || event.which === 229 // if IME composing, wait for next Enter keydown event.\n        ) {\n          return;\n        }\n\n        event.preventDefault();\n        dispatch({\n          type: InputKeyDownEnter,\n          getItemNodeFromIndex: getItemNodeFromIndex\n        });\n      }\n    };\n  }, [dispatch, latest, getItemNodeFromIndex]); // Getter props.\n\n  var getLabelProps = useCallback(function (labelProps) {\n    return _extends({\n      id: elementIds.labelId,\n      htmlFor: elementIds.inputId\n    }, labelProps);\n  }, [elementIds]);\n  var getMenuProps = useCallback(function (_temp, _temp2) {\n    var _extends2;\n\n    var _ref = _temp === void 0 ? {} : _temp,\n        onMouseLeave = _ref.onMouseLeave,\n        _ref$refKey = _ref.refKey,\n        refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n        ref = _ref.ref,\n        rest = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n    var _ref2 = _temp2 === void 0 ? {} : _temp2,\n        _ref2$suppressRefErro = _ref2.suppressRefError,\n        suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n\n    setGetterPropCallInfo('getMenuProps', suppressRefError, refKey, menuRef);\n    return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function (menuNode) {\n      menuRef.current = menuNode;\n    }), _extends2.id = elementIds.menuId, _extends2.role = 'listbox', _extends2['aria-labelledby'] = elementIds.labelId, _extends2.onMouseLeave = callAllEventHandlers(onMouseLeave, function () {\n      dispatch({\n        type: MenuMouseLeave\n      });\n    }), _extends2), rest);\n  }, [dispatch, setGetterPropCallInfo, elementIds]);\n  var getItemProps = useCallback(function (_temp3) {\n    var _extends3, _ref4;\n\n    var _ref3 = _temp3 === void 0 ? {} : _temp3,\n        item = _ref3.item,\n        index = _ref3.index,\n        _ref3$refKey = _ref3.refKey,\n        refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n        ref = _ref3.ref,\n        onMouseMove = _ref3.onMouseMove,\n        onClick = _ref3.onClick;\n        _ref3.onPress;\n        var rest = _objectWithoutPropertiesLoose(_ref3, _excluded2$1);\n\n    var _latest$current = latest.current,\n        latestProps = _latest$current.props,\n        latestState = _latest$current.state;\n    var itemIndex = getItemIndex(index, item, latestProps.items);\n\n    if (itemIndex < 0) {\n      throw new Error('Pass either item or item index in getItemProps!');\n    }\n\n    var onSelectKey = 'onClick';\n    var customClickHandler = onClick;\n\n    var itemHandleMouseMove = function itemHandleMouseMove() {\n      if (index === latestState.highlightedIndex) {\n        return;\n      }\n\n      shouldScrollRef.current = false;\n      dispatch({\n        type: ItemMouseMove,\n        index: index\n      });\n    };\n\n    var itemHandleClick = function itemHandleClick() {\n      dispatch({\n        type: ItemClick,\n        index: index\n      });\n\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    };\n\n    return _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function (itemNode) {\n      if (itemNode) {\n        itemRefs.current[elementIds.getItemId(itemIndex)] = itemNode;\n      }\n    }), _extends3.role = 'option', _extends3['aria-selected'] = \"\" + (itemIndex === latestState.highlightedIndex), _extends3.id = elementIds.getItemId(itemIndex), _extends3), !rest.disabled && (_ref4 = {\n      onMouseMove: callAllEventHandlers(onMouseMove, itemHandleMouseMove)\n    }, _ref4[onSelectKey] = callAllEventHandlers(customClickHandler, itemHandleClick), _ref4), rest);\n  }, [dispatch, latest, shouldScrollRef, elementIds]);\n  var getToggleButtonProps = useCallback(function (_temp4) {\n    var _extends4;\n\n    var _ref5 = _temp4 === void 0 ? {} : _temp4,\n        onClick = _ref5.onClick;\n        _ref5.onPress;\n        var _ref5$refKey = _ref5.refKey,\n        refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n        ref = _ref5.ref,\n        rest = _objectWithoutPropertiesLoose(_ref5, _excluded3);\n\n    var toggleButtonHandleClick = function toggleButtonHandleClick() {\n      dispatch({\n        type: ToggleButtonClick\n      });\n\n      if (!latest.current.state.isOpen && inputRef.current) {\n        inputRef.current.focus();\n      }\n    };\n\n    return _extends((_extends4 = {}, _extends4[refKey] = handleRefs(ref, function (toggleButtonNode) {\n      toggleButtonRef.current = toggleButtonNode;\n    }), _extends4.id = elementIds.toggleButtonId, _extends4.tabIndex = -1, _extends4), !rest.disabled && _extends({}, {\n      onClick: callAllEventHandlers(onClick, toggleButtonHandleClick)\n    }), rest);\n  }, [dispatch, latest, elementIds]);\n  var getInputProps = useCallback(function (_temp5, _temp6) {\n    var _extends5;\n\n    var _ref6 = _temp5 === void 0 ? {} : _temp5,\n        onKeyDown = _ref6.onKeyDown,\n        onChange = _ref6.onChange,\n        onInput = _ref6.onInput,\n        onBlur = _ref6.onBlur;\n        _ref6.onChangeText;\n        var _ref6$refKey = _ref6.refKey,\n        refKey = _ref6$refKey === void 0 ? 'ref' : _ref6$refKey,\n        ref = _ref6.ref,\n        rest = _objectWithoutPropertiesLoose(_ref6, _excluded4);\n\n    var _ref7 = _temp6 === void 0 ? {} : _temp6,\n        _ref7$suppressRefErro = _ref7.suppressRefError,\n        suppressRefError = _ref7$suppressRefErro === void 0 ? false : _ref7$suppressRefErro;\n\n    setGetterPropCallInfo('getInputProps', suppressRefError, refKey, inputRef);\n    var latestState = latest.current.state;\n\n    var inputHandleKeyDown = function inputHandleKeyDown(event) {\n      var key = normalizeArrowKey(event);\n\n      if (key && inputKeyDownHandlers[key]) {\n        inputKeyDownHandlers[key](event);\n      }\n    };\n\n    var inputHandleChange = function inputHandleChange(event) {\n      dispatch({\n        type: InputChange,\n        inputValue: event.target.value\n      });\n    };\n\n    var inputHandleBlur = function inputHandleBlur() {\n      /* istanbul ignore else */\n      if (latestState.isOpen && !mouseAndTouchTrackersRef.current.isMouseDown) {\n        dispatch({\n          type: InputBlur,\n          selectItem: true\n        });\n      }\n    };\n    /* istanbul ignore next (preact) */\n\n\n    var onChangeKey = 'onChange';\n    var eventHandlers = {};\n\n    if (!rest.disabled) {\n      var _eventHandlers;\n\n      eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, inputHandleBlur), _eventHandlers);\n    }\n\n    return _extends((_extends5 = {}, _extends5[refKey] = handleRefs(ref, function (inputNode) {\n      inputRef.current = inputNode;\n    }), _extends5.id = elementIds.inputId, _extends5['aria-autocomplete'] = 'list', _extends5['aria-controls'] = elementIds.menuId, _extends5), latestState.isOpen && latestState.highlightedIndex > -1 && {\n      'aria-activedescendant': elementIds.getItemId(latestState.highlightedIndex)\n    }, {\n      'aria-labelledby': elementIds.labelId,\n      // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n      // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n      autoComplete: 'off',\n      value: latestState.inputValue\n    }, eventHandlers, rest);\n  }, [dispatch, inputKeyDownHandlers, latest, mouseAndTouchTrackersRef, setGetterPropCallInfo, elementIds]);\n  var getComboboxProps = useCallback(function (_temp7, _temp8) {\n    var _extends6;\n\n    var _ref8 = _temp7 === void 0 ? {} : _temp7,\n        _ref8$refKey = _ref8.refKey,\n        refKey = _ref8$refKey === void 0 ? 'ref' : _ref8$refKey,\n        ref = _ref8.ref,\n        rest = _objectWithoutPropertiesLoose(_ref8, _excluded5);\n\n    var _ref9 = _temp8 === void 0 ? {} : _temp8,\n        _ref9$suppressRefErro = _ref9.suppressRefError,\n        suppressRefError = _ref9$suppressRefErro === void 0 ? false : _ref9$suppressRefErro;\n\n    setGetterPropCallInfo('getComboboxProps', suppressRefError, refKey, comboboxRef);\n    return _extends((_extends6 = {}, _extends6[refKey] = handleRefs(ref, function (comboboxNode) {\n      comboboxRef.current = comboboxNode;\n    }), _extends6.role = 'combobox', _extends6['aria-haspopup'] = 'listbox', _extends6['aria-owns'] = elementIds.menuId, _extends6['aria-expanded'] = latest.current.state.isOpen, _extends6), rest);\n  }, [latest, setGetterPropCallInfo, elementIds]); // returns\n\n  var toggleMenu = useCallback(function () {\n    dispatch({\n      type: FunctionToggleMenu\n    });\n  }, [dispatch]);\n  var closeMenu = useCallback(function () {\n    dispatch({\n      type: FunctionCloseMenu\n    });\n  }, [dispatch]);\n  var openMenu = useCallback(function () {\n    dispatch({\n      type: FunctionOpenMenu\n    });\n  }, [dispatch]);\n  var setHighlightedIndex = useCallback(function (newHighlightedIndex) {\n    dispatch({\n      type: FunctionSetHighlightedIndex,\n      highlightedIndex: newHighlightedIndex\n    });\n  }, [dispatch]);\n  var selectItem = useCallback(function (newSelectedItem) {\n    dispatch({\n      type: FunctionSelectItem,\n      selectedItem: newSelectedItem\n    });\n  }, [dispatch]);\n  var setInputValue = useCallback(function (newInputValue) {\n    dispatch({\n      type: FunctionSetInputValue,\n      inputValue: newInputValue\n    });\n  }, [dispatch]);\n  var reset = useCallback(function () {\n    dispatch({\n      type: FunctionReset$1\n    });\n  }, [dispatch]);\n  return {\n    // prop getters.\n    getItemProps: getItemProps,\n    getLabelProps: getLabelProps,\n    getMenuProps: getMenuProps,\n    getInputProps: getInputProps,\n    getComboboxProps: getComboboxProps,\n    getToggleButtonProps: getToggleButtonProps,\n    // actions.\n    toggleMenu: toggleMenu,\n    openMenu: openMenu,\n    closeMenu: closeMenu,\n    setHighlightedIndex: setHighlightedIndex,\n    setInputValue: setInputValue,\n    selectItem: selectItem,\n    reset: reset,\n    // state.\n    highlightedIndex: highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem,\n    inputValue: inputValue\n  };\n}\n\nvar defaultStateValues = {\n  activeIndex: -1,\n  selectedItems: []\n};\n/**\n * Returns the initial value for a state key in the following order:\n * 1. controlled prop, 2. initial prop, 3. default prop, 4. default\n * value from Downshift.\n *\n * @param {Object} props Props passed to the hook.\n * @param {string} propKey Props key to generate the value for.\n * @returns {any} The initial value for that prop.\n */\n\nfunction getInitialValue(props, propKey) {\n  return getInitialValue$1(props, propKey, defaultStateValues);\n}\n/**\n * Returns the default value for a state key in the following order:\n * 1. controlled prop, 2. default prop, 3. default value from Downshift.\n *\n * @param {Object} props Props passed to the hook.\n * @param {string} propKey Props key to generate the value for.\n * @returns {any} The initial value for that prop.\n */\n\n\nfunction getDefaultValue(props, propKey) {\n  return getDefaultValue$1(props, propKey, defaultStateValues);\n}\n/**\n * Gets the initial state based on the provided props. It uses initial, default\n * and controlled props related to state in order to compute the initial value.\n *\n * @param {Object} props Props passed to the hook.\n * @returns {Object} The initial state.\n */\n\n\nfunction getInitialState(props) {\n  var activeIndex = getInitialValue(props, 'activeIndex');\n  var selectedItems = getInitialValue(props, 'selectedItems');\n  return {\n    activeIndex: activeIndex,\n    selectedItems: selectedItems\n  };\n}\n/**\n * Returns true if dropdown keydown operation is permitted. Should not be\n * allowed on keydown with modifier keys (ctrl, alt, shift, meta), on\n * input element with text content that is either highlighted or selection\n * cursor is not at the starting position.\n *\n * @param {KeyboardEvent} event The event from keydown.\n * @returns {boolean} Whether the operation is allowed.\n */\n\n\nfunction isKeyDownOperationPermitted(event) {\n  if (event.shiftKey || event.metaKey || event.ctrlKey || event.altKey) {\n    return false;\n  }\n\n  var element = event.target;\n\n  if (element instanceof HTMLInputElement && // if element is a text input\n  element.value !== '' && (element.selectionStart !== 0 || element.selectionEnd !== 0)) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * Returns a message to be added to aria-live region when item is removed.\n *\n * @param {Object} selectionParameters Parameters required to build the message.\n * @returns {string} The a11y message.\n */\n\n\nfunction getA11yRemovalMessage(selectionParameters) {\n  var removedSelectedItem = selectionParameters.removedSelectedItem,\n      itemToStringLocal = selectionParameters.itemToString;\n  return itemToStringLocal(removedSelectedItem) + \" has been removed.\";\n}\n\nvar propTypes = {\n  selectedItems: PropTypes.array,\n  initialSelectedItems: PropTypes.array,\n  defaultSelectedItems: PropTypes.array,\n  itemToString: PropTypes.func,\n  getA11yRemovalMessage: PropTypes.func,\n  stateReducer: PropTypes.func,\n  activeIndex: PropTypes.number,\n  initialActiveIndex: PropTypes.number,\n  defaultActiveIndex: PropTypes.number,\n  onActiveIndexChange: PropTypes.func,\n  onSelectedItemsChange: PropTypes.func,\n  keyNavigationNext: PropTypes.string,\n  keyNavigationPrevious: PropTypes.string,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  })\n};\nvar defaultProps = {\n  itemToString: defaultProps$3.itemToString,\n  stateReducer: defaultProps$3.stateReducer,\n  environment: defaultProps$3.environment,\n  getA11yRemovalMessage: getA11yRemovalMessage,\n  keyNavigationNext: 'ArrowRight',\n  keyNavigationPrevious: 'ArrowLeft'\n}; // eslint-disable-next-line import/no-mutable-exports\n\nvar validatePropTypes = noop;\n/* istanbul ignore next */\n\nif (process.env.NODE_ENV !== 'production') {\n  validatePropTypes = function validatePropTypes(options, caller) {\n    PropTypes.checkPropTypes(propTypes, options, 'prop', caller.name);\n  };\n}\n\nvar SelectedItemClick = process.env.NODE_ENV !== \"production\" ? '__selected_item_click__' : 0;\nvar SelectedItemKeyDownDelete = process.env.NODE_ENV !== \"production\" ? '__selected_item_keydown_delete__' : 1;\nvar SelectedItemKeyDownBackspace = process.env.NODE_ENV !== \"production\" ? '__selected_item_keydown_backspace__' : 2;\nvar SelectedItemKeyDownNavigationNext = process.env.NODE_ENV !== \"production\" ? '__selected_item_keydown_navigation_next__' : 3;\nvar SelectedItemKeyDownNavigationPrevious = process.env.NODE_ENV !== \"production\" ? '__selected_item_keydown_navigation_previous__' : 4;\nvar DropdownKeyDownNavigationPrevious = process.env.NODE_ENV !== \"production\" ? '__dropdown_keydown_navigation_previous__' : 5;\nvar DropdownKeyDownBackspace = process.env.NODE_ENV !== \"production\" ? '__dropdown_keydown_backspace__' : 6;\nvar DropdownClick = process.env.NODE_ENV !== \"production\" ? '__dropdown_click__' : 7;\nvar FunctionAddSelectedItem = process.env.NODE_ENV !== \"production\" ? '__function_add_selected_item__' : 8;\nvar FunctionRemoveSelectedItem = process.env.NODE_ENV !== \"production\" ? '__function_remove_selected_item__' : 9;\nvar FunctionSetSelectedItems = process.env.NODE_ENV !== \"production\" ? '__function_set_selected_items__' : 10;\nvar FunctionSetActiveIndex = process.env.NODE_ENV !== \"production\" ? '__function_set_active_index__' : 11;\nvar FunctionReset = process.env.NODE_ENV !== \"production\" ? '__function_reset__' : 12;\n\nvar stateChangeTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  SelectedItemClick: SelectedItemClick,\n  SelectedItemKeyDownDelete: SelectedItemKeyDownDelete,\n  SelectedItemKeyDownBackspace: SelectedItemKeyDownBackspace,\n  SelectedItemKeyDownNavigationNext: SelectedItemKeyDownNavigationNext,\n  SelectedItemKeyDownNavigationPrevious: SelectedItemKeyDownNavigationPrevious,\n  DropdownKeyDownNavigationPrevious: DropdownKeyDownNavigationPrevious,\n  DropdownKeyDownBackspace: DropdownKeyDownBackspace,\n  DropdownClick: DropdownClick,\n  FunctionAddSelectedItem: FunctionAddSelectedItem,\n  FunctionRemoveSelectedItem: FunctionRemoveSelectedItem,\n  FunctionSetSelectedItems: FunctionSetSelectedItems,\n  FunctionSetActiveIndex: FunctionSetActiveIndex,\n  FunctionReset: FunctionReset\n});\n\n/* eslint-disable complexity */\n\nfunction downshiftMultipleSelectionReducer(state, action) {\n  var type = action.type,\n      index = action.index,\n      props = action.props,\n      selectedItem = action.selectedItem;\n  var activeIndex = state.activeIndex,\n      selectedItems = state.selectedItems;\n  var changes;\n\n  switch (type) {\n    case SelectedItemClick:\n      changes = {\n        activeIndex: index\n      };\n      break;\n\n    case SelectedItemKeyDownNavigationPrevious:\n      changes = {\n        activeIndex: activeIndex - 1 < 0 ? 0 : activeIndex - 1\n      };\n      break;\n\n    case SelectedItemKeyDownNavigationNext:\n      changes = {\n        activeIndex: activeIndex + 1 >= selectedItems.length ? -1 : activeIndex + 1\n      };\n      break;\n\n    case SelectedItemKeyDownBackspace:\n    case SelectedItemKeyDownDelete:\n      {\n        var newActiveIndex = activeIndex;\n\n        if (selectedItems.length === 1) {\n          newActiveIndex = -1;\n        } else if (activeIndex === selectedItems.length - 1) {\n          newActiveIndex = selectedItems.length - 2;\n        }\n\n        changes = _extends({\n          selectedItems: [].concat(selectedItems.slice(0, activeIndex), selectedItems.slice(activeIndex + 1))\n        }, {\n          activeIndex: newActiveIndex\n        });\n        break;\n      }\n\n    case DropdownKeyDownNavigationPrevious:\n      changes = {\n        activeIndex: selectedItems.length - 1\n      };\n      break;\n\n    case DropdownKeyDownBackspace:\n      changes = {\n        selectedItems: selectedItems.slice(0, selectedItems.length - 1)\n      };\n      break;\n\n    case FunctionAddSelectedItem:\n      changes = {\n        selectedItems: [].concat(selectedItems, [selectedItem])\n      };\n      break;\n\n    case DropdownClick:\n      changes = {\n        activeIndex: -1\n      };\n      break;\n\n    case FunctionRemoveSelectedItem:\n      {\n        var _newActiveIndex = activeIndex;\n        var selectedItemIndex = selectedItems.indexOf(selectedItem);\n\n        if (selectedItems.length === 1) {\n          _newActiveIndex = -1;\n        } else if (selectedItemIndex === selectedItems.length - 1) {\n          _newActiveIndex = selectedItems.length - 2;\n        }\n\n        changes = _extends({\n          selectedItems: [].concat(selectedItems.slice(0, selectedItemIndex), selectedItems.slice(selectedItemIndex + 1))\n        }, {\n          activeIndex: _newActiveIndex\n        });\n        break;\n      }\n\n    case FunctionSetSelectedItems:\n      {\n        var newSelectedItems = action.selectedItems;\n        changes = {\n          selectedItems: newSelectedItems\n        };\n        break;\n      }\n\n    case FunctionSetActiveIndex:\n      {\n        var _newActiveIndex2 = action.activeIndex;\n        changes = {\n          activeIndex: _newActiveIndex2\n        };\n        break;\n      }\n\n    case FunctionReset:\n      changes = {\n        activeIndex: getDefaultValue(props, 'activeIndex'),\n        selectedItems: getDefaultValue(props, 'selectedItems')\n      };\n      break;\n\n    default:\n      throw new Error('Reducer called without proper action type.');\n  }\n\n  return _extends({}, state, changes);\n}\n\nvar _excluded = [\"refKey\", \"ref\", \"onClick\", \"onKeyDown\", \"selectedItem\", \"index\"],\n    _excluded2 = [\"refKey\", \"ref\", \"onKeyDown\", \"onClick\", \"preventKeyAction\"];\nuseMultipleSelection.stateChangeTypes = stateChangeTypes;\n\nfunction useMultipleSelection(userProps) {\n  if (userProps === void 0) {\n    userProps = {};\n  }\n\n  validatePropTypes(userProps, useMultipleSelection); // Props defaults and destructuring.\n\n  var props = _extends({}, defaultProps, userProps);\n\n  var getA11yRemovalMessage = props.getA11yRemovalMessage,\n      itemToString = props.itemToString,\n      environment = props.environment,\n      keyNavigationNext = props.keyNavigationNext,\n      keyNavigationPrevious = props.keyNavigationPrevious; // Reducer init.\n\n  var _useControlledReducer = useControlledReducer$1(downshiftMultipleSelectionReducer, getInitialState(props), props),\n      state = _useControlledReducer[0],\n      dispatch = _useControlledReducer[1];\n\n  var activeIndex = state.activeIndex,\n      selectedItems = state.selectedItems; // Refs.\n\n  var isInitialMountRef = useRef(true);\n  var dropdownRef = useRef(null);\n  var previousSelectedItemsRef = useRef(selectedItems);\n  var selectedItemRefs = useRef();\n  selectedItemRefs.current = [];\n  var latest = useLatestRef({\n    state: state,\n    props: props\n  }); // Effects.\n\n  /* Sets a11y status message on changes in selectedItem. */\n\n  useEffect(function () {\n    if (isInitialMountRef.current) {\n      return;\n    }\n\n    if (selectedItems.length < previousSelectedItemsRef.current.length) {\n      var removedSelectedItem = previousSelectedItemsRef.current.find(function (item) {\n        return selectedItems.indexOf(item) < 0;\n      });\n      setStatus(getA11yRemovalMessage({\n        itemToString: itemToString,\n        resultCount: selectedItems.length,\n        removedSelectedItem: removedSelectedItem,\n        activeIndex: activeIndex,\n        activeSelectedItem: selectedItems[activeIndex]\n      }), environment.document);\n    }\n\n    previousSelectedItemsRef.current = selectedItems; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedItems.length]); // Sets focus on active item.\n\n  useEffect(function () {\n    if (isInitialMountRef.current) {\n      return;\n    }\n\n    if (activeIndex === -1 && dropdownRef.current) {\n      dropdownRef.current.focus();\n    } else if (selectedItemRefs.current[activeIndex]) {\n      selectedItemRefs.current[activeIndex].focus();\n    }\n  }, [activeIndex]);\n  useControlPropsValidator({\n    isInitialMount: isInitialMountRef.current,\n    props: props,\n    state: state\n  });\n  var setGetterPropCallInfo = useGetterPropsCalledChecker('getDropdownProps'); // Make initial ref false.\n\n  useEffect(function () {\n    isInitialMountRef.current = false;\n  }, []); // Event handler functions.\n\n  var selectedItemKeyDownHandlers = useMemo(function () {\n    var _ref;\n\n    return _ref = {}, _ref[keyNavigationPrevious] = function () {\n      dispatch({\n        type: SelectedItemKeyDownNavigationPrevious\n      });\n    }, _ref[keyNavigationNext] = function () {\n      dispatch({\n        type: SelectedItemKeyDownNavigationNext\n      });\n    }, _ref.Delete = function Delete() {\n      dispatch({\n        type: SelectedItemKeyDownDelete\n      });\n    }, _ref.Backspace = function Backspace() {\n      dispatch({\n        type: SelectedItemKeyDownBackspace\n      });\n    }, _ref;\n  }, [dispatch, keyNavigationNext, keyNavigationPrevious]);\n  var dropdownKeyDownHandlers = useMemo(function () {\n    var _ref2;\n\n    return _ref2 = {}, _ref2[keyNavigationPrevious] = function (event) {\n      if (isKeyDownOperationPermitted(event)) {\n        dispatch({\n          type: DropdownKeyDownNavigationPrevious\n        });\n      }\n    }, _ref2.Backspace = function Backspace(event) {\n      if (isKeyDownOperationPermitted(event)) {\n        dispatch({\n          type: DropdownKeyDownBackspace\n        });\n      }\n    }, _ref2;\n  }, [dispatch, keyNavigationPrevious]); // Getter props.\n\n  var getSelectedItemProps = useCallback(function (_temp) {\n    var _extends2;\n\n    var _ref3 = _temp === void 0 ? {} : _temp,\n        _ref3$refKey = _ref3.refKey,\n        refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n        ref = _ref3.ref,\n        onClick = _ref3.onClick,\n        onKeyDown = _ref3.onKeyDown,\n        selectedItem = _ref3.selectedItem,\n        index = _ref3.index,\n        rest = _objectWithoutPropertiesLoose(_ref3, _excluded);\n\n    var latestState = latest.current.state;\n    var itemIndex = getItemIndex(index, selectedItem, latestState.selectedItems);\n\n    if (itemIndex < 0) {\n      throw new Error('Pass either selectedItem or index in getSelectedItemProps!');\n    }\n\n    var selectedItemHandleClick = function selectedItemHandleClick() {\n      dispatch({\n        type: SelectedItemClick,\n        index: index\n      });\n    };\n\n    var selectedItemHandleKeyDown = function selectedItemHandleKeyDown(event) {\n      var key = normalizeArrowKey(event);\n\n      if (key && selectedItemKeyDownHandlers[key]) {\n        selectedItemKeyDownHandlers[key](event);\n      }\n    };\n\n    return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function (selectedItemNode) {\n      if (selectedItemNode) {\n        selectedItemRefs.current.push(selectedItemNode);\n      }\n    }), _extends2.tabIndex = index === latestState.activeIndex ? 0 : -1, _extends2.onClick = callAllEventHandlers(onClick, selectedItemHandleClick), _extends2.onKeyDown = callAllEventHandlers(onKeyDown, selectedItemHandleKeyDown), _extends2), rest);\n  }, [dispatch, latest, selectedItemKeyDownHandlers]);\n  var getDropdownProps = useCallback(function (_temp2, _temp3) {\n    var _extends3;\n\n    var _ref4 = _temp2 === void 0 ? {} : _temp2,\n        _ref4$refKey = _ref4.refKey,\n        refKey = _ref4$refKey === void 0 ? 'ref' : _ref4$refKey,\n        ref = _ref4.ref,\n        onKeyDown = _ref4.onKeyDown,\n        onClick = _ref4.onClick,\n        _ref4$preventKeyActio = _ref4.preventKeyAction,\n        preventKeyAction = _ref4$preventKeyActio === void 0 ? false : _ref4$preventKeyActio,\n        rest = _objectWithoutPropertiesLoose(_ref4, _excluded2);\n\n    var _ref5 = _temp3 === void 0 ? {} : _temp3,\n        _ref5$suppressRefErro = _ref5.suppressRefError,\n        suppressRefError = _ref5$suppressRefErro === void 0 ? false : _ref5$suppressRefErro;\n\n    setGetterPropCallInfo('getDropdownProps', suppressRefError, refKey, dropdownRef);\n\n    var dropdownHandleKeyDown = function dropdownHandleKeyDown(event) {\n      var key = normalizeArrowKey(event);\n\n      if (key && dropdownKeyDownHandlers[key]) {\n        dropdownKeyDownHandlers[key](event);\n      }\n    };\n\n    var dropdownHandleClick = function dropdownHandleClick() {\n      dispatch({\n        type: DropdownClick\n      });\n    };\n\n    return _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function (dropdownNode) {\n      if (dropdownNode) {\n        dropdownRef.current = dropdownNode;\n      }\n    }), _extends3), !preventKeyAction && {\n      onKeyDown: callAllEventHandlers(onKeyDown, dropdownHandleKeyDown),\n      onClick: callAllEventHandlers(onClick, dropdownHandleClick)\n    }, rest);\n  }, [dispatch, dropdownKeyDownHandlers, setGetterPropCallInfo]); // returns\n\n  var addSelectedItem = useCallback(function (selectedItem) {\n    dispatch({\n      type: FunctionAddSelectedItem,\n      selectedItem: selectedItem\n    });\n  }, [dispatch]);\n  var removeSelectedItem = useCallback(function (selectedItem) {\n    dispatch({\n      type: FunctionRemoveSelectedItem,\n      selectedItem: selectedItem\n    });\n  }, [dispatch]);\n  var setSelectedItems = useCallback(function (newSelectedItems) {\n    dispatch({\n      type: FunctionSetSelectedItems,\n      selectedItems: newSelectedItems\n    });\n  }, [dispatch]);\n  var setActiveIndex = useCallback(function (newActiveIndex) {\n    dispatch({\n      type: FunctionSetActiveIndex,\n      activeIndex: newActiveIndex\n    });\n  }, [dispatch]);\n  var reset = useCallback(function () {\n    dispatch({\n      type: FunctionReset\n    });\n  }, [dispatch]);\n  return {\n    getSelectedItemProps: getSelectedItemProps,\n    getDropdownProps: getDropdownProps,\n    addSelectedItem: addSelectedItem,\n    removeSelectedItem: removeSelectedItem,\n    setSelectedItems: setSelectedItems,\n    setActiveIndex: setActiveIndex,\n    reset: reset,\n    selectedItems: selectedItems,\n    activeIndex: activeIndex\n  };\n}\n\nexport { Downshift$1 as default, resetIdCounter, useCombobox, useMultipleSelection, useSelect };\n","import {\n\tcreatePortal,\n\tuseState,\n\tuseEffect,\n\tuseRef,\n\tcreateElement,\n\tComponent,\n\tFragment,\n} from '@wordpress/element'\nimport { maybeTransformUnorderedChoices } from '../helpers/parse-choices.js'\nimport Downshift from 'downshift'\nimport classnames from 'classnames'\nimport { __ } from 'ct-i18n'\n\nimport usePopoverMaker from '../helpers/usePopoverMaker'\n\nconst Select = ({\n\tvalue,\n\toption,\n\toption: {\n\t\tchoices,\n\t\ttabletChoices,\n\t\tmobileChoices,\n\t\tplaceholder,\n\t\tsearchPlaceholder,\n\t\tdefaultToFirstItem = true,\n\t\tsearch = false,\n\t\tinputClassName = '',\n\t\tselectInputStart,\n\t\tappendToBody = false,\n\t},\n\tonInputValueChange = () => {},\n\trenderItemFor = (item) => item.value,\n\tonChange,\n\tdevice = 'desktop',\n}) => {\n\tconst inputRef = useRef(null)\n\tconst [tempState, setTempState] = useState(null)\n\n\tlet deviceChoices = choices\n\n\tif (device === 'tablet' && tabletChoices) {\n\t\tdeviceChoices = tabletChoices\n\t}\n\n\tif (device === 'mobile' && mobileChoices) {\n\t\tdeviceChoices = mobileChoices\n\t}\n\n\tconst orderedChoices = maybeTransformUnorderedChoices(deviceChoices)\n\n\tlet potentialValue =\n\t\tvalue || !defaultToFirstItem\n\t\t\t? value\n\t\t\t: parseInt(value, 10) === 0\n\t\t\t? value\n\t\t\t: (orderedChoices[0] || {}).key\n\n\tconst { styles, popoverProps } = usePopoverMaker({\n\t\tref: inputRef,\n\t\tdefaultHeight: 228,\n\t\tshouldCalculate: appendToBody,\n\t})\n\n\tuseEffect(() => {\n\t\tif (!appendToBody) {\n\t\t\treturn\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tsetTempState(Math.round())\n\t\t}, 50)\n\t}, [])\n\n\tlet maybeSelectedItem = orderedChoices.find(\n\t\t({ key }) => key === potentialValue\n\t)\n\n\tif (!maybeSelectedItem) {\n\t\tmaybeSelectedItem = orderedChoices.find(\n\t\t\t({ key }) => parseInt(key) === parseInt(potentialValue)\n\t\t)\n\t}\n\n\treturn (\n\t\t<Downshift\n\t\t\tkey={maybeSelectedItem?.key || 'downshift'}\n\t\t\tonInputValueChange={(value) => {\n\t\t\t\tonInputValueChange(value)\n\t\t\t}}\n\t\t\tselectedItem={\n\t\t\t\tmaybeSelectedItem || !defaultToFirstItem\n\t\t\t\t\t? potentialValue\n\t\t\t\t\t: (orderedChoices[0] || {}).key\n\t\t\t}\n\t\t\tonChange={(selection) => {\n\t\t\t\tonChange(selection)\n\t\t\t}}\n\t\t\titemToString={(item) => {\n\t\t\t\tlet maybeSelectedItem = orderedChoices.find(\n\t\t\t\t\t({ key }) => key === item\n\t\t\t\t)\n\n\t\t\t\tif (!maybeSelectedItem) {\n\t\t\t\t\tmaybeSelectedItem = orderedChoices.find(\n\t\t\t\t\t\t({ key }) => parseInt(key) === parseInt(item)\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\treturn item && maybeSelectedItem ? maybeSelectedItem.value : ''\n\t\t\t}}>\n\t\t\t{({\n\t\t\t\tgetInputProps,\n\t\t\t\tgetItemProps,\n\t\t\t\tgetLabelProps,\n\t\t\t\tgetMenuProps,\n\t\t\t\tisOpen,\n\t\t\t\tinputValue,\n\t\t\t\thighlightedIndex,\n\t\t\t\tselectedItem,\n\t\t\t\topenMenu,\n\t\t\t\ttoggleMenu,\n\t\t\t\tsetState,\n\t\t\t}) => {\n\t\t\t\tlet dropdown = null\n\n\t\t\t\tif (isOpen) {\n\t\t\t\t\tdropdown = (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t{...getMenuProps({\n\t\t\t\t\t\t\t\tclassName: classnames('ct-select-dropdown', {\n\t\t\t\t\t\t\t\t\t'ct-fixed': appendToBody,\n\t\t\t\t\t\t\t\t}),\n\n\t\t\t\t\t\t\t\t...(appendToBody ? popoverProps : {}),\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tstyle={appendToBody ? styles : {}}>\n\t\t\t\t\t\t\t{orderedChoices\n\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t(item) =>\n\t\t\t\t\t\t\t\t\t\t!inputValue ||\n\t\t\t\t\t\t\t\t\t\t(orderedChoices.find(\n\t\t\t\t\t\t\t\t\t\t\t({ key }) =>\n\t\t\t\t\t\t\t\t\t\t\t\tkey.toString() ===\n\t\t\t\t\t\t\t\t\t\t\t\tselectedItem.toString()\n\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t\torderedChoices.find(\n\t\t\t\t\t\t\t\t\t\t\t\t({ key }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey.toString() ===\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedItem.toString()\n\t\t\t\t\t\t\t\t\t\t\t).value === inputValue) ||\n\t\t\t\t\t\t\t\t\t\titem.value\n\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t.includes(\n\t\t\t\t\t\t\t\t\t\t\t\tinputValue.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\titem.key\n\t\t\t\t\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t.includes(\n\t\t\t\t\t\t\t\t\t\t\t\tinputValue\n\t\t\t\t\t\t\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.map((item, index) => (\n\t\t\t\t\t\t\t\t\t<Fragment key={index}>\n\t\t\t\t\t\t\t\t\t\t{item.group &&\n\t\t\t\t\t\t\t\t\t\t\t(index === 0 ||\n\t\t\t\t\t\t\t\t\t\t\t\torderedChoices[index - 1]\n\t\t\t\t\t\t\t\t\t\t\t\t\t.group !==\n\t\t\t\t\t\t\t\t\t\t\t\t\torderedChoices[index]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.group) && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ct-select-dropdown-group\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-group`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.group}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t{...getItemProps({\n\t\t\t\t\t\t\t\t\t\t\t\tkey: item.key,\n\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\titem: item.key,\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: classnames(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'ct-select-dropdown-item',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlightedIndex ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedItem ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t\t\t\t{renderItemFor(item)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\n\t\t\t\t\tif (appendToBody) {\n\t\t\t\t\t\tdropdown = createPortal(dropdown, document.body)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t'ct-select-input 1',\n\t\t\t\t\t\t\tinputClassName\n\t\t\t\t\t\t)}>\n\t\t\t\t\t\t{selectInputStart && selectInputStart()}\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...getInputProps({\n\t\t\t\t\t\t\t\tonKeyDown: (e) => {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\te.key === 'ArrowDown' &&\n\t\t\t\t\t\t\t\t\t\tsearch &&\n\t\t\t\t\t\t\t\t\t\t!isOpen\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tsetState({\n\t\t\t\t\t\t\t\t\t\t\tinputValue: '',\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\ttoggleMenu()\n\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tlet popover\n\n\t\t\t\t\t\t\t\t\t\tif (appendToBody) {\n\t\t\t\t\t\t\t\t\t\t\tpopover = document.querySelector(\n\t\t\t\t\t\t\t\t\t\t\t\t'body > .ct-select-dropdown.ct-fixed .ct-select-dropdown-item.selected'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tpopover = inputRef.current\n\t\t\t\t\t\t\t\t\t\t\t\t.closest('.ct-select-input')\n\t\t\t\t\t\t\t\t\t\t\t\t.querySelector(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'.ct-select-dropdown .ct-select-dropdown-item.selected'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (popover) {\n\t\t\t\t\t\t\t\t\t\t\tlet popoverTop = popover.parentNode.getBoundingClientRect()\n\t\t\t\t\t\t\t\t\t\t\t\t.top\n\n\t\t\t\t\t\t\t\t\t\t\tlet itemTop = popover.getBoundingClientRect()\n\t\t\t\t\t\t\t\t\t\t\t\t.top\n\n\t\t\t\t\t\t\t\t\t\t\tpopover.parentNode.scrollTop =\n\t\t\t\t\t\t\t\t\t\t\t\titemTop - popoverTop\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tsetTempState(Math.round())\n\t\t\t\t\t\t\t\t\t}, 50)\n\n\t\t\t\t\t\t\t\t\tif (search) {\n\t\t\t\t\t\t\t\t\t\tsetState({\n\t\t\t\t\t\t\t\t\t\t\tinputValue: '',\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tref: inputRef,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\tsearch && isOpen\n\t\t\t\t\t\t\t\t\t? searchPlaceholder ||\n\t\t\t\t\t\t\t\t\t  __('Type to search...', 'blocksy')\n\t\t\t\t\t\t\t\t\t: placeholder ||\n\t\t\t\t\t\t\t\t\t  __('Select value...', 'blocksy')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treadOnly={search ? !isOpen : true}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{dropdown}\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}}\n\t\t</Downshift>\n\t)\n}\n\nexport default Select\n","import {\n\tcreateElement,\n\tComponent,\n\tcreateRef,\n\tFragment,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport linearScale from 'simple-linear-scale'\n\nimport OutsideClickHandler from './react-outside-click-handler'\n\nimport { __ } from 'ct-i18n'\n\nexport const clamp = (min, max, value) => Math.max(min, Math.min(max, value))\nconst clampMax = (max, value) => Math.min(max, value)\n\nexport const round = (value, decimalPlaces = 1) => {\n\tconst multiplier = Math.pow(10, decimalPlaces)\n\n\tconst rounded = Math.round(value * multiplier + Number.EPSILON) / multiplier\n\n\treturn rounded\n}\n\nvar roundWholeNumbers = function (num, precision) {\n\tnum = parseFloat(num)\n\tif (!precision) return num\n\treturn Math.round(num / precision) * precision\n}\n\nconst UnitsList = ({\n\toption,\n\tvalue,\n\tonChange,\n\tis_open,\n\ttoggleOpen,\n\tcurrentUnit,\n\tgetNumericValue,\n\tgetAllowedDecimalPlaces,\n\n\tforced_current_unit,\n\tsetForcedCurrentUnit,\n}) => {\n\tconst pickUnit = (unit) => {\n\t\tconst numericValue = getNumericValue()\n\n\t\tlet futureUnitDescriptor = option.units.find(\n\t\t\t({ unit: u }) => u === unit\n\t\t)\n\n\t\tif (Object.keys(futureUnitDescriptor).includes('min')) {\n\t\t\tonChange(\n\t\t\t\t`${round(\n\t\t\t\t\tclamp(\n\t\t\t\t\t\toption.units.find(({ unit: u }) => u === unit).min,\n\t\t\t\t\t\toption.units.find(({ unit: u }) => u === unit).max,\n\t\t\t\t\t\tnumericValue === '' ? -Infinity : numericValue\n\t\t\t\t\t),\n\t\t\t\t\tgetAllowedDecimalPlaces(unit)\n\t\t\t\t)}${unit}`\n\t\t\t)\n\t\t} else {\n\t\t\tonChange(value)\n\t\t}\n\n\t\tif (\n\t\t\tfutureUnitDescriptor.unit === '' &&\n\t\t\tfutureUnitDescriptor.type === 'custom'\n\t\t) {\n\t\t\tsetForcedCurrentUnit('')\n\t\t} else {\n\t\t\tsetForcedCurrentUnit('__DEFAULT__')\n\t\t}\n\t}\n\n\tlet futureUnitDescriptor = option.units.find(\n\t\t({ unit: u }) => u === currentUnit\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<span\n\t\t\t\tonClick={() => toggleOpen()}\n\t\t\t\tclassName=\"ct-current-value\"\n\t\t\t\tdata-unit={\n\t\t\t\t\tcurrentUnit ||\n\t\t\t\t\t(futureUnitDescriptor &&\n\t\t\t\t\tfutureUnitDescriptor.type === 'custom'\n\t\t\t\t\t\t? __('custom', 'blocksy')\n\t\t\t\t\t\t: '')\n\t\t\t\t}>\n\t\t\t\t{currentUnit ||\n\t\t\t\t\t(futureUnitDescriptor &&\n\t\t\t\t\tfutureUnitDescriptor.type === 'custom'\n\t\t\t\t\t\t? __('Custom', 'blocksy')\n\t\t\t\t\t\t: '')}\n\t\t\t</span>\n\n\t\t\t<OutsideClickHandler\n\t\t\t\tclassName=\"ct-units-list\"\n\t\t\t\tonOutsideClick={() => {\n\t\t\t\t\tif (!is_open) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\ttoggleOpen()\n\t\t\t\t}}>\n\t\t\t\t{option.units\n\t\t\t\t\t.filter(({ unit }) => unit !== currentUnit)\n\t\t\t\t\t.map(({ unit, type }) => (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tkey={unit}\n\t\t\t\t\t\t\tdata-unit={type === 'custom' ? 'custom' : unit}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tpickUnit(unit)\n\t\t\t\t\t\t\t\ttoggleOpen()\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{unit ||\n\t\t\t\t\t\t\t\t(type === 'custom'\n\t\t\t\t\t\t\t\t\t? __('Custom', 'blocksy')\n\t\t\t\t\t\t\t\t\t: '')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t</OutsideClickHandler>\n\t\t</Fragment>\n\t)\n}\n\nexport default class Slider extends Component {\n\tstate = {\n\t\tis_dragging: false,\n\t\tis_open: false,\n\t\tis_empty_input: false,\n\t\tforced_current_unit: '__DEFAULT__',\n\t}\n\n\tel = createRef()\n\n\thasUnitsList = () =>\n\t\tthis.props.option.units && this.props.option.units.length > 1\n\n\tgetAllowedDecimalPlaces = (properUnit = null) => {\n\t\tconst decimals = this.props.option.units\n\t\t\t? this.props.option.units.find(\n\t\t\t\t\t({ unit }) => unit === (properUnit || this.getCurrentUnit())\n\t\t\t  )?.decimals || 0\n\t\t\t: this.props.option.decimals\n\n\t\treturn decimals !== 0 && !decimals ? 0 : decimals\n\t}\n\n\twithDefault = (currentUnit, defaultUnit) =>\n\t\tthis.props.option.units\n\t\t\t? this.props.option.units.find(({ unit }) => unit === currentUnit)\n\t\t\t\t? currentUnit\n\t\t\t\t: currentUnit || defaultUnit\n\t\t\t: currentUnit || defaultUnit\n\n\tgetCurrentUnit = () => {\n\t\tif (this.state.forced_current_unit !== '__DEFAULT__') {\n\t\t\treturn this.state.forced_current_unit\n\t\t}\n\n\t\tif (!this.props.option.units) {\n\t\t\treturn ''\n\t\t}\n\n\t\tlet defaultUnit = this.props.option.units\n\t\t\t? this.props.option.units[0].unit\n\t\t\t: ''\n\n\t\tif (\n\t\t\tthis.props.value === 'NaN' ||\n\t\t\tthis.props.value === '' ||\n\t\t\tthis.props.value === 'CT_CSS_SKIP_RULE'\n\t\t) {\n\t\t\treturn defaultUnit\n\t\t}\n\n\t\tlet computedUnit = this.props.value\n\t\t\t.toString()\n\t\t\t.replace(/[0-9]/g, '')\n\t\t\t.replace(/\\-/g, '')\n\t\t\t.replace(/\\./g, '')\n\t\t\t.replace('CT_CSS_SKIP_RULE', '')\n\n\t\tlet maybeActualUnit = this.props.option.units.find(\n\t\t\t({ unit }) => unit === computedUnit\n\t\t)\n\n\t\tif (maybeActualUnit) {\n\t\t\treturn computedUnit\n\t\t}\n\n\t\treturn ''\n\t}\n\n\tgetMax = () =>\n\t\tthis.props.option.units\n\t\t\t? this.props.option.units.find(\n\t\t\t\t\t({ unit }) => unit === this.getCurrentUnit()\n\t\t\t  )?.max || 0\n\t\t\t: this.props.option.max\n\n\tgetMin = () => {\n\t\treturn this.props.option.units\n\t\t\t? this.props.option.units.find(\n\t\t\t\t\t({ unit }) => unit === this.getCurrentUnit()\n\t\t\t  )?.min || 0\n\t\t\t: this.props.option.min\n\t}\n\n\tgetNumericValue = ({ forPosition = false } = {}) => {\n\t\tconst maybeValue = parseFloat(this.props.value, 10)\n\n\t\tif (maybeValue === 0) {\n\t\t\treturn maybeValue\n\t\t}\n\n\t\tif (!maybeValue) {\n\t\t\tif (\n\t\t\t\tthis.props.option.defaultPosition &&\n\t\t\t\tthis.props.option.defaultPosition === 'center' &&\n\t\t\t\tforPosition\n\t\t\t) {\n\t\t\t\tlet min = parseFloat(this.getMin(), 10)\n\t\t\t\tlet max = parseFloat(this.getMax(), 10)\n\n\t\t\t\treturn (max - min) / 2 + min\n\t\t\t}\n\n\t\t\treturn ''\n\t\t}\n\n\t\treturn maybeValue\n\t}\n\n\tcomputeAndSendNewValue({ pageX, shiftKey }) {\n\t\tlet { top, left, right, width } =\n\t\t\tthis.el.current.getBoundingClientRect()\n\n\t\tlet elLeftOffset = pageX - left - pageXOffset\n\n\t\tthis.props.onChange(\n\t\t\t`${roundWholeNumbers(\n\t\t\t\tround(\n\t\t\t\t\tlinearScale(\n\t\t\t\t\t\t[0, width],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\tparseFloat(this.getMin(), 10),\n\t\t\t\t\t\t\tparseFloat(this.getMax(), 10),\n\t\t\t\t\t\t],\n\t\t\t\t\t\ttrue\n\t\t\t\t\t)(\n\t\t\t\t\t\tdocument.body.classList.contains('rtl')\n\t\t\t\t\t\t\t? width - elLeftOffset\n\t\t\t\t\t\t\t: elLeftOffset\n\t\t\t\t\t),\n\t\t\t\t\tthis.getAllowedDecimalPlaces()\n\t\t\t\t),\n\n\t\t\t\tshiftKey ? 10 : 1\n\t\t\t)}${this.getCurrentUnit()}`\n\t\t)\n\t}\n\n\thandleMove = (event) => {\n\t\tif (!this.state.is_dragging) return\n\t\tthis.computeAndSendNewValue(event)\n\t}\n\n\thandleUp = () => {\n\t\tthis.setState({\n\t\t\tis_dragging: false,\n\t\t})\n\n\t\tthis.detachEvents()\n\t}\n\n\thandleFocus = () => {\n\t\tif (this.isCustomValueInput()) {\n\t\t\tthis.setState({\n\t\t\t\tforced_current_unit: this.getCurrentUnit(),\n\t\t\t})\n\t\t}\n\t}\n\n\thandleOptionRevert = () => {\n\t\tthis.setState({\n\t\t\tforced_current_unit: '__DEFAULT__',\n\t\t})\n\t}\n\n\thandleBlur = () => {\n\t\tthis.setState({ is_empty_input: false })\n\n\t\tif (this.props.option.value === 'CT_CSS_SKIP_RULE') {\n\t\t\tif (this.props.value === 'CT_CSS_SKIP_RULE') {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (this.getNumericValue() === '') {\n\t\t\t\tthis.props.onChange('CT_CSS_SKIP_RULE')\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tif (this.props.value.toString().trim() === '') {\n\t\t\tthis.props.onChange(this.props.option.value)\n\t\t\treturn\n\t\t}\n\n\t\tthis.props.onChange(\n\t\t\t`${clamp(\n\t\t\t\tparseFloat(this.getMin(), 10),\n\t\t\t\tparseFloat(this.getMax(), 10),\n\t\t\t\tparseFloat(this.getNumericValue(), 10)\n\t\t\t)}${this.getCurrentUnit()}`\n\t\t)\n\t}\n\n\thandleChange = (value) => {\n\t\tif (this.props.option.value === 'CT_CSS_SKIP_RULE') {\n\t\t\tif (value.toString().trim() === '') {\n\t\t\t\tthis.props.onChange('CT_CSS_SKIP_RULE')\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tif (this.isCustomValueInput()) {\n\t\t\tthis.props.onChange(value)\n\t\t\treturn\n\t\t}\n\n\t\tif (value.toString().trim() === '') {\n\t\t\tthis.setState({ is_empty_input: true })\n\t\t\treturn\n\t\t}\n\n\t\tthis.setState({ is_empty_input: false })\n\n\t\tthis.props.onChange(\n\t\t\t`${clampMax(\n\t\t\t\tparseFloat(this.getMax(), 10),\n\t\t\t\tparseFloat(value || this.getMin())\n\t\t\t)}${this.getCurrentUnit()}`\n\t\t)\n\t}\n\n\tattachEvents() {\n\t\tdocument.documentElement.addEventListener(\n\t\t\t'mousemove',\n\t\t\tthis.handleMove,\n\t\t\ttrue\n\t\t)\n\n\t\tdocument.documentElement.addEventListener(\n\t\t\t'mouseup',\n\t\t\tthis.handleUp,\n\t\t\ttrue\n\t\t)\n\t}\n\n\tdetachEvents() {\n\t\tdocument.documentElement.removeEventListener(\n\t\t\t'mousemove',\n\t\t\tthis.handleMove,\n\t\t\ttrue\n\t\t)\n\n\t\tdocument.documentElement.removeEventListener(\n\t\t\t'mouseup',\n\t\t\tthis.handleUp,\n\t\t\ttrue\n\t\t)\n\t}\n\n\tgetLeftValue() {\n\t\treturn `${linearScale(\n\t\t\t[parseFloat(this.getMin(), 10), parseFloat(this.getMax(), 10)],\n\t\t\t[0, 100]\n\t\t)(\n\t\t\tclamp(\n\t\t\t\tparseFloat(this.getMin(), 10),\n\t\t\t\tparseFloat(this.getMax(), 10),\n\t\t\t\tparseFloat(this.getNumericValue({ forPosition: true }), 10) ===\n\t\t\t\t\t0\n\t\t\t\t\t? 0\n\t\t\t\t\t: parseFloat(\n\t\t\t\t\t\t\tthis.getNumericValue({ forPosition: true }),\n\t\t\t\t\t\t\t10\n\t\t\t\t\t  )\n\t\t\t\t\t? parseFloat(\n\t\t\t\t\t\t\tthis.getNumericValue({ forPosition: true }),\n\t\t\t\t\t\t\t10\n\t\t\t\t\t  )\n\t\t\t\t\t: parseFloat(this.getMin(), 10)\n\t\t\t)\n\t\t)}`\n\t}\n\n\tisCustomValueInput() {\n\t\tif (!this.hasUnitsList()) return false\n\n\t\tlet maybeUnit = this.props.option.units.find(({ unit: u }) => u === '')\n\n\t\tif (!maybeUnit) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn (\n\t\t\tthis.getCurrentUnit() === '' &&\n\t\t\tmaybeUnit.unit === '' &&\n\t\t\tmaybeUnit.type === 'custom'\n\t\t)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ct-option-slider\">\n\t\t\t\t{this.props.beforeOption && this.props.beforeOption()}\n\n\t\t\t\t{this.isCustomValueInput() ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t{...(this.props.option.ref\n\t\t\t\t\t\t\t\t? { ref: this.props.option.ref }\n\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\tthis.state.is_empty_input ||\n\t\t\t\t\t\t\t\tthis.props.value === 'NaN' ||\n\t\t\t\t\t\t\t\t(this.props.value || '')\n\t\t\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t\t\t.indexOf('CT_CSS_SKIP_RULE') > -1\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: this.props.value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonFocus={() => this.handleFocus()}\n\t\t\t\t\t\t\tonChange={({ target: { value } }) =>\n\t\t\t\t\t\t\t\tthis.handleChange(value)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tonMouseDown={({ pageX, pageY }) => {\n\t\t\t\t\t\t\tthis.attachEvents()\n\t\t\t\t\t\t\tthis.setState({ is_dragging: true })\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={(e) => this.computeAndSendNewValue(e)}\n\t\t\t\t\t\tref={this.el}\n\t\t\t\t\t\tclassName=\"ct-slider\"\n\t\t\t\t\t\t{...(this.props.option.steps\n\t\t\t\t\t\t\t? { ['data-steps']: '' }\n\t\t\t\t\t\t\t: {})}>\n\t\t\t\t\t\t<div style={{ width: `${this.getLeftValue()}%` }} />\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\tconst valueForComputation =\n\t\t\t\t\t\t\t\t\tthis.getNumericValue()\n\n\t\t\t\t\t\t\t\tlet step =\n\t\t\t\t\t\t\t\t\t1 /\n\t\t\t\t\t\t\t\t\tMath.pow(10, this.getAllowedDecimalPlaces())\n\n\t\t\t\t\t\t\t\tlet actualStep = e.shiftKey ? step * 10 : step\n\n\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t * Arrow up or left\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\tif (e.keyCode === 38 || e.keyCode === 39) {\n\t\t\t\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\t\t\t\tthis.props.onChange(\n\t\t\t\t\t\t\t\t\t\t`${clamp(\n\t\t\t\t\t\t\t\t\t\t\tparseFloat(this.getMin(), 10),\n\t\t\t\t\t\t\t\t\t\t\tparseFloat(this.getMax(), 10),\n\t\t\t\t\t\t\t\t\t\t\tvalueForComputation + actualStep\n\t\t\t\t\t\t\t\t\t\t)}${this.getCurrentUnit()}`\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t * Arrow down or right\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\tif (e.keyCode === 40 || e.keyCode === 37) {\n\t\t\t\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\t\t\t\tthis.props.onChange(\n\t\t\t\t\t\t\t\t\t\t`${clamp(\n\t\t\t\t\t\t\t\t\t\t\tparseFloat(this.getMin(), 10),\n\t\t\t\t\t\t\t\t\t\t\tparseFloat(this.getMax(), 10),\n\t\t\t\t\t\t\t\t\t\t\tvalueForComputation - actualStep\n\t\t\t\t\t\t\t\t\t\t)}${this.getCurrentUnit()}`\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t'--position': `${this.getLeftValue()}%`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{this.props.option.steps && (\n\t\t\t\t\t\t\t<section className={this.props.option.steps}>\n\t\t\t\t\t\t\t\t<i className=\"minus\"></i>\n\t\t\t\t\t\t\t\t<i className=\"zero\"></i>\n\t\t\t\t\t\t\t\t<i className=\"plus\"></i>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{!this.props.option.skipInput && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classnames('ct-slider-input', {\n\t\t\t\t\t\t\t// ['ct-unit-changer']: !!this.props.option.units,\n\t\t\t\t\t\t\t['ct-value-changer']: true,\n\t\t\t\t\t\t\t'no-unit-list': !this.hasUnitsList(),\n\t\t\t\t\t\t\tactive: this.state.is_open,\n\t\t\t\t\t\t})}>\n\t\t\t\t\t\t{!this.isCustomValueInput() && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t{...(this.props.option.ref\n\t\t\t\t\t\t\t\t\t\t? { ref: this.props.option.ref }\n\t\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\t\tstep={\n\t\t\t\t\t\t\t\t\t\t1 /\n\t\t\t\t\t\t\t\t\t\tMath.pow(\n\t\t\t\t\t\t\t\t\t\t\t10,\n\t\t\t\t\t\t\t\t\t\t\tthis.getAllowedDecimalPlaces()\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\tthis.state.is_empty_input\n\t\t\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t\t\t: this.getNumericValue()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonFocus={() => this.handleFocus()}\n\t\t\t\t\t\t\t\t\tonBlur={() => this.handleBlur()}\n\t\t\t\t\t\t\t\t\tonChange={({ target: { value } }) => {\n\t\t\t\t\t\t\t\t\t\tthis.handleChange(value)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{!this.hasUnitsList() && (\n\t\t\t\t\t\t\t<span className=\"ct-current-value\">\n\t\t\t\t\t\t\t\t{this.withDefault(\n\t\t\t\t\t\t\t\t\tthis.getCurrentUnit(),\n\t\t\t\t\t\t\t\t\tthis.props.option.defaultUnit || 'px'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{this.hasUnitsList() && (\n\t\t\t\t\t\t\t<UnitsList\n\t\t\t\t\t\t\t\toption={this.props.option}\n\t\t\t\t\t\t\t\tvalue={this.props.value}\n\t\t\t\t\t\t\t\tonChange={this.props.onChange}\n\t\t\t\t\t\t\t\tis_open={this.state.is_open}\n\t\t\t\t\t\t\t\tforced_current_unit={\n\t\t\t\t\t\t\t\t\tthis.state.forced_current_unit\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetForcedCurrentUnit={(unit) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ forced_current_unit: unit })\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttoggleOpen={() =>\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tis_open: !this.state.is_open,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcurrentUnit={this.getCurrentUnit()}\n\t\t\t\t\t\t\t\tgetNumericValue={this.getNumericValue}\n\t\t\t\t\t\t\t\tgetAllowedDecimalPlaces={\n\t\t\t\t\t\t\t\t\tthis.getAllowedDecimalPlaces\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import { Fragment, createElement, Component } from '@wordpress/element'\nimport classnames from 'classnames'\n\nconst Spacer = ({\n\toption: { height = 10, attr: { class: className, ...attr } = {} },\n}) => (\n\t<div\n\t\tclassName={classnames('ct-spacer', className)}\n\t\t{...attr}\n\t\tstyle={{\n\t\t\theight: `${height}px`,\n\t\t}}\n\t/>\n)\n\nSpacer.renderingConfig = { design: 'none' }\n\nexport default Spacer\n","import { createElement, Component, useState } from '@wordpress/element'\nimport { __ } from 'ct-i18n'\nimport InputWithOnlyNumbers from '../components/InputWithOnlyNumbers'\nimport cls from 'classnames'\nimport OutsideClickHandler from './react-outside-click-handler'\n\nconst Spacing = ({ value, option, onChange }) => {\n\tconst [isOpen, setIsOpen] = useState(false)\n\n\tconst units = [\n\t\t{ unit: 'px' },\n\t\t{ unit: '%' },\n\t\t{ unit: 'em' },\n\t\t{ unit: 'rem' },\n\t\t{ unit: 'pt' },\n\t]\n\n\tconst withDefault = (currentUnit, defaultUnit) =>\n\t\tunits.find(({ unit }) => unit === currentUnit)\n\t\t\t? currentUnit\n\t\t\t: currentUnit || units[0].unit\n\n\tconst getLinkedLeader = () =>\n\t\t['top', 'right', 'bottom', 'left'].find((v) => value[v] !== 'auto')\n\n\tconst getCurrentUnit = () =>\n\t\twithDefault(\n\t\t\tvalue[getLinkedLeader()]\n\t\t\t\t.toString()\n\t\t\t\t.replace(/[0-9]/g, '')\n\t\t\t\t.replace('-', '')\n\t\t\t\t.replace(/\\./g, '')\n\t\t)\n\n\tconst getNumericValue = (value, unit = '') => {\n\t\tif (value === 'auto') {\n\t\t\treturn value\n\t\t}\n\n\t\treturn `${parseFloat(value) === 0 ? 0 : parseFloat(value) || ''}${unit}`\n\t}\n\n\tconst handleChange = (futureValue, position) => {\n\t\tif (value.linked) {\n\t\t\tonChange({\n\t\t\t\t...value,\n\t\t\t\ttop:\n\t\t\t\t\tvalue.top === 'auto'\n\t\t\t\t\t\t? value.top\n\t\t\t\t\t\t: getNumericValue(futureValue, getCurrentUnit()),\n\t\t\t\tleft:\n\t\t\t\t\tvalue.left === 'auto'\n\t\t\t\t\t\t? value.left\n\t\t\t\t\t\t: getNumericValue(futureValue, getCurrentUnit()),\n\t\t\t\tright:\n\t\t\t\t\tvalue.right === 'auto'\n\t\t\t\t\t\t? value.right\n\t\t\t\t\t\t: getNumericValue(futureValue, getCurrentUnit()),\n\t\t\t\tbottom:\n\t\t\t\t\tvalue.bottom === 'auto'\n\t\t\t\t\t\t? value.bottom\n\t\t\t\t\t\t: getNumericValue(futureValue, getCurrentUnit()),\n\t\t\t})\n\n\t\t\treturn\n\t\t}\n\n\t\tonChange({\n\t\t\t...value,\n\t\t\t[position]: getNumericValue(futureValue, getCurrentUnit()),\n\t\t})\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cls('ct-option-spacing', {\n\t\t\t\tlinked: value.linked,\n\t\t\t})}>\n\t\t\t{['top', 'right', 'bottom', 'left'].map((side) => (\n\t\t\t\t<span key={side}>\n\t\t\t\t\t<InputWithOnlyNumbers\n\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\tvalue={getNumericValue(value[side])}\n\t\t\t\t\t\tonChange={(v) => handleChange(v, side)}\n\t\t\t\t\t\t{...{ placeholder: '', ...option.inputAttr }}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<small>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttop: __('Top', 'blocksy'),\n\t\t\t\t\t\t\t\tbottom: __('Bottom', 'blocksy'),\n\t\t\t\t\t\t\t\tleft: __('Left', 'blocksy'),\n\t\t\t\t\t\t\t\tright: __('Right', 'blocksy'),\n\t\t\t\t\t\t\t}[side]\n\t\t\t\t\t\t}\n\t\t\t\t\t</small>\n\t\t\t\t</span>\n\t\t\t))}\n\n\t\t\t<div\n\t\t\t\tclassName={cls('ct-spacing-controls ct-value-changer', {\n\t\t\t\t\tactive: isOpen,\n\t\t\t\t})}>\n\t\t\t\t<a\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\tif (value.linked) {\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\tlinked: false,\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst futureValue = value[getLinkedLeader()]\n\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\ttop: value.top !== 'auto' ? futureValue : value.top,\n\t\t\t\t\t\t\tleft:\n\t\t\t\t\t\t\t\tvalue.left !== 'auto'\n\t\t\t\t\t\t\t\t\t? futureValue\n\t\t\t\t\t\t\t\t\t: value.left,\n\t\t\t\t\t\t\tbottom:\n\t\t\t\t\t\t\t\tvalue.bottom !== 'auto'\n\t\t\t\t\t\t\t\t\t? futureValue\n\t\t\t\t\t\t\t\t\t: value.bottom,\n\t\t\t\t\t\t\tright:\n\t\t\t\t\t\t\t\tvalue.right !== 'auto'\n\t\t\t\t\t\t\t\t\t? futureValue\n\t\t\t\t\t\t\t\t\t: value.right,\n\n\t\t\t\t\t\t\tlinked: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t}}>\n\t\t\t\t\t<svg width=\"10\" height=\"10\" viewBox=\"0 0 15 15\">\n\t\t\t\t\t\t{value.linked ? (\n\t\t\t\t\t\t\t<path d=\"M12.2,5.5V4.7c0-2.6-2.1-4.7-4.7-4.7S2.8,2.1,2.8,4.7v0.8c-0.9,0-1.6,0.7-1.6,1.6v6.3c0,0.9,0.7,1.6,1.6,1.6h9.5c0.9,0,1.6-0.7,1.6-1.6V7.1C13.8,6.2,13.1,5.5,12.2,5.5z M10.7,5.5H4.3V4.7c0-1.8,1.4-3.2,3.2-3.2s3.2,1.4,3.2,3.2V5.5z\" />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<path d=\"M12.2,5.5h-1.6H9.9h-5H4.7l0-0.2C4.4,3.5,5.5,1.9,7.3,1.5c1.1-0.2,2.2,0.1,2.8,0.9l1.3-0.9c-1-1.1-2.6-1.8-4.3-1.5C4.5,0.5,2.8,2.9,3.2,5.5H2.8c-0.9,0-1.6,0.7-1.6,1.6v6.3c0,0.9,0.7,1.6,1.6,1.6h9.5c0.9,0,1.6-0.7,1.6-1.6V7.1C13.8,6.2,13.1,5.5,12.2,5.5z\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</svg>\n\t\t\t\t</a>\n\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => setIsOpen(!isOpen)}\n\t\t\t\t\tclassName=\"ct-current-value\">\n\t\t\t\t\t{getCurrentUnit() || ''}\n\t\t\t\t</div>\n\n\t\t\t\t<OutsideClickHandler\n\t\t\t\t\tclassName=\"ct-units-list\"\n\t\t\t\t\tonOutsideClick={() => {\n\t\t\t\t\t\tif (!isOpen) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetIsOpen(false)\n\t\t\t\t\t}}>\n\t\t\t\t\t{units\n\t\t\t\t\t\t.filter(({ unit }) => unit !== getCurrentUnit())\n\n\t\t\t\t\t\t.map(({ unit }) => (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tkey={unit}\n\t\t\t\t\t\t\t\tdata-unit={unit}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t\ttop: getNumericValue(value.top, unit),\n\t\t\t\t\t\t\t\t\t\tleft: getNumericValue(value.left, unit),\n\t\t\t\t\t\t\t\t\t\tright: getNumericValue(\n\t\t\t\t\t\t\t\t\t\t\tvalue.right,\n\t\t\t\t\t\t\t\t\t\t\tunit\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tbottom: getNumericValue(\n\t\t\t\t\t\t\t\t\t\t\tvalue.bottom,\n\t\t\t\t\t\t\t\t\t\t\tunit\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tsetIsOpen(false)\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{unit || ''}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t))}\n\t\t\t\t</OutsideClickHandler>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Spacing\n","import { createElement, Component } from '@wordpress/element'\nimport classnames from 'classnames'\n\nconst isActive = ({ option: { behavior = 'words' }, value }) =>\n\tbehavior === 'words' ? value === 'yes' : !!value\n\nconst alternateValueFor = ({\n\toption = {},\n\toption: { behavior = 'words' },\n\tvalue,\n}) =>\n\tisActive({ option, value })\n\t\t? behavior === 'words'\n\t\t\t? 'no'\n\t\t\t: false\n\t\t: behavior === 'words'\n\t\t? 'yes'\n\t\t: true\n\nconst Switch = ({ value, option = {}, onChange, onClick }) => (\n\t<div\n\t\tclassName={classnames({\n\t\t\t[`ct-option-switch`]: true,\n\t\t\t[`ct-active`]: isActive({ option, value }),\n\t\t})}\n\t\tonClick={(e) => {\n\t\t\tonClick && onClick(e)\n\t\t\tonChange(alternateValueFor({ option, value }))\n\t\t}}>\n\t\t<span />\n\t</div>\n)\n\nSwitch.renderingConfig = {\n\tdesign: 'inline',\n}\n\nexport default Switch\n","import { Fragment, createElement, Component } from '@wordpress/element'\n\nconst Title = ({\n\toption: { label = '', desc = '', attr = {}, variation = 'simple' }\n}) => (\n\t<Fragment>\n\t\t<div\n\t\t\tclassName=\"ct-title\"\n\t\t\t{...{\n\t\t\t\t'data-type': variation,\n\t\t\t\t...(attr || {})\n\t\t\t}}>\n\t\t\t<h3>{label}</h3>\n\t\t\t{desc && (\n\t\t\t\t<div className=\"ct-option-description\"\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: desc\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t</Fragment>\n)\n\nTitle.renderingConfig = { design: 'none' }\n\nexport default Title\n","import { __ } from 'ct-i18n'\n\nexport const getDefaultFonts = ({ isDefault }) => ({\n\tsystem: {\n\t\ttype: 'system',\n\t\tfamilies: [\n\t\t\t...(!isDefault ? ['Default'] : []),\n\t\t\t'System Default',\n\t\t\t'Arial',\n\t\t\t'Verdana',\n\t\t\t'Trebuchet',\n\t\t\t'Georgia',\n\t\t\t'Times New Roman',\n\t\t\t'Palatino',\n\t\t\t'Helvetica',\n\t\t\t'Myriad Pro',\n\t\t\t'Lucida',\n\t\t\t'Gill Sans',\n\t\t\t'Impact',\n\t\t\t'Serif',\n\t\t\t'monospace',\n\t\t].map((family) => ({\n\t\t\tsource: 'system',\n\t\t\tfamily,\n\t\t\tdisplay:\n\t\t\t\tfamily === 'System Default'\n\t\t\t\t\t? __('System Default', 'blocksy')\n\t\t\t\t\t: family,\n\t\t\tvariations: [],\n\t\t\tall_variations: [\n\t\t\t\t...(family === 'Default' ? ['Default'] : []),\n\t\t\t\t'n1',\n\t\t\t\t'i1',\n\t\t\t\t'n2',\n\t\t\t\t'i2',\n\t\t\t\t'n3',\n\t\t\t\t'i3',\n\t\t\t\t'n4',\n\t\t\t\t'i4',\n\t\t\t\t'n5',\n\t\t\t\t'i5',\n\t\t\t\t'n6',\n\t\t\t\t'i6',\n\t\t\t\t'n7',\n\t\t\t\t'i7',\n\t\t\t\t'n8',\n\t\t\t\t'i8',\n\t\t\t\t'n9',\n\t\t\t\t'i9',\n\t\t\t],\n\t\t})),\n\t},\n})\n","import { __ } from 'ct-i18n'\n\nexport const fontFamilyToCSSFamily = (family) => {\n\tif (family === 'System Default') {\n\t\treturn \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'\"\n\t}\n\n\treturn family.replace('ct_typekit_', '')\n}\n\nconst findSourceTypeSettingsFor = (font_family, fonts_list) =>\n\tObject.values(fonts_list).find(\n\t\t(single_font_source) =>\n\t\t\tsingle_font_source.families\n\t\t\t\t.map(({ family }) => family)\n\t\t\t\t.indexOf(font_family) > -1\n\t)\n\nexport const findSourceTypeFor = (font_family, fonts_list) => {\n\tlet source = findSourceTypeSettingsFor(font_family, fonts_list)\n\tif (!source) return false\n\treturn source.type\n}\n\nexport const findSelectedFontFamily = (font_family, fonts_list) => {\n\tlet source = findSourceTypeSettingsFor(font_family, fonts_list)\n\n\tif (!source) {\n\t\treturn null\n\t}\n\n\treturn source.families.find(({ family }) => family === font_family)\n}\n\nexport const decideVariationToSelect = (newValue, oldValue) => {\n\tif (newValue.all_variations.indexOf(oldValue.variation) > -1) {\n\t\treturn oldValue.variation\n\t}\n\n\tif (newValue.all_variations.indexOf('n4') > -1) {\n\t\treturn 'n4'\n\t}\n\n\treturn newValue.all_variations[0]\n}\n\nexport const humanizeVariationsShort = (variation) => {\n\tvar all = {\n\t\tn1: '100',\n\t\ti1: '100',\n\t\tn2: '200',\n\t\ti2: '200',\n\t\tn3: '300',\n\t\ti3: '300',\n\t\tn4: '400',\n\t\ti4: '400',\n\t\tn5: '500',\n\t\ti5: '500',\n\t\tn6: '600',\n\t\ti6: '600',\n\t\tn7: '700',\n\t\ti7: '700',\n\t\tn8: '800',\n\t\ti8: '800',\n\t\tn9: '900',\n\t\ti9: '900',\n\t\tDefault: __('Default', 'blocksy'),\n\t}\n\n\treturn all[variation]\n}\n\nexport const humanizeVariations = (variation) => {\n\tvar all = {\n\t\tn1: __('Thin 100', 'blocksy'),\n\t\ti1: __('Thin 100 Italic', 'blocksy'),\n\t\tn2: __('Extra-Light 200', 'blocksy'),\n\t\ti2: __('Extra-Light 200 Italic', 'blocksy'),\n\t\tn3: __('Light 300', 'blocksy'),\n\t\ti3: __('Light 300 Italic', 'blocksy'),\n\t\tn4: __('Regular', 'blocksy'),\n\t\ti4: __('Regular 400 Italic', 'blocksy'),\n\t\tn5: __('Medium 500', 'blocksy'),\n\t\ti5: __('Medium 500 Italic', 'blocksy'),\n\t\tn6: __('Semi-Bold 600', 'blocksy'),\n\t\ti6: __('Semi-Bold 600 Italic', 'blocksy'),\n\t\tn7: __('Bold 700', 'blocksy'),\n\t\ti7: __('Bold 700 Italic', 'blocksy'),\n\t\tn8: __('Extra-Bold 800', 'blocksy'),\n\t\ti8: __('Extra-Bold 800 Italic', 'blocksy'),\n\t\tn9: __('Ultra-Bold 900', 'blocksy'),\n\t\ti9: __('Ultra-Bold 900 Italic', 'blocksy'),\n\t\tDefault: __('Default Weight', 'blocksy'),\n\t}\n\n\treturn all[variation]\n}\n\nexport const familyForDisplay = (family) => {\n\tif (family.indexOf('ct_font') === 0) {\n\t\treturn family\n\t\t\t.replace('ct_font_', '')\n\t\t\t.replace(/([-_][a-z])/gi, ($1) =>\n\t\t\t\t$1.toUpperCase().replace('-', '').replace('_', '')\n\t\t\t)\n\t}\n\n\tif (family.indexOf('ct_typekit') === 0) {\n\t\treturn family\n\t\t\t.replace('ct_typekit_', '')\n\t\t\t.replace(/([-_][a-z])/gi, ($1) =>\n\t\t\t\t$1.toUpperCase().replace('-', ' ').replace('_', ' ')\n\t\t\t)\n\t}\n\n\tif (family === 'System Default') {\n\t\treturn __('System Default', 'blocksy')\n\t}\n\n\tif (family === 'Default') {\n\t\treturn __('Default', 'blocksy')\n\t}\n\n\treturn family\n}\n\nexport const humanizeFontSource = (source) => {\n\tlet titles = {\n\t\tsystem: __('System Font', 'blocksy'),\n\t\t'local-google-fonts': __('Local Google Font', 'blocksy'),\n\t\ttypekit: __('Adobe Font', 'blocksy'),\n\t\tfile: __('Custom Font', 'blocksy'),\n\t\tgoogle: __('Google Font', 'blocksy'),\n\t}\n\n\treturn titles[source] || source\n}\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount = /*#__PURE__*/new WeakSet();\n    devWarningsOverscanRowsColumnsCount = /*#__PURE__*/new WeakSet();\n    devWarningsTagName = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push(createElement(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _class;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection = /*#__PURE__*/new WeakSet();\n    devWarningsTagName$1 = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var itemCount = this.props.itemCount;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1));\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props2 = this.props,\n          direction = _this$props2.direction,\n          initialScrollOffset = _this$props2.initialScrollOffset,\n          layout = _this$props2.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          layout = _this$props3.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemCount = _this$props4.itemCount,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey$1 : _this$props4$itemKey,\n          layout = _this$props4.layout,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push(createElement(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props5 = this.props,\n          itemCount = _this$props5.itemCount,\n          overscanCount = _this$props5.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _class;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _excluded = [\"style\"],\n    _excluded2 = [\"style\"];\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, _excluded);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, _excluded2);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\nexport { FixedSizeGrid, FixedSizeList, VariableSizeGrid, VariableSizeList, areEqual, shouldComponentUpdate };\n//# sourceMappingURL=index.esm.js.map\n","import { createElement, PureComponent } from 'react';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1)Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2)Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\n// Check `document` and `window` in case of server-side rendering\nvar windowObject = void 0;\nif (typeof window !== 'undefined') {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== 'undefined') {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\n\nvar cancelFrame = null;\nvar requestFrame = null;\n\nvar TIMEOUT_DURATION = 20;\n\nvar clearTimeoutFn = windowObject.clearTimeout;\nvar setTimeoutFn = windowObject.setTimeout;\n\nvar cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\n\nvar requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\n\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame(_ref) {\n    var _ref2 = slicedToArray(_ref, 2),\n        animationFrameID = _ref2[0],\n        timeoutID = _ref2[1];\n\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    var animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n\n    var timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n\n    return [animationFrameID, timeoutID];\n  };\n}\n\nfunction createDetectElementResize(nonce) {\n  var animationKeyframes = void 0;\n  var animationName = void 0;\n  var animationStartEvent = void 0;\n  var animationStyle = void 0;\n  var checkTriggers = void 0;\n  var resetTriggers = void 0;\n  var scrollListener = void 0;\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n\n    scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false;\n    var keyframeprefix = '';\n    animationStartEvent = 'animationstart';\n    var domPrefixes = 'Webkit Moz O ms'.split(' ');\n    var startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' ');\n    var pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    animationName = 'resizeanim';\n    animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var expandTrigger = doc.createElement('div');\n        expandTrigger.className = 'expand-trigger';\n        expandTrigger.appendChild(doc.createElement('div'));\n        var contractTrigger = doc.createElement('div');\n        contractTrigger.className = 'contract-trigger';\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar AutoSizer = function (_React$PureComponent) {\n  inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      // Avoid rendering children before the initial measurements have been collected.\n      // At best this would just be wasting cycles.\n      var bailoutOnChildren = false;\n\n      if (!disableHeight) {\n        if (height === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        if (width === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      return createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: _extends({}, outerStyle, style)\n        },\n        !bailoutOnChildren && children(childParams)\n      );\n    }\n  }]);\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\n\nexport default AutoSizer;\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseEffect,\n\tuseRef,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { getDefaultFonts } from './default-data'\nimport {\n\tfamilyForDisplay,\n\thumanizeVariations,\n\tfontFamilyToCSSFamily,\n\thumanizeFontSource,\n} from './helpers'\nimport { FixedSizeList as List } from 'react-window'\nimport WebFontLoader from 'webfontloader'\nimport AutoSizer from 'react-virtualized-auto-sizer'\n\nimport { __ } from 'ct-i18n'\n\nlet loadedFonts = []\n\nconst loadGoogleFonts = (font_families) => {\n\tif (font_families.length === 0) return\n\n\tloadedFonts = [...loadedFonts, ...font_families.map(({ family }) => family)]\n\n\tconst googleFonts = font_families\n\t\t.map(({ family }) => family)\n\t\t.filter((family) => family.indexOf('ct_typekit') === -1)\n\n\tconst typekitFonts = font_families.filter(\n\t\t({ family }) => family.indexOf('ct_typekit') > -1\n\t)\n\n\tif (googleFonts.length > 0 || typekitFonts.length > 0) {\n\t\tWebFontLoader.load({\n\t\t\t...(googleFonts.length > 0\n\t\t\t\t? {\n\t\t\t\t\t\tgoogle: {\n\t\t\t\t\t\t\tfamilies: googleFonts,\n\t\t\t\t\t\t},\n\t\t\t\t  }\n\t\t\t\t: {}),\n\t\t\t...(typekitFonts.length > 0\n\t\t\t\t? {\n\t\t\t\t\t\ttypekit: {\n\t\t\t\t\t\t\tid: typekitFonts[0].kit,\n\t\t\t\t\t\t},\n\t\t\t\t  }\n\t\t\t\t: {}),\n\t\t\tclasses: false,\n\t\t\ttext: 'abcdefghijklmnopqrstuvwxyz',\n\t\t})\n\t}\n}\n\nconst SingleFont = ({\n\tdata: { linearFontsList, onPickFamily, value },\n\tindex,\n\tstyle,\n}) => {\n\tconst family = linearFontsList[index]\n\n\treturn (\n\t\t<div\n\t\t\tstyle={style}\n\t\t\tonClick={() => onPickFamily(family)}\n\t\t\tclassName={classnames(\n\t\t\t\t'ct-typography-single-font',\n\t\t\t\t`ct-${family.source}`,\n\t\t\t\t{\n\t\t\t\t\tactive: family.family === value.family,\n\t\t\t\t}\n\t\t\t)}\n\t\t\tkey={family.family}>\n\t\t\t<span className=\"ct-font-name\">\n\t\t\t\t<span\n\t\t\t\t\tclassName={`ct-font-type-${family.source}`}\n\t\t\t\t\ttitle={humanizeFontSource(family.source)}>\n\t\t\t\t\t{humanizeFontSource(family.source)[0]}\n\t\t\t\t</span>\n\t\t\t\t\n\t\t\t\t{familyForDisplay(family.display || family.family)}\n\n\t\t\t\t{family.variable && <i>({__('Variable', 'blocksy')})</i>}\n\t\t\t</span>\n\t\t\t<span\n\t\t\t\tstyle={{\n\t\t\t\t\tfontFamily: fontFamilyToCSSFamily(family.family),\n\t\t\t\t}}\n\t\t\t\tclassName=\"ct-font-preview\">\n\t\t\t\tSimply dummy text\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n\nconst FontsList = ({\n\toption,\n\tvalue,\n\tonPickFamily,\n\ttypographyList,\n\tlinearFontsList,\n\tcurrentView,\n\tsearchTerm,\n}) => {\n\tconst listRef = useRef(null)\n\tconst timerRef = useRef(null)\n\tconst [scrollTimer, setScrollTimer] = useState(null)\n\n\tuseEffect(() => {\n\t\tif (value.family) {\n\t\t\tlistRef.current.scrollToItem(\n\t\t\t\tlinearFontsList\n\t\t\t\t\t.map(({ family }) => family)\n\t\t\t\t\t.indexOf(value.family),\n\t\t\t\t'start'\n\t\t\t)\n\t\t}\n\t}, [])\n\n\tconst onScroll = () => {\n\t\tscrollTimer && clearTimeout(scrollTimer)\n\n\t\tsetScrollTimer(\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!listRef.current) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tconst [overscanStartIndex] = listRef.current._getRangeToRender()\n\n\t\t\t\tconst perPage = 25\n\n\t\t\t\tconst totalPages = Math.ceil(linearFontsList.length / perPage)\n\t\t\t\tconst startingPage = Math.ceil(\n\t\t\t\t\t(overscanStartIndex + 1) / perPage\n\t\t\t\t)\n\t\t\t\t// const stopPage = Math.ceil((overscanStopIndex + 1) / perPage)\n\n\t\t\t\tconst pageItems = [...Array(perPage)]\n\t\t\t\t\t.map((_, i) => (startingPage - 1) * perPage + i)\n\t\t\t\t\t.map((index) => linearFontsList[index])\n\t\t\t\t\t.filter((s) => !!s)\n\t\t\t\t\t.filter(\n\t\t\t\t\t\t({ source, family }) =>\n\t\t\t\t\t\t\tloadedFonts.indexOf(family) === -1 &&\n\t\t\t\t\t\t\t(source === 'google' || source === 'typekit')\n\t\t\t\t\t)\n\n\t\t\t\tloadGoogleFonts(pageItems)\n\t\t\t}, 100)\n\t\t)\n\t}\n\n\tuseEffect(() => {\n\t\tonScroll()\n\t}, [linearFontsList])\n\n\treturn (\n\t\t<List\n\t\t\theight={360}\n\t\t\titemCount={linearFontsList.length}\n\t\t\titemSize={85}\n\t\t\tref={listRef}\n\t\t\tonScroll={(e) => {\n\t\t\t\tonScroll()\n\t\t\t}}\n\t\t\titemData={{\n\t\t\t\tlinearFontsList,\n\t\t\t\tonPickFamily,\n\t\t\t\tvalue,\n\t\t\t}}\n\t\t\tonItemsRendered={({ overscanStartIndex, overscanStopIndex }) => {}}\n\t\t\tclassName=\"ct-typography-fonts\">\n\t\t\t{SingleFont}\n\t\t</List>\n\t)\n}\n\nexport default FontsList\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseEffect,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { getDefaultFonts } from './default-data'\nimport { humanizeVariations, findSelectedFontFamily } from './helpers'\nimport { animated } from '@react-spring/web'\n\nconst VariationsList = ({ option, value, onChange, typographyList, props }) => {\n\tconst selectedFontFamily = findSelectedFontFamily(\n\t\tvalue.family,\n\t\ttypographyList\n\t)\n\n\tconst parentEl = useRef(null)\n\n\tuseEffect(() => {\n\t\tif (!selectedFontFamily) {\n\t\t\treturn\n\t\t}\n\n\t\tparentEl.current.scrollTop =\n\t\t\t(\n\t\t\t\tparentEl.current.children[\n\t\t\t\t\tselectedFontFamily.all_variations.indexOf(value.variation)\n\t\t\t\t] || parentEl.current.children[0]\n\t\t\t).offsetTop - parentEl.current.offsetTop\n\t}, [selectedFontFamily])\n\n\treturn (\n\t\t<animated.ul\n\t\t\tstyle={props}\n\t\t\tclassName=\"ct-typography-variations\"\n\t\t\tref={parentEl}>\n\t\t\t{selectedFontFamily &&\n\t\t\t\tselectedFontFamily.all_variations.map((variation) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\tvariation,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\tactive: variation === value.variation,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tkey={variation}>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"ct-variation-name\"\n\t\t\t\t\t\t\tdata-variation={variation}>\n\t\t\t\t\t\t\t{humanizeVariations(variation)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t</animated.ul>\n\t)\n}\n\nexport default VariationsList\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseEffect,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { __ } from 'ct-i18n'\n\nimport { animated } from '@react-spring/web'\n\nimport GenericOptionType from '../../GenericOptionType'\n\nconst FontOptions = ({ option, value, sizeRef, onChange, props }) => {\n\treturn (\n\t\t<animated.ul\n\t\t\tstyle={props}\n\t\t\tclassName=\"ct-typography-options\"\n\t\t\tkey=\"options\">\n\t\t\t<li key=\"size\">\n\t\t\t\t<GenericOptionType\n\t\t\t\t\tvalue={value.size}\n\t\t\t\t\tvalues={value}\n\t\t\t\t\tid=\"size\"\n\t\t\t\t\toption={{\n\t\t\t\t\t\tid: 'size',\n\t\t\t\t\t\tlabel: __('Font Size', 'blocksy'),\n\t\t\t\t\t\ttype: 'ct-slider',\n\t\t\t\t\t\tvalue: option.value.size,\n\t\t\t\t\t\tref: sizeRef,\n\t\t\t\t\t\tresponsive: option.typography_responsive || true,\n\t\t\t\t\t\tunits: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'px',\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 200,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'em',\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 50,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'rem',\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 50,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'pt',\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 50,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'vw',\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: '',\n\t\t\t\t\t\t\t\ttype: 'custom',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}}\n\t\t\t\t\thasRevertButton={true}\n\t\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\tsize: newValue,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</li>\n\n\t\t\t<li key=\"line-height\">\n\t\t\t\t<GenericOptionType\n\t\t\t\t\tvalue={value['line-height']}\n\t\t\t\t\tvalues={value}\n\t\t\t\t\tid=\"line-height\"\n\t\t\t\t\toption={{\n\t\t\t\t\t\tid: 'line-height',\n\t\t\t\t\t\tlabel: __('Line Height', 'blocksy'),\n\t\t\t\t\t\ttype: 'ct-slider',\n\t\t\t\t\t\tvalue: option.value['line-height'],\n\t\t\t\t\t\tresponsive: option.typography_responsive || true,\n\t\t\t\t\t\tunits: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: '',\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 10,\n\t\t\t\t\t\t\t\tdecimals: 1,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'px',\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'em',\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'pt',\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: '%',\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}}\n\t\t\t\t\thasRevertButton={true}\n\t\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t'line-height': newValue,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</li>\n\n\t\t\t<li key=\"letter-spacing\">\n\t\t\t\t<GenericOptionType\n\t\t\t\t\tvalue={value['letter-spacing']}\n\t\t\t\t\tvalues={value}\n\t\t\t\t\tid=\"letter-spacing\"\n\t\t\t\t\toption={{\n\t\t\t\t\t\tid: 'letter-spacing',\n\t\t\t\t\t\tlabel: __('Letter Spacing', 'blocksy'),\n\t\t\t\t\t\ttype: 'ct-slider',\n\t\t\t\t\t\tvalue: option.value['letter-spacing'],\n\t\t\t\t\t\tresponsive: option.typography_responsive || true,\n\t\t\t\t\t\tdefaultPosition: 'center',\n\t\t\t\t\t\tunits: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'em',\n\t\t\t\t\t\t\t\tmin: -5,\n\t\t\t\t\t\t\t\tmax: 5,\n\t\t\t\t\t\t\t\tdecimals: 1,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'px',\n\t\t\t\t\t\t\t\tmin: -20,\n\t\t\t\t\t\t\t\tmax: 20,\n\t\t\t\t\t\t\t\tdecimals: 1,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tunit: 'rem',\n\t\t\t\t\t\t\t\tmin: -5,\n\t\t\t\t\t\t\t\tmax: 5,\n\t\t\t\t\t\t\t\tdecimals: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}}\n\t\t\t\t\thasRevertButton={true}\n\t\t\t\t\tonChange={(newValue) =>\n\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t'letter-spacing': newValue,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</li>\n\n\t\t\t<li key=\"variant\" className=\"ct-typography-variant\">\n\t\t\t\t<ul className={classnames('ct-text-transform')}>\n\t\t\t\t\t{['capitalize', 'uppercase'].map((variant) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={variant}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t'text-transform':\n\t\t\t\t\t\t\t\t\t\tvalue['text-transform'] === variant\n\t\t\t\t\t\t\t\t\t\t\t? 'none'\n\t\t\t\t\t\t\t\t\t\t\t: variant,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\tactive: variant === value['text-transform'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tdata-variant={variant}>\n\t\t\t\t\t\t\t<i className=\"ct-tooltip-top\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcapitalize: __('Capitalize', 'blocksy'),\n\t\t\t\t\t\t\t\t\t\tuppercase: __('Uppercase', 'blocksy'),\n\t\t\t\t\t\t\t\t\t}[variant]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\n\t\t\t\t<ul className={classnames('ct-text-decoration')}>\n\t\t\t\t\t{['line-through', 'underline'].map((variant) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={variant}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t\t'text-decoration':\n\t\t\t\t\t\t\t\t\t\tvalue['text-decoration'] === variant\n\t\t\t\t\t\t\t\t\t\t\t? 'none'\n\t\t\t\t\t\t\t\t\t\t\t: variant,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\tactive: variant === value['text-decoration'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tdata-variant={variant}>\n\t\t\t\t\t\t\t<i className=\"ct-tooltip-top\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'line-through': __(\n\t\t\t\t\t\t\t\t\t\t\t'Line Through',\n\t\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tunderline: __('Underline', 'blocksy'),\n\t\t\t\t\t\t\t\t\t}[variant]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</animated.ul>\n\t)\n}\n\nexport default FontOptions\n","import {\n\tFragment,\n\tcreateElement,\n\tComponent,\n\tuseRef,\n\tuseEffect,\n\tuseMemo,\n\tuseCallback,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport { getDefaultFonts } from './default-data'\nimport {\n\thumanizeVariationsShort,\n\tdecideVariationToSelect,\n\tfamilyForDisplay,\n} from './helpers'\nimport { __ } from 'ct-i18n'\nimport $ from 'jquery'\n\nimport bezierEasing from 'bezier-easing'\n\nimport { Transition, animated } from '@react-spring/web'\n\nimport FontsList from './FontsList'\nimport VariationsList from './VariationsList'\nimport FontOptions from './FontOptions'\n\nimport Overlay from '../../../customizer/components/Overlay'\n\nimport GenericOptionType from '../../GenericOptionType'\n\nconst combineRefs =\n\t(...refs) =>\n\t(el) => {\n\t\trefs.map((ref) => {\n\t\t\tif (typeof ref === 'function') {\n\t\t\t\tref(el)\n\t\t\t} else if (\n\t\t\t\ttypeof ref === 'object' &&\n\t\t\t\tref !== null &&\n\t\t\t\tref.hasOwnProperty('current')\n\t\t\t) {\n\t\t\t\tref.current = el\n\t\t\t} else if (ref === null) {\n\t\t\t\t// No-op\n\t\t\t}\n\t\t})\n\t}\n\nfunction fuzzysearch(needle, haystack) {\n\tvar hlen = haystack.length\n\tvar nlen = needle.length\n\tif (nlen > hlen) {\n\t\treturn false\n\t}\n\tif (nlen === hlen) {\n\t\treturn needle === haystack\n\t}\n\touter: for (var i = 0, j = 0; i < nlen; i++) {\n\t\tvar nch = needle.charCodeAt(i)\n\t\twhile (j < hlen) {\n\t\t\tif (haystack.charCodeAt(j++) === nch) {\n\t\t\t\tcontinue outer\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\n\treturn true\n}\n\nconst TypographyModal = ({\n\toption,\n\tvalue,\n\tinitialView,\n\tcurrentView,\n\tpreviousView,\n\tsetCurrentView,\n\tsetInititialView,\n\tonChange,\n\twrapperProps = {},\n\tconfirmationRef,\n\n\tisConfirmingGdpr,\n\tsetIsConfirmingGdpr,\n}) => {\n\tconst [shouldDismiss, setShouldDismiss] = useState(false)\n\n\tconst [typographyList, setTypographyList] = useState(\n\t\tgetDefaultFonts(option)\n\t)\n\tconst [isSearch, setIsSearch] = useState(false)\n\tconst [searchTerm, setSearchTerm] = useState('')\n\n\tconst direction = useMemo(() => {\n\t\tif (previousView === '_') {\n\t\t\treturn 'static'\n\t\t}\n\n\t\tif (\n\t\t\t(currentView === 'search' && previousView === 'fonts') ||\n\t\t\t(previousView === 'search' && currentView === 'fonts')\n\t\t) {\n\t\t\treturn 'static'\n\t\t}\n\n\t\tif (previousView === 'options') {\n\t\t\treturn 'right'\n\t\t}\n\n\t\tif (previousView === 'fonts' && currentView === 'variations') {\n\t\t\treturn 'right'\n\t\t}\n\n\t\treturn 'left'\n\t}, [currentView, previousView])\n\n\tconst inputEl = useRef(null)\n\tconst sizeEl = useRef(null)\n\n\tconst linearFontsList = Object.keys(typographyList).reduce(\n\t\t(currentList, currentSource) => [\n\t\t\t...currentList,\n\t\t\t...(typographyList[currentSource].families || []).filter(\n\t\t\t\t({ family }) =>\n\t\t\t\t\tfuzzysearch(searchTerm.toLowerCase(), family.toLowerCase())\n\t\t\t),\n\t\t],\n\t\t[]\n\t)\n\n\tconst fetchFontsList = async () => {\n\t\tconst body = new FormData()\n\n\t\tbody.append('action', 'blocksy_get_fonts_list')\n\n\t\ttry {\n\t\t\tconst response = await fetch(ajaxurl, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody,\n\t\t\t})\n\n\t\t\tif (response.status === 200) {\n\t\t\t\tconst { success, data } = await response.json()\n\n\t\t\t\tif (success) {\n\t\t\t\t\tsetTypographyList({\n\t\t\t\t\t\t...data.fonts,\n\t\t\t\t\t\tsystem: {\n\t\t\t\t\t\t\t...data.fonts.system,\n\t\t\t\t\t\t\tfamilies: [\n\t\t\t\t\t\t\t\t...(option.isDefault\n\t\t\t\t\t\t\t\t\t? []\n\t\t\t\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsource: 'system',\n\t\t\t\t\t\t\t\t\t\t\t\tfamily: 'Default',\n\t\t\t\t\t\t\t\t\t\t\t\tvariations: [],\n\t\t\t\t\t\t\t\t\t\t\t\tall_variations: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Default',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'n1',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'i1',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'n2',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'i2',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'n3',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'i3',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'n4',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'i4',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'n5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'i5',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'n6',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'i6',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'n7',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'i7',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'n8',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'i8',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'n9',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'i9',\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t  ]),\n\n\t\t\t\t\t\t\t\t...data.fonts.system.families,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\tuseEffect(() => {\n\t\tif (initialView && initialView !== 'done') {\n\t\t\tsetSearchTerm('')\n\t\t\tsetTimeout(() => {\n\t\t\t\t// setInititialView('done')\n\t\t\t})\n\t\t}\n\n\t\tif (initialView === 'font_size') {\n\t\t\tsetTimeout(() => sizeEl.current && sizeEl.current.focus(), 100)\n\t\t}\n\t}, [initialView])\n\n\tuseEffect(() => {\n\t\tfetchFontsList()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (currentView === 'search') {\n\t\t\tinputEl.current.focus()\n\t\t}\n\t}, [currentView])\n\n\tconst pickFontFamily = (family) => {\n\t\tonChange({\n\t\t\t...value,\n\t\t\tfamily: family.family,\n\t\t\tvariation: decideVariationToSelect(family, value),\n\t\t})\n\t}\n\n\treturn (\n\t\t<animated.div\n\t\t\tclassName=\"ct-option-modal ct-typography-modal\"\n\t\t\t{...wrapperProps}>\n\t\t\t<div className=\"ct-typography-container\">\n\t\t\t\t<ul\n\t\t\t\t\tclassName={classnames('ct-typography-top', {\n\t\t\t\t\t\t'ct-switch-panel': currentView !== 'options',\n\t\t\t\t\t\t'ct-static': previousView === '_',\n\t\t\t\t\t})}>\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName=\"ct-back\"\n\t\t\t\t\t\tonClick={() => setCurrentView('options')}>\n\t\t\t\t\t\t<svg width=\"10\" height=\"10\" viewBox=\"0 0 15 15\">\n\t\t\t\t\t\t\t<path d=\"M14.2,6.8H2.6l4-4c0.3-0.3,0.3-0.8,0-1.1c-0.3-0.3-0.8-0.3-1.1,0L0.2,7l0,0c0,0-0.1,0.1-0.1,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0,0,0.1,0,0.1l0,0c0,0,0,0,0,0c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0,0,0.1,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0.1C0.2,8,0.2,8,0.2,8l5.3,5.3c0.3,0.3,0.8,0.3,1.1,0c0.3-0.3,0.3-0.8,0-1.1l-4-4h11.7c0.4,0,0.8-0.3,0.8-0.8S14.7,6.8,14.2,6.8z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</li>\n\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName={classnames('ct-font', {\n\t\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\t\tcurrentView === 'search' ||\n\t\t\t\t\t\t\t\tcurrentView === 'fonts',\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetCurrentView(\n\t\t\t\t\t\t\t\tcurrentView === 'fonts' ? 'search' : 'fonts'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tsetSearchTerm('')\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{currentView !== 'search' && (\n\t\t\t\t\t\t\t<span>{familyForDisplay(value.family)}</span>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{currentView === 'search' && (\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\t\tref={inputEl}\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\t\t\t\tonKeyUp={(e) => {\n\t\t\t\t\t\t\t\t\tif (e.keyCode == 13) {\n\t\t\t\t\t\t\t\t\t\tif (linearFontsList.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tpickFontFamily(linearFontsList[0])\n\t\t\t\t\t\t\t\t\t\t\tsetCurrentView('options')\n\t\t\t\t\t\t\t\t\t\t\tsetSearchTerm('')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={({ target: { value } }) =>\n\t\t\t\t\t\t\t\t\tsetSearchTerm(value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<svg width=\"8\" height=\"8\" viewBox=\"0 0 15 15\">\n\t\t\t\t\t\t\t{currentView === 'search' && (\n\t\t\t\t\t\t\t\t<path d=\"M8.9,7.5l4.6-4.6c0.4-0.4,0.4-1,0-1.4c-0.4-0.4-1-0.4-1.4,0L7.5,6.1L2.9,1.5c-0.4-0.4-1-0.4-1.4,0c-0.4,0.4-0.4,1,0,1.4l4.6,4.6l-4.6,4.6c-0.4,0.4-0.4,1,0,1.4c0.4,0.4,1,0.4,1.4,0l4.6-4.6l4.6,4.6c0.4,0.4,1,0.4,1.4,0c0.4-0.4,0.4-1,0-1.4L8.9,7.5z\" />\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{currentView !== 'search' && (\n\t\t\t\t\t\t\t\t<path d=\"M14.6,14.6c-0.6,0.6-1.4,0.6-2,0l-2.5-2.5c-1,0.7-2.2,1-3.5,1C2.9,13.1,0,10.2,0,6.6S2.9,0,6.6,0c3.6,0,6.6,2.9,6.6,6.6c0,1.3-0.4,2.5-1,3.5l2.5,2.5C15.1,13.1,15.1,14,14.6,14.6z M6.6,1.9C4,1.9,1.9,4,1.9,6.6s2.1,4.7,4.7,4.7c2.6,0,4.7-2.1,4.7-4.7C11.3,4,9.2,1.9,6.6,1.9z\" />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</li>\n\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName={classnames('ct-weight', {\n\t\t\t\t\t\t\tactive: currentView === 'variations',\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tonClick={() => setCurrentView('variations')}>\n\t\t\t\t\t\t<span data-variation={value.variation}>\n\t\t\t\t\t\t\t{humanizeVariationsShort(value.variation)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<Transition\n\t\t\t\t\titems={currentView}\n\t\t\t\t\timmediate={direction === 'static'}\n\t\t\t\t\tconfig={(item, type) => ({\n\t\t\t\t\t\tduration: 210,\n\t\t\t\t\t\teasing: bezierEasing(0.455, 0.03, 0.515, 0.955),\n\t\t\t\t\t})}\n\t\t\t\t\tfrom={{\n\t\t\t\t\t\ttransform:\n\t\t\t\t\t\t\tdirection === 'left'\n\t\t\t\t\t\t\t\t? 'translateX(100%)'\n\t\t\t\t\t\t\t\t: 'translateX(-100%)',\n\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t}}\n\t\t\t\t\tenter={{\n\t\t\t\t\t\ttransform: 'translateX(0%)',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t}}\n\t\t\t\t\tleave={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttransform:\n\t\t\t\t\t\t\tdirection === 'left'\n\t\t\t\t\t\t\t\t? 'translateX(-100%)'\n\t\t\t\t\t\t\t\t: 'translateX(100%)',\n\t\t\t\t\t}}>\n\t\t\t\t\t{(props, currentView, transition, key) => {\n\t\t\t\t\t\tif (currentView === 'options') {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<FontOptions\n\t\t\t\t\t\t\t\t\tsizeRef={sizeEl}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\tprops={props}\n\t\t\t\t\t\t\t\t\tcurrentView={currentView}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tcurrentView === 'fonts' ||\n\t\t\t\t\t\t\tcurrentView === 'search'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<animated.div style={props} key={currentView}>\n\t\t\t\t\t\t\t\t\t<FontsList\n\t\t\t\t\t\t\t\t\t\ttypographyList={typographyList}\n\t\t\t\t\t\t\t\t\t\tsearchTerm={searchTerm}\n\t\t\t\t\t\t\t\t\t\tlinearFontsList={linearFontsList}\n\t\t\t\t\t\t\t\t\t\tcurrentView={`${currentView}:${previousView}`}\n\t\t\t\t\t\t\t\t\t\tonPickFamily={(family) => {\n\t\t\t\t\t\t\t\t\t\t\tif (family.source === 'google') {\n\t\t\t\t\t\t\t\t\t\t\t\tlet source =\n\t\t\t\t\t\t\t\t\t\t\t\t\twindow.ct_customizer_localizations\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? ct_customizer_localizations\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ct_localizations\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t!source.dismissed_google_fonts_notice\n\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsConfirmingGdpr(family)\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tpickFontFamily(family)\n\t\t\t\t\t\t\t\t\t\t\t// setCurrentView('options')\n\t\t\t\t\t\t\t\t\t\t\t// setSearchTerm('')\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</animated.div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (currentView === 'variations') {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<VariationsList\n\t\t\t\t\t\t\t\t\tcurrentView={currentView}\n\t\t\t\t\t\t\t\t\tprops={props}\n\t\t\t\t\t\t\t\t\ttypographyList={typographyList}\n\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tonChange(value)\n\t\t\t\t\t\t\t\t\t\t// setCurrentView('options')\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t</Transition>\n\t\t\t</div>\n\n\t\t\t<Overlay\n\t\t\t\titems={!!isConfirmingGdpr}\n\t\t\t\tclassName=\"ct-admin-modal ct-gdpr-fonts-notice\"\n\t\t\t\tonDismiss={() => {}}\n\t\t\t\trender={() => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"ct-modal-content\"\n\t\t\t\t\t\tref={confirmationRef}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n\t\t\t\t\t\t\t\t<path d=\"M18.3,14.4c-0.1,0.3-0.4,0.6-0.8,0.6h-15c-0.4,0-0.7-0.2-0.8-0.6s0-0.7,0.3-0.9c0,0,2.1-1.6,2.1-6.8c0-3.2,2.6-5.8,5.8-5.8c3.2,0,5.8,2.6,5.8,5.8c0,5.2,2.1,6.8,2.1,6.8C18.3,13.7,18.4,14.1,18.3,14.4z M11.9,16.8c-0.4-0.2-0.9-0.1-1.1,0.3c-0.1,0.2-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0-0.6-0.1c-0.1-0.1-0.2-0.2-0.3-0.3c-0.2-0.4-0.7-0.5-1.1-0.3c-0.4,0.2-0.5,0.7-0.3,1.1c0.2,0.4,0.5,0.7,0.9,0.9c0.4,0.2,0.8,0.3,1.2,0.3c0.2,0,0.4,0,0.6-0.1c0.6-0.2,1.2-0.6,1.5-1.2C12.4,17.5,12.3,17,11.9,16.8z\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</i>\n\t\t\t\t\t\t<h2 className=\"ct-modal-title\">\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"Looks like you've picked a Google Font\",\n\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</h2>\n\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t__html: sprintf(\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'By using external Google Fonts, your website might not comply with the privacy regulations in your country. As an alternative you can use a system font, our %sLocal Google Fonts%s extension, or this %splugin%s.',\n\t\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t'<a href=\"https://creativethemes.com/blocksy/docs/extensions/local-google-fonts/\" target=\"_blank\">',\n\t\t\t\t\t\t\t\t\t'</a>',\n\t\t\t\t\t\t\t\t\t'<a href=\"https://wordpress.org/plugins/local-google-fonts/\" target=\"_blank\">',\n\t\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"ct-modal-actions has-divider\"\n\t\t\t\t\t\t\tdata-buttons=\"2\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"ct-checkbox-container\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetShouldDismiss(!shouldDismiss)\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={classnames('ct-checkbox', {\n\t\t\t\t\t\t\t\t\t\tactive: shouldDismiss,\n\t\t\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\twidth=\"10\"\n\t\t\t\t\t\t\t\t\t\theight=\"8\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 11.2 9.1\">\n\t\t\t\t\t\t\t\t\t\t<polyline\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"check\"\n\t\t\t\t\t\t\t\t\t\t\tpoints=\"1.2,4.8 4.4,7.9 9.9,1.2\"></polyline>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\t\"I understand, don't show this notification again.\",\n\t\t\t\t\t\t\t\t\t'blocksy'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"button\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetIsConfirmingGdpr(false)\n\t\t\t\t\t\t\t\t\tsetShouldDismiss(false)\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{__('Cancel', 'blocksy')}\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"button button-primary\"\n\t\t\t\t\t\t\t\tdisabled={!shouldDismiss}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\tpickFontFamily(isConfirmingGdpr)\n\t\t\t\t\t\t\t\t\tsetIsConfirmingGdpr(false)\n\n\t\t\t\t\t\t\t\t\tif (shouldDismiss) {\n\t\t\t\t\t\t\t\t\t\tlet source =\n\t\t\t\t\t\t\t\t\t\t\twindow.ct_customizer_localizations\n\t\t\t\t\t\t\t\t\t\t\t\t? ct_customizer_localizations\n\t\t\t\t\t\t\t\t\t\t\t\t: ct_localizations\n\n\t\t\t\t\t\t\t\t\t\tsource.dismissed_google_fonts_notice =\n\t\t\t\t\t\t\t\t\t\t\t'yes'\n\n\t\t\t\t\t\t\t\t\t\t$.post(\n\t\t\t\t\t\t\t\t\t\t\tajaxurl,\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\twp_customize: 'on',\n\t\t\t\t\t\t\t\t\t\t\t\taction: 'blocksy_dismissed_google_fonts_notice_handler',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t() => {}\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{__('Continue', 'blocksy')}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</animated.div>\n\t)\n}\n\nexport default TypographyModal\n","import {\n\tFragment,\n\tcreateElement,\n\tcreatePortal,\n\tComponent,\n\tuseRef,\n\tuseReducer,\n\tuseEffect,\n\tuseMemo,\n\tuseCallback,\n\tuseState,\n} from '@wordpress/element'\nimport classnames from 'classnames'\nimport TypographyModal from './typography/TypographyModal'\nimport OutsideClickHandler from './react-outside-click-handler'\nimport { humanizeVariations, familyForDisplay } from './typography/helpers'\nimport { maybePromoteScalarValueIntoResponsive } from '../../customizer/components/responsive-controls'\n\nimport usePopoverMaker from '../helpers/usePopoverMaker'\n\nimport { Transition } from '@react-spring/web'\nimport bezierEasing from 'bezier-easing'\n\nimport { __ } from 'ct-i18n'\n\nconst getLeftForEl = (modal, el) => {\n\tif (!modal) return\n\tif (!el) return\n\n\tlet style = getComputedStyle(modal)\n\n\tlet wrapperLeft = parseFloat(style.left)\n\n\tel = el.getBoundingClientRect()\n\n\treturn {\n\t\t'--option-modal-arrow-position': `${\n\t\t\tel.left + el.width / 2 - wrapperLeft - 6\n\t\t}px`,\n\t}\n}\n\nconst Typography = ({\n\toption: { label = '', desc = '', attr = {} },\n\toption,\n\tvalue,\n\tdevice,\n\tonChange,\n}) => {\n\t// const [isOpen, setIsOpen] = useState(false)\n\n\t// options | fonts | variations | search\n\tconst [currentViewCache, setCurrentViewCache] = useState('_:_')\n\n\tconst [isConfirmingGdpr, setIsConfirmingGdpr] = useState(false)\n\n\tconst typographyWrapper = useRef()\n\n\tlet [currentView, previousView] = useMemo(\n\t\t() => currentViewCache.split(':'),\n\t\t[currentViewCache]\n\t)\n\n\tconst setCurrentView = useCallback(\n\t\t(newView) => setCurrentViewCache(`${newView}:${currentView}`),\n\t\t[currentView]\n\t)\n\n\tconst [{ isOpen, isTransitioning }, setModalState] = useState({\n\t\tisOpen: false,\n\t\tisTransitioning: false,\n\t})\n\n\tconst { styles, popoverProps } = usePopoverMaker({\n\t\tref: typographyWrapper,\n\t\tdefaultHeight: 430,\n\t\tshouldCalculate: isTransitioning || isOpen,\n\t})\n\n\tconst setIsOpen = (isOpen) => {\n\t\tsetModalState((state) => ({\n\t\t\t...state,\n\t\t\tisOpen,\n\t\t\tisTransitioning: true,\n\t\t}))\n\t}\n\n\tconst stopTransitioning = () =>\n\t\tsetModalState((state) => ({\n\t\t\t...state,\n\t\t\tisTransitioning: false,\n\t\t}))\n\n\tconst fontFamilyRef = useRef()\n\tconst fontSizeRef = useRef()\n\tconst fontWeightRef = useRef()\n\tconst dotsRef = useRef()\n\n\tconst confirmationRef = useRef()\n\n\tconst arrowLeft = useMemo(() => {\n\t\tconst view = currentView\n\n\t\tconst futureRef =\n\t\t\tview === 'options'\n\t\t\t\t? fontSizeRef.current\n\t\t\t\t: view === 'fonts'\n\t\t\t\t? fontFamilyRef.current\n\t\t\t\t: view === 'variations'\n\t\t\t\t? fontWeightRef.current\n\t\t\t\t: fontSizeRef.current\n\n\t\treturn (\n\t\t\tpopoverProps.ref &&\n\t\t\tpopoverProps.ref.current &&\n\t\t\tgetLeftForEl(popoverProps.ref.current, futureRef)\n\t\t)\n\t}, [\n\t\tisOpen,\n\t\tcurrentView,\n\t\tpopoverProps.ref,\n\t\tpopoverProps.ref && popoverProps.ref.current,\n\t\tfontFamilyRef && fontFamilyRef.current,\n\t\tfontWeightRef && fontWeightRef.current,\n\t\tfontSizeRef && fontSizeRef.current,\n\t\tdotsRef && dotsRef.current,\n\t])\n\n\tlet visualFontSize =\n\t\tmaybePromoteScalarValueIntoResponsive(value['size'])[device] ===\n\t\t'CT_CSS_SKIP_RULE'\n\t\t\t? __('Default Size', 'blocksy')\n\t\t\t: maybePromoteScalarValueIntoResponsive(value['size'])[device]\n\n\tlet currentFontSizeUnit = maybePromoteScalarValueIntoResponsive(\n\t\tvalue['size']\n\t)\n\t\t[device].toString()\n\t\t.replace(/[0-9]/g, '')\n\t\t.replace(/\\-/g, '')\n\t\t.replace(/\\./g, '')\n\t\t.replace('CT_CSS_SKIP_RULE', '')\n\n\tlet unitsList = ['px', 'em', 'rem', 'pt', 'vw']\n\n\tif (\n\t\tmaybePromoteScalarValueIntoResponsive(value['size'])[device] !==\n\t\t\t'CT_CSS_SKIP_RULE' &&\n\t\tunitsList.indexOf(currentFontSizeUnit) === -1\n\t) {\n\t\tvisualFontSize = __('Custom', 'blocksy')\n\t}\n\n\treturn (\n\t\t<div className={classnames('ct-typography', {})}>\n\t\t\t<OutsideClickHandler\n\t\t\t\tdisabled={!isOpen}\n\t\t\t\tuseCapture={false}\n\t\t\t\tclassName=\"ct-typohraphy-value\"\n\t\t\t\tadditionalRefs={[popoverProps.ref, confirmationRef]}\n\t\t\t\tonOutsideClick={() => {\n\t\t\t\t\tif (isConfirmingGdpr) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tsetIsOpen(false)\n\t\t\t\t}}\n\t\t\t\twrapperProps={{\n\t\t\t\t\tref: typographyWrapper,\n\t\t\t\t\tonClick: (e) => {\n\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\tif (isOpen) {\n\t\t\t\t\t\t\tsetCurrentView('options')\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetCurrentViewCache('options:_')\n\t\t\t\t\t\tsetIsOpen('options')\n\t\t\t\t\t},\n\t\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation()\n\n\t\t\t\t\t\t\tif (isOpen) {\n\t\t\t\t\t\t\t\tsetCurrentView('fonts')\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetCurrentViewCache('fonts:_')\n\t\t\t\t\t\t\tsetIsOpen('fonts')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"ct-font\"\n\t\t\t\t\t\tref={fontFamilyRef}>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{value.family === 'Default'\n\t\t\t\t\t\t\t\t? __('Default Family', 'blocksy')\n\t\t\t\t\t\t\t\t: familyForDisplay(value.family)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<i>/</i>\n\t\t\t\t\t<span\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation()\n\n\t\t\t\t\t\t\tif (isOpen) {\n\t\t\t\t\t\t\t\tsetCurrentView('options')\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetCurrentViewCache('options:_')\n\t\t\t\t\t\t\tsetIsOpen('font_size')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tref={fontSizeRef}\n\t\t\t\t\t\tclassName=\"ct-size\">\n\t\t\t\t\t\t<span>{visualFontSize}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<i>/</i>\n\t\t\t\t\t<span\n\t\t\t\t\t\tref={fontWeightRef}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation()\n\n\t\t\t\t\t\t\tif (isOpen) {\n\t\t\t\t\t\t\t\tsetCurrentView('variations')\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetCurrentViewCache('variations:_')\n\t\t\t\t\t\t\tsetIsOpen('variations')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"ct-weight\">\n\t\t\t\t\t\t<span>{humanizeVariations(value.variation)}</span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t<a ref={dotsRef} />\n\t\t\t</OutsideClickHandler>\n\n\t\t\t{(isTransitioning || isOpen) &&\n\t\t\t\tcreatePortal(\n\t\t\t\t\t<Transition\n\t\t\t\t\t\titems={isOpen}\n\t\t\t\t\t\tonRest={(isOpen) => {\n\t\t\t\t\t\t\tstopTransitioning()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tconfig={{\n\t\t\t\t\t\t\tduration: 100,\n\t\t\t\t\t\t\teasing: bezierEasing(0.25, 0.1, 0.25, 1.0),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tfrom={\n\t\t\t\t\t\t\tisOpen\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: { opacity: 1 }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tenter={\n\t\t\t\t\t\t\tisOpen\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\ttransform: 'scale3d(1, 1, 1)',\n\t\t\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tleave={\n\t\t\t\t\t\t\t!isOpen\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t{(style, item) => {\n\t\t\t\t\t\t\tif (!item) {\n\t\t\t\t\t\t\t\treturn null\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TypographyModal\n\t\t\t\t\t\t\t\t\tisConfirmingGdpr={isConfirmingGdpr}\n\t\t\t\t\t\t\t\t\tsetIsConfirmingGdpr={setIsConfirmingGdpr}\n\t\t\t\t\t\t\t\t\tconfirmationRef={confirmationRef}\n\t\t\t\t\t\t\t\t\twrapperProps={{\n\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t...style,\n\t\t\t\t\t\t\t\t\t\t\t...styles,\n\t\t\t\t\t\t\t\t\t\t\t...arrowLeft,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t...popoverProps,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t\tinitialView={item}\n\t\t\t\t\t\t\t\t\tsetInititialView={(initialView) =>\n\t\t\t\t\t\t\t\t\t\tsetIsOpen(initialView)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcurrentView={currentView}\n\t\t\t\t\t\t\t\t\tpreviousView={previousView}\n\t\t\t\t\t\t\t\t\tsetCurrentView={setCurrentView}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tisOpen &&\n\t\t\t\t\t\t\t((props) => (\n\t\t\t\t\t\t\t\t<TypographyModal\n\t\t\t\t\t\t\t\t\twrapperProps={{\n\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\t\t\t\t\t...styles,\n\t\t\t\t\t\t\t\t\t\t\t...arrowLeft,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t...popoverProps,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t\tinitialView={isOpen}\n\t\t\t\t\t\t\t\t\tsetInititialView={(initialView) =>\n\t\t\t\t\t\t\t\t\t\tsetIsOpen(initialView)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcurrentView={currentView}\n\t\t\t\t\t\t\t\t\tpreviousView={previousView}\n\t\t\t\t\t\t\t\t\tsetCurrentView={setCurrentView}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n                            */\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Transition>,\n\t\t\t\t\tdocument.body\n\t\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default Typography\n","import {\n\tcreateElement,\n\tcreatePortal,\n\tuseContext,\n\tFragment,\n\tuseState,\n\tComponent,\n\tuseRef,\n} from '@wordpress/element'\nimport { maybeTransformUnorderedChoices } from '../helpers/parse-choices.js'\nimport classnames from 'classnames'\nimport { Transition } from 'react-spring/renderprops'\nimport bezierEasing from 'bezier-easing'\nimport OutsideClickHandler from './react-outside-click-handler'\nimport { __ } from 'ct-i18n'\n\nconst InlineVisibility = ({ option, value, onChange }) => {\n\treturn (\n\t\t<ul\n\t\t\tclassName=\"ct-visibility-option ct-devices ct-buttons-group\"\n\t\t\t{...(option.attr || {})}>\n\t\t\t{maybeTransformUnorderedChoices(option.choices).map(\n\t\t\t\t({ key, value: val }) => (\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tactive: value[key],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t`ct-${key}`\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tonChange({\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\t[key]: value[key]\n\t\t\t\t\t\t\t\t\t? Object.values(value).filter((v) => v)\n\t\t\t\t\t\t\t\t\t\t\t.length === 1 && !option.allow_empty\n\t\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t\t: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t)}\n\t\t</ul>\n\t)\n}\n\nconst VisibilityModal = ({ option, value, onChange }) => {\n\tconst [{ isPicking, isTransitioning }, setAnimationState] = useState({\n\t\tisPicking: null,\n\t\tisTransitioning: null,\n\t})\n\n\tconst stopTransitioning = () =>\n\t\tsetAnimationState({\n\t\t\tisPicking,\n\t\t\tisTransitioning: false,\n\t\t})\n\n\tconst el = useRef()\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<OutsideClickHandler\n\t\t\t\tuseCapture={false}\n\t\t\t\tdisabled={!isPicking}\n\t\t\t\tclassName=\"ct-visibility-trigger\"\n\t\t\t\tadditionalRefs={[]}\n\t\t\t\tonOutsideClick={() => {\n\t\t\t\t\tif (!isPicking) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\tisTransitioning: true,\n\t\t\t\t\t\tisPicking: null,\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t\twrapperProps={{\n\t\t\t\t\tref: el,\n\t\t\t\t\tonClick: (e) => {\n\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\tsetAnimationState({\n\t\t\t\t\t\t\tisTransitioning: true,\n\t\t\t\t\t\t\tisPicking: true,\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t}}>\n\t\t\t\t<span>open visibility</span>\n\t\t\t</OutsideClickHandler>\n\n\t\t\t{(isTransitioning || isPicking) &&\n\t\t\t\tcreatePortal(\n\t\t\t\t\t<Transition\n\t\t\t\t\t\titems={isPicking}\n\t\t\t\t\t\tonRest={(isOpen) => {\n\t\t\t\t\t\t\tstopTransitioning()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tconfig={{\n\t\t\t\t\t\t\tduration: 100,\n\t\t\t\t\t\t\teasing: bezierEasing(0.25, 0.1, 0.25, 1.0),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tfrom={\n\t\t\t\t\t\t\tisPicking\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: { opacity: 1 }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tenter={\n\t\t\t\t\t\t\tisPicking\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\ttransform: 'scale3d(1, 1, 1)',\n\t\t\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tleave={\n\t\t\t\t\t\t\tisPicking\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\ttransform: 'scale3d(0.95, 0.95, 1)',\n\t\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t{(isPicking) =>\n\t\t\t\t\t\t\tisPicking &&\n\t\t\t\t\t\t\t((props) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tstyle={props}\n\t\t\t\t\t\t\t\t\tclassName=\"ct-box-shadow-modal\"\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonMouseDownCapture={(e) => {\n\t\t\t\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t\t\t\t\t\t\t\t\te.nativeEvent.stopPropagation()\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonMouseUpCapture={(e) => {\n\t\t\t\t\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t\t\t\t\t\t\t\t\te.nativeEvent.stopPropagation()\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<InlineVisibility\n\t\t\t\t\t\t\t\t\t\toption={option}\n\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t</Transition>,\n\t\t\t\t\tel.current.closest('.ct-labeled-group-item')\n\t\t\t\t\t\t? el.current\n\t\t\t\t\t\t\t\t.closest('.ct-labeled-group-item')\n\t\t\t\t\t\t\t\t.querySelector('.ct-visibility-modal-wrapper')\n\t\t\t\t\t\t: el.current.closest('.ct-single-palette')\n\t\t\t\t\t\t? el.current\n\t\t\t\t\t\t\t\t.closest('.ct-single-palette')\n\t\t\t\t\t\t\t\t.querySelector('.ct-visibility-modal-wrapper')\n\t\t\t\t\t\t: el.current.closest('.ct-visibility-modal-wrapper')\n\t\t\t\t\t\t? el.current.closest('.ct-visibility-modal-wrapper')\n\t\t\t\t\t\t: el.current\n\t\t\t\t\t\t\t\t.closest('.ct-control')\n\t\t\t\t\t\t\t\t.querySelector('.ct-visibility-modal-wrapper')\n\t\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nconst Visibility = ({\n\toption,\n\toption: {\n\t\t// inline | modal\n\t\tview = 'inline',\n\t},\n\tvalue,\n\tonChange,\n}) => {\n\tif (view === 'inline') {\n\t\treturn (\n\t\t\t<InlineVisibility\n\t\t\t\toption={option}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={onChange}\n\t\t\t/>\n\t\t)\n\t}\n\n\treturn <VisibilityModal option={option} value={value} onChange={onChange} />\n}\n\nVisibility.hiddenResponsive = true\n\nVisibility.ControlEnd = () => <div className=\"ct-visibility-modal-wrapper\" />\n\nexport default Visibility\n","import {\n\tcreateElement,\n\tComponent,\n\tuseState,\n\tFragment,\n} from '@wordpress/element'\nimport cls from 'classnames'\nimport { __, sprintf } from 'ct-i18n'\nimport NumberOption from './ct-number'\nimport classnames from 'classnames'\n\nconst WooColumnsAndRows = ({\n\tonChange,\n\tvalue,\n\toption,\n\toption: { columns_id, rows_id },\n\tdevice,\n\tonChangeFor,\n\tvalues,\n\tvalues: { woocommerce_catalog_columns, woocommerce_catalog_rows },\n}) => {\n\tconst rowsValue = rows_id ? values[rows_id] : woocommerce_catalog_rows\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classnames('ct-woo-columns-and-rows', {})}\n\t\t\t{...(device !== 'desktop' ? { 'data-disabled-last': '' } : {})}>\n\t\t\t<div>\n\t\t\t\t<NumberOption\n\t\t\t\t\toption={{\n\t\t\t\t\t\t...option,\n\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t...(option.attr || {}),\n\t\t\t\t\t\t\t'data-width': 'full',\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\t!columns_id && device === 'desktop'\n\t\t\t\t\t\t\t? woocommerce_catalog_columns\n\t\t\t\t\t\t\t: value\n\t\t\t\t\t}\n\t\t\t\t\tonChange={(val) => {\n\t\t\t\t\t\tdevice === 'desktop' && !columns_id\n\t\t\t\t\t\t\t? onChangeFor('woocommerce_catalog_columns', val)\n\t\t\t\t\t\t\t: onChange(val)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<p className=\"ct-option-description\">\n\t\t\t\t\t{__('Number of columns', 'blc')}\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<NumberOption\n\t\t\t\t\toption={{\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\tresponsive: false,\n\t\t\t\t\t\tvalue: 4,\n\t\t\t\t\t\tattr: {\n\t\t\t\t\t\t\t'data-width': 'full',\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={device === 'desktop' ? rowsValue : 'auto'}\n\t\t\t\t\tonChange={(val) => {\n\t\t\t\t\t\tdevice === 'desktop' &&\n\t\t\t\t\t\t\tonChangeFor(\n\t\t\t\t\t\t\t\trows_id || 'woocommerce_catalog_rows',\n\t\t\t\t\t\t\t\tval\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (wp.customize && wp.customize.previewer) {\n\t\t\t\t\t\t\twp.customize.previewer.send(\n\t\t\t\t\t\t\t\t'ct:sync:refresh_partial',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tid: rows_id || 'woocommerce_catalog_rows',\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<p className=\"ct-option-description\">\n\t\t\t\t\t{__('Number of rows', 'blc')}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nWooColumnsAndRows.renderingConfig = {\n\tgetValueForRevert: ({\n\t\tvalue,\n\t\tvalues: { woocommerce_catalog_columns, woocommerce_catalog_rows },\n\t\toption,\n\t\toption: { columns_id, rows_id },\n\t\tvalues,\n\t\tdevice,\n\t}) => {\n\t\tconst rowsValue = rows_id ? values[rows_id] : woocommerce_catalog_rows\n\n\t\tlet myResult = {\n\t\t\t...value,\n\t\t\tdesktop: woocommerce_catalog_columns,\n\t\t\twoocommerce_catalog_columns,\n\t\t\twoocommerce_catalog_rows,\n\t\t}\n\n\t\treturn myResult\n\t},\n\n\tcomputeOptionValue: (v) => ({\n\t\t...v,\n\t\twoocommerce_catalog_columns: 4,\n\t\twoocommerce_catalog_rows: 4,\n\t}),\n\n\tcomputeOptionValue: (v) => {\n\t\tconst result = {\n\t\t\t...v,\n\t\t\twoocommerce_catalog_columns: 4,\n\t\t\twoocommerce_catalog_rows: 4,\n\t\t}\n\n\t\treturn result\n\t},\n\n\tperformRevert: ({ onChangeFor }) => {\n\t\tonChangeFor('woocommerce_catalog_columns', 4)\n\t\tonChangeFor('woocommerce_catalog_rows', 4)\n\t},\n}\n\nexport default WooColumnsAndRows\n","import { createElement, Component, useState } from '@wordpress/element'\nimport cls from 'classnames'\nimport { __, sprintf } from 'ct-i18n'\nimport Ratio from './ct-ratio'\n\nconst WooCommerceRatio = ({\n\tvalue,\n\tonChange,\n\tonChangeFor,\n\tvalues,\n\tvalues: {\n\t\twoocommerce_thumbnail_cropping_custom_width,\n\t\twoocommerce_thumbnail_cropping_custom_height,\n\t},\n\toption,\n\t...props\n}) => {\n\treturn (\n\t\t<Ratio\n\t\t\tonChange={(val) => {\n\t\t\t\tlet isCustom = val.indexOf('/') === -1\n\t\t\t\tlet [width, height] = val.split(isCustom ? ':' : '/')\n\n\t\t\t\tif (val === 'original') {\n\t\t\t\t\tonChangeFor('woocommerce_thumbnail_cropping', 'uncropped')\n\t\t\t\t\tonChange('uncropped')\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tonChange(isCustom ? 'custom' : 'predefined')\n\t\t\t\tonChangeFor('woocommerce_thumbnail_cropping', 'custom')\n\n\t\t\t\tonChangeFor(\n\t\t\t\t\t'woocommerce_thumbnail_cropping_custom_height',\n\t\t\t\t\tparseFloat(height || '0') || 0\n\t\t\t\t)\n\n\t\t\t\tonChangeFor(\n\t\t\t\t\t'woocommerce_thumbnail_cropping_custom_width',\n\t\t\t\t\tparseFloat(width || '0') || 0\n\t\t\t\t)\n\t\t\t}}\n\t\t\tvalue={\n\t\t\t\tvalue === 'uncropped'\n\t\t\t\t\t? 'original'\n\t\t\t\t\t: value === '1:1'\n\t\t\t\t\t? `1/1`\n\t\t\t\t\t: `${woocommerce_thumbnail_cropping_custom_width}${\n\t\t\t\t\t\t\tvalue === 'custom' ? ':' : '/'\n\t\t\t\t\t  }${woocommerce_thumbnail_cropping_custom_height}`\n\t\t\t}\n\t\t\toption={{\n\t\t\t\t...option,\n\t\t\t\tvalue: '1/1',\n\t\t\t}}\n\t\t\tonChangeFor={onChangeFor}\n\t\t\tvalues={values}\n\t\t\t{...props}\n\t\t/>\n\t)\n}\n\nWooCommerceRatio.ControlEnd = () => (\n\t<div\n\t\tclassName=\"ct-color-modal-wrapper\"\n\t\tonMouseDown={(e) => e.stopPropagation()}\n\t\tonMouseUp={(e) => e.stopPropagation()}\n\t/>\n)\n\nexport default WooCommerceRatio\n","var __WEBPACK_NAMESPACE_OBJECT__ = window.wp.date;","import { createElement, Component } from '@wordpress/element'\nimport { DateTimePicker } from '@wordpress/components'\n\nimport { __experimentalGetSettings } from '@wordpress/date'\n\nconst LocalDateTimePicker = ({ value, option, onChange }) => {\n\tconst settings = __experimentalGetSettings()\n\n\tconst is12HourTime = /a(?!\\\\)/i.test(\n\t\tsettings.formats.time\n\t\t\t.toLowerCase() // Test only the lower case a\n\t\t\t.replace(/\\\\\\\\/g, '') // Replace \"//\" with empty strings\n\t\t\t.split('')\n\t\t\t.reverse()\n\t\t\t.join('') // Reverse the string and test for \"a\" not followed by a slash\n\t)\n\n\treturn (\n\t\t<div className=\"ct-date-time-picker\">\n\t\t\t<DateTimePicker\n\t\t\t\tcurrentDate={value ? value : new Date()}\n\t\t\t\tonChange={(date) => {\n\t\t\t\t\tonChange(date)\n\t\t\t\t}}\n\t\t\t\tis12Hour={is12HourTime}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\n/*\n\t<div className=\"ct-option-input\">\n\t\t<input\n\t\t\ttype=\"text\"\n\t\t\tvalue={value}\n\t\t\t{...{\n\t\t\t\t...(option.field_attr ? option.field_attr : {}),\n\t\t\t\t...(option.attr && option.attr.placeholder\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tplaceholder: option.attr.placeholder,\n\t\t\t\t\t  }\n\t\t\t\t\t: {}),\n\t\t\t}}\n\t\t\tonChange={({ target: { value } }) => onChange(value)}\n\t\t/>\n\t</div>\n)\n*/\n\nexport default LocalDateTimePicker\n","import { Fragment, createElement, Component } from '@wordpress/element'\n\nconst Hidden = ({ option: { text = '', attr = {} } }) => <Fragment />\n\nHidden.renderingConfig = { design: 'none' }\nHidden.MetaWrapper = () => null\n\nexport default Hidden\n","import {\n\tcreateElement,\n\tComponent,\n\tFragment,\n\tmemo,\n\tuseMemo,\n} from '@wordpress/element'\n\nconst HTML = (props) => {\n\tconst { option } = props\n\n\treturn (\n\t\t<div\n\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t__html: option.html || '',\n\t\t\t}}></div>\n\t)\n}\n\nexport default HTML\n","import {\n\tcreateElement,\n\tComponent,\n\tFragment,\n\tmemo,\n\tuseMemo,\n} from '@wordpress/element'\n\nconst Jsx = (props) => {\n\tconst { option } = props\n\n\tif (option.render) {\n\t\treturn option.render(props)\n\t}\n\n\treturn null\n}\n\nexport default Jsx\n","import {\n\tcreateElement,\n\tComponent,\n\tFragment,\n\tcreateRef,\n} from '@wordpress/element'\nimport cls from 'classnames'\n\nconst DISPLAY = {\n\tBLOCK: 'block',\n\tFLEX: 'flex',\n\tINLINE_BLOCK: 'inline-block',\n}\n\nconst defaultProps = {\n\tdisabled: false,\n\n\t// `useCapture` is set to true by default so that a `stopPropagation` in the\n\t// children will not prevent all outside click handlers from firing - maja\n\tuseCapture: true,\n\tdisplay: DISPLAY.BLOCK,\n}\n\nconst updateRef = (ref, instance) => {\n\tif (typeof ref === 'function') {\n\t\tref(instance)\n\t} else {\n\t\tref.current = instance\n\t}\n}\n\nexport default class OutsideClickHandler extends Component {\n\tcomponentDidMount() {\n\t\tconst { disabled, useCapture } = this.props\n\n\t\tif (!disabled) this.addMouseDownEventListener(useCapture)\n\t}\n\n\tchildNode = createRef()\n\n\tcheckIsInside = (event) => {\n\t\tconst result = [\n\t\t\tthis.childNode,\n\t\t\t...(this.props.additionalRefs || []),\n\t\t].reduce((isInside, currentRef) => {\n\t\t\tif (isInside) {\n\t\t\t\treturn isInside\n\t\t\t}\n\n\t\t\tif (!currentRef || !currentRef.current) {\n\t\t\t\treturn isInside\n\t\t\t}\n\n\t\t\treturn currentRef.current.contains(event.target)\n\t\t}, false)\n\n\t\treturn result\n\t}\n\n\tUNSAFE_componentWillReceiveProps({ disabled, useCapture }) {\n\t\tconst { disabled: prevDisabled } = this.props\n\n\t\tif (prevDisabled !== disabled) {\n\t\t\tif (disabled) {\n\t\t\t\tthis.removeEventListeners()\n\t\t\t} else {\n\t\t\t\tthis.addMouseDownEventListener(useCapture)\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.removeEventListeners()\n\t}\n\n\t// Use mousedown/mouseup to enforce that clicks remain outside the root's\n\t// descendant tree, even when dragged. This should also get triggered on\n\t// touch devices.\n\tonMouseDown = (e) => {\n\t\tconst { useCapture } = this.props\n\n\t\tif (!this.checkIsInside(e)) {\n\t\t\tif (this.removeMouseUp) {\n\t\t\t\tthis.removeMouseUp()\n\t\t\t\tthis.removeMouseUp = null\n\t\t\t}\n\n\t\t\tdocument.addEventListener('mouseup', this.onMouseUp, useCapture)\n\n\t\t\tthis.removeMouseUp = () => {\n\t\t\t\tdocument.removeEventListener(\n\t\t\t\t\t'mouseup',\n\t\t\t\t\tthis.onMouseUp,\n\t\t\t\t\tuseCapture\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n\n\t// Use mousedown/mouseup to enforce that clicks remain outside the root's\n\t// descendant tree, even when dragged. This should also get triggered on\n\t// touch devices.\n\tonMouseUp = (e) => {\n\t\tconst { onOutsideClick } = this.props\n\n\t\tif (this.removeMouseUp) {\n\t\t\tthis.removeMouseUp()\n\t\t\tthis.removeMouseUp = null\n\t\t}\n\n\t\tif (!this.checkIsInside(e)) {\n\t\t\tonOutsideClick(e)\n\t\t}\n\t}\n\n\tsetChildNodeRef = (ref) => {\n\t\tif (this.props.wrapperProps && this.props.wrapperProps.ref) {\n\t\t\tupdateRef(this.props.wrapperProps.ref, ref)\n\t\t}\n\n\t\tupdateRef(this.childNode, ref)\n\t}\n\n\taddMouseDownEventListener(useCapture) {\n\t\tdocument.addEventListener('mousedown', this.onMouseDown, useCapture)\n\n\t\tthis.removeMouseDown = () => {\n\t\t\tdocument.removeEventListener(\n\t\t\t\t'mousedown',\n\t\t\t\tthis.onMouseDown,\n\t\t\t\tuseCapture\n\t\t\t)\n\t\t}\n\t}\n\n\tremoveEventListeners() {\n\t\tif (this.removeMouseDown) this.removeMouseDown()\n\t\tif (this.removeMouseUp) this.removeMouseUp()\n\t}\n\n\trender() {\n\t\tconst { children, display, className, wrapperProps } = this.props\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={cls(className)}\n\t\t\t\t{...(wrapperProps || {})}\n\t\t\t\tref={this.setChildNodeRef}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nOutsideClickHandler.defaultProps = defaultProps\n","import { createElement } from '@wordpress/element'\n\nconst Text = ({ value, option, onChange }) => (\n\t<div className=\"ct-option-input\">\n\t\t<input\n\t\t\ttype=\"text\"\n\t\t\tvalue={value}\n\t\t\t{...{\n\t\t\t\t...(option.field_attr ? option.field_attr : {}),\n\t\t\t\t...(option.attr && option.attr.placeholder\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tplaceholder: option.attr.placeholder,\n\t\t\t\t\t  }\n\t\t\t\t\t: {}),\n\t\t\t}}\n\t\t\tonChange={({ target: { value } }) => onChange(value)}\n\t\t\t{...(option.select_on_focus\n\t\t\t\t? { onFocus: ({ target }) => target.select() }\n\t\t\t\t: {})}\n\t\t/>\n\t</div>\n)\n\nexport default Text\n","import { createElement, Component } from '@wordpress/element'\n\nconst TextArea = ({ value, option, onChange }) => {\n\tlet { placeholder, ...attr } = {\n\t\t...(option.attr || {}),\n\t}\n\n\treturn (\n\t\t<div className=\"ct-option-textarea\" {...attr}>\n\t\t\t<textarea\n\t\t\t\tvalue={value}\n\t\t\t\t{...{\n\t\t\t\t\t...(option.field_attr ? option.field_attr : {}),\n\t\t\t\t\t...(placeholder\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {}),\n\t\t\t\t}}\n\t\t\t\tonChange={({ target: { value } }) => onChange(value)}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default TextArea\n","import {\n\tcreateElement,\n\tuseRef,\n\tuseState,\n\tuseEffect,\n\tuseCallback,\n} from '@wordpress/element'\nimport md5 from 'md5'\n\nconst TextArea = ({ id, value, option, onChange }) => {\n\tconst el = useRef()\n\tconst editor = useRef(null)\n\tconst [editorId, _] = useState(\n\t\t`${id}-${md5(\n\t\t\tMath.random() + '-' + Math.random() + '-' + Math.random()\n\t\t)}`\n\t)\n\n\tconst correctEditor = () => wp.oldEditor || wp.editor\n\n\tconst listener = useCallback(\n\t\t() => onChange(correctEditor().getContent(editorId)),\n\t\t[editorId]\n\t)\n\n\tuseEffect(() => {\n\t\tcorrectEditor().initialize(editorId, {\n\t\t\tquicktags: true,\n\t\t\tmediaButtons: true,\n\t\t\t...option,\n\n\t\t\ttinymce: {\n\t\t\t\ttoolbar1:\n\t\t\t\t\t'formatselect,styleselect,bold,italic,bullist,numlist,link,alignleft,aligncenter,alignright,wp_adv',\n\t\t\t\ttoolbar2:\n\t\t\t\t\t'strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help',\n\n\t\t\t\t...(typeof option.tinymce === 'object' ? option.tinymce : {}),\n\t\t\t\tstyle_formats_merge: true,\n\t\t\t\tstyle_formats: [],\n\t\t\t},\n\t\t})\n\n\t\tsetTimeout(\n\t\t\t() =>\n\t\t\t\twindow.tinymce.editors[editorId] &&\n\t\t\t\twindow.tinymce.editors[editorId].on('change', listener)\n\t\t)\n\n\t\tif (wp.oldEditor) {\n\t\t\tsetTimeout(\n\t\t\t\t() => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\twindow.tinymce.editors[editorId].off('change', listener)\n\t\t\t\t\t\tcorrectEditor().remove(editorId)\n\n\t\t\t\t\t\tcorrectEditor().initialize(editorId, {\n\t\t\t\t\t\t\tquicktags: true,\n\t\t\t\t\t\t\tmediaButtons: true,\n\t\t\t\t\t\t\t...option,\n\n\t\t\t\t\t\t\ttinymce: {\n\t\t\t\t\t\t\t\ttoolbar1:\n\t\t\t\t\t\t\t\t\t'formatselect,styleselect,bold,italic,bullist,numlist,link,alignleft,aligncenter,alignright,wp_adv',\n\t\t\t\t\t\t\t\ttoolbar2:\n\t\t\t\t\t\t\t\t\t'strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help',\n\n\t\t\t\t\t\t\t\t...(typeof option.tinymce === 'object'\n\t\t\t\t\t\t\t\t\t? option.tinymce\n\t\t\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t\t\t\tstyle_formats_merge: true,\n\t\t\t\t\t\t\t\tstyle_formats: [],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\twindow.tinymce.editors[editorId] &&\n\t\t\t\t\t\t\t\twindow.tinymce.editors[editorId].on(\n\t\t\t\t\t\t\t\t\t'change',\n\t\t\t\t\t\t\t\t\tlistener\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}, 300)\n\t\t\t\t},\n\n\t\t\t\t1000\n\t\t\t)\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (!window.tinymce.editors[editorId]) return\n\n\t\t\tsetTimeout(() => {\n\t\t\t\twindow.tinymce.editors[editorId].off('change', listener)\n\t\t\t\tcorrectEditor().remove(editorId)\n\t\t\t}, 300)\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<div className=\"ct-option-editor\" {...(option.attr || {})}>\n\t\t\t<textarea\n\t\t\t\tstyle={{ opacity: 0 }}\n\t\t\t\tid={editorId}\n\t\t\t\tref={el}\n\t\t\t\tvalue={value}\n\t\t\t\tclassName=\"wp-editor-area\"\n\t\t\t\t{...{\n\t\t\t\t\t...(option.field_attr ? option.field_attr : {}),\n\t\t\t\t\t...(option.attr && option.attr.placeholder\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tplaceholder: option.attr.placeholder,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {}),\n\t\t\t\t}}\n\t\t\t\tonChange={({ target: { value } }) => onChange(value)}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default TextArea\n","__webpack_public_path__ = ct_localizations.public_url\n","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gatan Renaudeau 2014 - 2015  MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nfunction LinearEasing (x) {\n  return x;\n}\n\nmodule.exports = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar maybePromoteScalarValueIntoResponsive = function maybePromoteScalarValueIntoResponsive(value) {\n  var isResponsive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  /**\n   * Responsive value must necessarily have the desktop key attached to it\n   */\n  if (value && Object.keys(value).indexOf('desktop') > -1) {\n    if (!isResponsive) {\n      return value.desktop;\n    }\n\n    return value;\n  }\n\n  if (!isResponsive) {\n    return value;\n  }\n\n  return {\n    desktop: value,\n    tablet: value,\n    mobile: value\n  };\n};\n\nexports.maybePromoteScalarValueIntoResponsive = maybePromoteScalarValueIntoResponsive;\n//# sourceMappingURL=promote-into-responsive.js.map\n","var objectKeys = require('object-keys');\nvar isArguments = require('is-arguments');\nvar is = require('object-is');\nvar isRegex = require('is-regex');\nvar flags = require('regexp.prototype.flags');\nvar isDate = require('is-date-object');\n\nvar getTime = Date.prototype.getTime;\n\nfunction deepEqual(actual, expected, options) {\n  var opts = options || {};\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (opts.strict ? is(actual, expected) : actual === expected) {\n    return true;\n  }\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.\n  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {\n    return opts.strict ? is(actual, expected) : actual == expected;\n  }\n\n  /*\n   * 7.4. For all other Object pairs, including Array objects, equivalence is\n   * determined by having the same number of owned properties (as verified\n   * with Object.prototype.hasOwnProperty.call), the same set of keys\n   * (although not necessarily the same order), equivalent values for every\n   * corresponding key, and an identical 'prototype' property. Note: this\n   * accounts for both named and indexed properties on Arrays.\n   */\n  // eslint-disable-next-line no-use-before-define\n  return objEquiv(actual, expected, opts);\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer(x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {\n    return false;\n  }\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') {\n    return false;\n  }\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  /* eslint max-statements: [2, 50] */\n  var i, key;\n  if (typeof a !== typeof b) { return false; }\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) { return false; }\n\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) { return false; }\n\n  if (isArguments(a) !== isArguments(b)) { return false; }\n\n  var aIsRegex = isRegex(a);\n  var bIsRegex = isRegex(b);\n  if (aIsRegex !== bIsRegex) { return false; }\n  if (aIsRegex || bIsRegex) {\n    return a.source === b.source && flags(a) === flags(b);\n  }\n\n  if (isDate(a) && isDate(b)) {\n    return getTime.call(a) === getTime.call(b);\n  }\n\n  var aIsBuffer = isBuffer(a);\n  var bIsBuffer = isBuffer(b);\n  if (aIsBuffer !== bIsBuffer) { return false; }\n  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  if (typeof a !== typeof b) { return false; }\n\n  try {\n    var ka = objectKeys(a);\n    var kb = objectKeys(b);\n  } catch (e) { // happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) { return false; }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) { return false; }\n  }\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) { return false; }\n  }\n\n  return true;\n}\n\nmodule.exports = deepEqual;\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar hasPropertyDescriptors = require('has-property-descriptors')();\n\nvar supportsDescriptors = origDefineProperty && hasPropertyDescriptors;\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value; // eslint-disable-line no-param-reassign\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","/** @license React v17.0.2\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=60103,c=60106,d=60107,e=60108,f=60114,g=60109,h=60110,k=60112,l=60113,m=60120,n=60115,p=60116,q=60121,r=60122,u=60117,v=60129,w=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var x=Symbol.for;b=x(\"react.element\");c=x(\"react.portal\");d=x(\"react.fragment\");e=x(\"react.strict_mode\");f=x(\"react.profiler\");g=x(\"react.provider\");h=x(\"react.context\");k=x(\"react.forward_ref\");l=x(\"react.suspense\");m=x(\"react.suspense_list\");n=x(\"react.memo\");p=x(\"react.lazy\");q=x(\"react.block\");r=x(\"react.server.block\");u=x(\"react.fundamental\");v=x(\"react.debug_trace_mode\");w=x(\"react.legacy_hidden\")}\nfunction y(a){if(\"object\"===typeof a&&null!==a){var t=a.$$typeof;switch(t){case b:switch(a=a.type,a){case d:case f:case e:case l:case m:return a;default:switch(a=a&&a.$$typeof,a){case h:case k:case p:case n:case g:return a;default:return t}}case c:return t}}}var z=g,A=b,B=k,C=d,D=p,E=n,F=c,G=f,H=e,I=l;exports.ContextConsumer=h;exports.ContextProvider=z;exports.Element=A;exports.ForwardRef=B;exports.Fragment=C;exports.Lazy=D;exports.Memo=E;exports.Portal=F;exports.Profiler=G;exports.StrictMode=H;\nexports.Suspense=I;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return y(a)===h};exports.isContextProvider=function(a){return y(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return y(a)===k};exports.isFragment=function(a){return y(a)===d};exports.isLazy=function(a){return y(a)===p};exports.isMemo=function(a){return y(a)===n};\nexports.isPortal=function(a){return y(a)===c};exports.isProfiler=function(a){return y(a)===f};exports.isStrictMode=function(a){return y(a)===e};exports.isSuspense=function(a){return y(a)===l};exports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===v||a===e||a===l||a===m||a===w||\"object\"===typeof a&&null!==a&&(a.$$typeof===p||a.$$typeof===n||a.$$typeof===g||a.$$typeof===h||a.$$typeof===k||a.$$typeof===u||a.$$typeof===q||a[0]===r)?!0:!1};\nexports.typeOf=y;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","var tabbable = require('tabbable');\nvar xtend = require('xtend');\n\nvar listeningFocusTrap = null;\n\nfunction focusTrap(element, userOptions) {\n  var doc = document;\n  var container =\n    typeof element === 'string' ? doc.querySelector(element) : element;\n\n  var config = xtend(\n    {\n      returnFocusOnDeactivate: true,\n      escapeDeactivates: true\n    },\n    userOptions\n  );\n\n  var state = {\n    firstTabbableNode: null,\n    lastTabbableNode: null,\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false\n  };\n\n  var trap = {\n    activate: activate,\n    deactivate: deactivate,\n    pause: pause,\n    unpause: unpause\n  };\n\n  return trap;\n\n  function activate(activateOptions) {\n    if (state.active) return;\n\n    updateTabbableNodes();\n\n    state.active = true;\n    state.paused = false;\n    state.nodeFocusedBeforeActivation = doc.activeElement;\n\n    var onActivate =\n      activateOptions && activateOptions.onActivate\n        ? activateOptions.onActivate\n        : config.onActivate;\n    if (onActivate) {\n      onActivate();\n    }\n\n    addListeners();\n    return trap;\n  }\n\n  function deactivate(deactivateOptions) {\n    if (!state.active) return;\n\n    removeListeners();\n    state.active = false;\n    state.paused = false;\n\n    var onDeactivate =\n      deactivateOptions && deactivateOptions.onDeactivate !== undefined\n        ? deactivateOptions.onDeactivate\n        : config.onDeactivate;\n    if (onDeactivate) {\n      onDeactivate();\n    }\n\n    var returnFocus =\n      deactivateOptions && deactivateOptions.returnFocus !== undefined\n        ? deactivateOptions.returnFocus\n        : config.returnFocusOnDeactivate;\n    if (returnFocus) {\n      delay(function() {\n        tryFocus(state.nodeFocusedBeforeActivation);\n      });\n    }\n\n    return trap;\n  }\n\n  function pause() {\n    if (state.paused || !state.active) return;\n    state.paused = true;\n    removeListeners();\n  }\n\n  function unpause() {\n    if (!state.paused || !state.active) return;\n    state.paused = false;\n    addListeners();\n  }\n\n  function addListeners() {\n    if (!state.active) return;\n\n    // There can be only one listening focus trap at a time\n    if (listeningFocusTrap) {\n      listeningFocusTrap.pause();\n    }\n    listeningFocusTrap = trap;\n\n    updateTabbableNodes();\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    delay(function() {\n      tryFocus(getInitialFocusNode());\n    });\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, true);\n    doc.addEventListener('touchstart', checkPointerDown, true);\n    doc.addEventListener('click', checkClick, true);\n    doc.addEventListener('keydown', checkKey, true);\n\n    return trap;\n  }\n\n  function removeListeners() {\n    if (!state.active || listeningFocusTrap !== trap) return;\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    listeningFocusTrap = null;\n\n    return trap;\n  }\n\n  function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    var node = optionValue;\n    if (!optionValue) {\n      return null;\n    }\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue);\n      if (!node) {\n        throw new Error('`' + optionName + '` refers to no known node');\n      }\n    }\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n      if (!node) {\n        throw new Error('`' + optionName + '` did not return a node');\n      }\n    }\n    return node;\n  }\n\n  function getInitialFocusNode() {\n    var node;\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (container.contains(doc.activeElement)) {\n      node = doc.activeElement;\n    } else {\n      node = state.firstTabbableNode || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error(\n        \"You can't have a focus-trap without at least one focusable element\"\n      );\n    }\n\n    return node;\n  }\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  function checkPointerDown(e) {\n    if (container.contains(e.target)) return;\n    if (config.clickOutsideDeactivates) {\n      deactivate({\n        returnFocus: !tabbable.isFocusable(e.target)\n      });\n    } else {\n      e.preventDefault();\n    }\n  }\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  function checkFocusIn(e) {\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (container.contains(e.target) || e.target instanceof Document) {\n      return;\n    }\n    e.stopImmediatePropagation();\n    tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n  }\n\n  function checkKey(e) {\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      e.preventDefault();\n      deactivate();\n      return;\n    }\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  }\n\n  // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  function checkTab(e) {\n    updateTabbableNodes();\n    if (e.shiftKey && e.target === state.firstTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.lastTabbableNode);\n      return;\n    }\n    if (!e.shiftKey && e.target === state.lastTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.firstTabbableNode);\n      return;\n    }\n  }\n\n  function checkClick(e) {\n    if (config.clickOutsideDeactivates) return;\n    if (container.contains(e.target)) return;\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }\n\n  function updateTabbableNodes() {\n    var tabbableNodes = tabbable(container);\n    state.firstTabbableNode = tabbableNodes[0] || getInitialFocusNode();\n    state.lastTabbableNode =\n      tabbableNodes[tabbableNodes.length - 1] || getInitialFocusNode();\n  }\n\n  function tryFocus(node) {\n    if (node === doc.activeElement) return;\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus();\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  }\n}\n\nfunction isSelectableInput(node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n}\n\nfunction isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n}\n\nfunction isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n}\n\nfunction delay(fn) {\n  return setTimeout(fn, 0);\n}\n\nmodule.exports = focusTrap;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar functionsHaveNames = function functionsHaveNames() {\n\treturn typeof function f() {}.name === 'string';\n};\n\nvar gOPD = Object.getOwnPropertyDescriptor;\nif (gOPD) {\n\ttry {\n\t\tgOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\tgOPD = null;\n\t}\n}\n\nfunctionsHaveNames.functionsHaveConfigurableNames = function functionsHaveConfigurableNames() {\n\tif (!functionsHaveNames() || !gOPD) {\n\t\treturn false;\n\t}\n\tvar desc = gOPD(function () {}, 'name');\n\treturn !!desc && !!desc.configurable;\n};\n\nvar $bind = Function.prototype.bind;\n\nfunctionsHaveNames.boundFunctionsHaveNames = function boundFunctionsHaveNames() {\n\treturn functionsHaveNames() && typeof $bind === 'function' && function f() {}.bind().name !== '';\n};\n\nmodule.exports = functionsHaveNames;\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\tif ($defineProperty) {\n\t\ttry {\n\t\t\t$defineProperty({}, 'a', { value: 1 });\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\t// IE 8 has a broken defineProperty\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn false;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!hasPropertyDescriptors()) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateGetDayCall(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar has;\nvar $exec;\nvar isRegexMarker;\nvar badStringifier;\n\nif (hasToStringTag) {\n\thas = callBound('Object.prototype.hasOwnProperty');\n\t$exec = callBound('RegExp.prototype.exec');\n\tisRegexMarker = {};\n\n\tvar throwRegexMarker = function () {\n\t\tthrow isRegexMarker;\n\t};\n\tbadStringifier = {\n\t\ttoString: throwRegexMarker,\n\t\tvalueOf: throwRegexMarker\n\t};\n\n\tif (typeof Symbol.toPrimitive === 'symbol') {\n\t\tbadStringifier[Symbol.toPrimitive] = throwRegexMarker;\n\t}\n}\n\nvar $toString = callBound('Object.prototype.toString');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar regexClass = '[object RegExp]';\n\nmodule.exports = hasToStringTag\n\t// eslint-disable-next-line consistent-return\n\t? function isRegex(value) {\n\t\tif (!value || typeof value !== 'object') {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar descriptor = gOPD(value, 'lastIndex');\n\t\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\t\tif (!hasLastIndexDataProperty) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t$exec(value, badStringifier);\n\t\t} catch (e) {\n\t\t\treturn e === isRegexMarker;\n\t\t}\n\t}\n\t: function isRegex(value) {\n\t\t// In older browsers, typeof regex incorrectly returns 'function'\n\t\tif (!value || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn $toString(value) === regexClass;\n\t};\n","var defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar toArray = function (arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n};\n\n/**\n * Get nested property value\n *\n * Usage:\n * var obj = {foo: {bar: 'ok'}};\n * opg('foo/bar', obj); // 'ok'\n *\n * @param {String} properties 'a.b.c'\n * @param {Object} obj\n * @param {*} [defaultValue] If property will not exist\n * @param {String} [delimiter] Default '/'\n */\nvar opg = function opg(properties, obj, defaultValue) {\n  var delimiter = '/';\n\n  if (typeof properties == 'string') {\n    properties = properties.split(delimiter);\n  } else {\n    properties = [properties];\n  }\n\n  var property = properties.shift();\n\n  if (!obj || typeof obj[property] == 'undefined') {\n    return defaultValue;\n  }\n\n  if (properties.length) {\n    properties = properties.join(delimiter);\n\n    return opg(properties, obj[property], defaultValue, delimiter);\n  } else {\n    return obj[property];\n  }\n};\n\nvar propertiesWithoutLast = function propertiesWithoutLast(properties) {\n  var delimiter = '/';\n\n  if (typeof properties == 'string') {\n    properties = properties.split(delimiter);\n  }\n\n  if (properties.length > 1) {\n    properties.pop();\n  }\n\n  return properties;\n};\n\nvar normalizeCondition = function normalizeCondition(conditionDescriptor) {\n  if (!conditionDescriptor.all) {\n    if (!conditionDescriptor.any) {\n      conditionDescriptor = {\n        all: conditionDescriptor\n      };\n    }\n  }\n\n  return conditionDescriptor;\n};\n\n/**\n * Support:\n *\n * // TODO: maybe implement short circuits for conditions\n *\n * {\n *   'path/to/elem':         'exact_value',\n *   'path/to/other_elem':   '! negated_exact_value',\n *   'path/to/other_elem_1': 'first_val | second_val | third_possible_val',\n *   'path/to/other_elem_2': '! first_val | second_val',\n * }\n */\nvar matchValuesWithCondition = function matchValuesWithCondition(conditionDescriptor, inferedValuesForContext) {\n  var conditionsObject = Object.values(conditionDescriptor)[0];\n\n  var maybeGetMatcher = function maybeGetMatcher(matcher) {\n    if (matcher.length > 4) {\n      return false;\n    }\n\n    if (matcher.indexOf('any') === 0) {\n      return 'any';\n    }\n\n    if (matcher.indexOf('all') === 0) {\n      return 'all';\n    }\n\n    return false;\n  };\n\n  var valuesToCheck = Object.keys(conditionsObject).map(function (singleOptionPath, index) {\n    var maybeThat = Object.values(conditionsObject)[index];\n\n    if (maybeGetMatcher(singleOptionPath) === 'all' || maybeGetMatcher(singleOptionPath) === 'any') {\n      return matchValuesWithCondition(defineProperty({}, singleOptionPath, maybeThat), inferedValuesForContext);\n    }\n\n    return tryToMatchValueWithOptionPath(maybeThat, singleOptionPath, inferedValuesForContext);\n  });\n\n  if (maybeGetMatcher(Object.keys(conditionDescriptor)[0]) === 'all') {\n    return valuesToCheck.every(function (v) {\n      return !!v;\n    });\n  }\n\n  if (maybeGetMatcher(Object.keys(conditionDescriptor)[0]) === 'any') {\n    return valuesToCheck.some(function (v) {\n      return !!v;\n    });\n  }\n};\n\nfunction extractScalarValueFor(singleOptionPath, inferedValuesForContext) {\n  var getAsInfered = function getAsInfered(path) {\n    var values = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : inferedValuesForContext;\n    return opg(path, values);\n  };\n\n  if (singleOptionPath.indexOf(':') > -1) {\n    /**\n     * Congrats, gentlemans, we are having a custom matcher here\n     * To be honest, this is the dumbest thing I can figure out right now.\n     * There probably is a better way to handle that. One could go about\n     * getting an interface here or smth like that.\n     *\n     * WARNING: Hardcoded to ct-select.\n     * Also doesn't work with ct-inherit, will report the value\n     * incorrectly. Will be fixed properly when implementing the context\n     * asbtraction properly.\n     *\n     * choices matcher\n     * option_id:choices => LENGTH\n     */\n\n    var value = null;(function (thing, cb) {\n      return cb(thing);\n    })(singleOptionPath.split(':'), function (_ref) {\n      var _ref2 = toArray(_ref),\n          singleOptionPath = _ref2[0],\n          matcher = _ref2.slice(1);\n\n      // TODO: start implementing matchers after we are done with\n      // everything else with Vue renderer\n\n      matcher = matcher.join(':');\n\n      if (matcher === 'visibility') {\n        value = getAsInfered(singleOptionPath, _extends({}, inferedValuesForContext, defineProperty({}, propertiesWithoutLast(singleOptionPath), opg(propertiesWithoutLast(singleOptionPath), inferedValuesForContext)[inferedValuesForContext.wp_customizer_current_view] ? 'yes' : 'no')));\n      }\n\n      if (matcher === 'responsive') {\n        value = getAsInfered(singleOptionPath, _extends({}, inferedValuesForContext, defineProperty({}, propertiesWithoutLast(singleOptionPath), opg(propertiesWithoutLast(singleOptionPath), inferedValuesForContext)[inferedValuesForContext.wp_customizer_current_view] || opg(propertiesWithoutLast(singleOptionPath), inferedValuesForContext))));\n      }\n\n      if (matcher === 'truthy') {\n        value = !!getAsInfered(singleOptionPath) ? 'yes' : 'no';\n      }\n\n      if (matcher.indexOf('array-ids') > -1) {\n        var _matcher$split = matcher.split(':'),\n            _matcher$split2 = slicedToArray(_matcher$split, 3),\n            arrayIdsDescriptor = _matcher$split2[0],\n            id = _matcher$split2[1],\n            path = _matcher$split2[2];\n\n        var maybeValue = arrayIdsDescriptor.indexOf('array-ids-') > -1 ? arrayIdsDescriptor.split('-')[2] : false;\n\n        var _properValue = getAsInfered(singleOptionPath).filter(function (v) {\n          return v.id === id;\n        }).filter(function (v) {\n          if (maybeValue) {\n            return maybeValue === opg(path, v).toString();\n          }\n\n          return true;\n        });\n\n        value = _properValue.length === 0 ? 'no' : opg(path, _properValue[0]) || 'no';\n      }\n\n      if (matcher.indexOf('json:') > -1) {\n        value = getAsInfered(singleOptionPath + '/' + matcher.split(':')[1]).toString();\n      }\n\n      if (matcher === 'array_length') {\n        var _properValue2 = getAsInfered(singleOptionPath);\n\n        value = (_properValue2 || []).length.toString();\n      }\n\n      if (!value) {\n        throw new Error('Unknown matcher received. Please verify for typos. The received matcher: ' + matcher + '.');\n      }\n    });\n\n    /**\n     * Matcher got _matched_.\n     */\n    if (value) {\n      return value;\n    } else {\n      // Fall back to raw value check, but omit the matcher.\n      singleOptionPath = singleOptionPath.split(':')[0];\n    }\n  }\n\n  var properValue = getAsInfered(singleOptionPath);\n\n  if (!properValue) return false;\n\n  if (properValue.desktop) {\n    return properValue;\n  }\n\n  return properValue.toString();\n}\n\nfunction tryToMatchValueWithOptionPath(maybeThat, singleOptionPath, inferedValuesForContext) {\n  var properValue = extractScalarValueFor(singleOptionPath, inferedValuesForContext);\n\n  if (maybeThat && maybeThat.toString() && maybeThat.toString().indexOf('~') === 0) {\n    var toMatch = maybeThat.replace('~', '');\n\n    if (properValue.desktop) {\n      return properValue.desktop === toMatch || properValue.tablet === toMatch || properValue.mobile === toMatch;\n    }\n\n    return properValue === toMatch;\n  }\n\n  properValue = properValue.toString();\n  maybeThat = maybeThat.toString();\n\n  /**\n   * The context value is not yet stabilized\n   */\n  if (!properValue) return false;\n\n  /**\n   * Pipe operator\n   */\n  if (maybeThat.indexOf('|') > -1) {\n    if (maybeThat.indexOf('!') === 0) {\n      return maybeThat.substring(1).split('|').map(function (el) {\n        return el.trim();\n      }).includes(properValue.trim()) === -1;\n    } else {\n      return maybeThat.split('|').map(function (el) {\n        return el.trim();\n      }).indexOf(properValue.trim()) > -1;\n    }\n  }\n\n  /**\n   * Negation operator\n   */\n  if (maybeThat.indexOf('!') === 0) {\n    return properValue !== maybeThat.substring(1).trim();\n  }\n\n  /**\n   * Contains operator\n   */\n  if (maybeThat.indexOf('*') === 0) {\n    return properValue.indexOf(maybeThat.trim().substring(1).trim()) > -1;\n  }\n\n  /**\n   * Simple equality\n   */\n  return properValue === maybeThat.trim();\n}\n\nexport { opg, normalizeCondition, matchValuesWithCondition };\n//# sourceMappingURL=index.es.js.map\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in production bundle\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n      'If you dont need unpredictable IDs, you can use `nanoid/non-secure`. ' +\n      'For secure ID install `expo-random` locally and use `nanoid/async`.'\n    )\n  }\n  if (typeof self === 'undefined' || (!self.crypto && !self.msCrypto)) {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n      'If you dont need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nvar crypto = self.crypto || self.msCrypto\n\n// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_'\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 09 and a-z.\n  url += i.toString(36)\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase()\n}\n\nmodule.exports = function (size) {\n  var id = ''\n  var bytes = crypto.getRandomValues(new Uint8Array(size || 21))\n  i = size || 21\n\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // We cant use bytes bigger than the alphabet. 63 is 00111111 bitmask.\n    // This mask reduces random byte 0-255 to 0-63 values.\n    // There is no need in `|| ''` and `* 1.6` hacks in here,\n    // because bitmask trim bytes exact to alphabet size.\n    id += url[bytes[i] & 63]\n  }\n  return id\n}\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys.push.apply(ownKeys, Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { createElement, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport invariant from 'invariant';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\n\nvar Manager = function () {\n  function Manager() {\n    _classCallCheck(this, Manager);\n\n    _defineProperty(this, \"refs\", {});\n  }\n\n  _createClass(Manager, [{\n    key: \"add\",\n    value: function add(collection, ref) {\n      if (!this.refs[collection]) {\n        this.refs[collection] = [];\n      }\n\n      this.refs[collection].push(ref);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(collection, ref) {\n      var index = this.getIndex(collection, ref);\n\n      if (index !== -1) {\n        this.refs[collection].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }, {\n    key: \"getActive\",\n    value: function getActive() {\n      var _this = this;\n\n      return this.refs[this.active.collection].find(function (_ref) {\n        var node = _ref.node;\n        return node.sortableInfo.index == _this.active.index;\n      });\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(collection, ref) {\n      return this.refs[collection].indexOf(ref);\n    }\n  }, {\n    key: \"getOrderedRefs\",\n    value: function getOrderedRefs() {\n      var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.active.collection;\n      return this.refs[collection].sort(sortByIndex);\n    }\n  }]);\n\n  return Manager;\n}();\n\nfunction sortByIndex(_ref2, _ref3) {\n  var index1 = _ref2.node.sortableInfo.index;\n  var index2 = _ref3.node.sortableInfo.index;\n  return index1 - index2;\n}\n\nfunction arrayMove(array, from, to) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof console !== 'undefined') {\n      console.warn(\"Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move\");\n    }\n  }\n\n  array = array.slice();\n  array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\n  return array;\n}\nfunction omit(obj, keysToOmit) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\nvar events = {\n  end: ['touchend', 'touchcancel', 'mouseup'],\n  move: ['touchmove', 'mousemove'],\n  start: ['touchstart', 'mousedown']\n};\nvar vendorPrefix = function () {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return '';\n  }\n\n  var styles = window.getComputedStyle(document.documentElement, '') || ['-moz-hidden-iframe'];\n  var pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\n  switch (pre) {\n    case 'ms':\n      return 'ms';\n\n    default:\n      return pre && pre.length ? pre[0].toUpperCase() + pre.substr(1) : '';\n  }\n}();\nfunction setInlineStyles(node, styles) {\n  Object.keys(styles).forEach(function (key) {\n    node.style[key] = styles[key];\n  });\n}\nfunction setTranslate3d(node, translate) {\n  node.style[\"\".concat(vendorPrefix, \"Transform\")] = translate == null ? '' : \"translate3d(\".concat(translate.x, \"px,\").concat(translate.y, \"px,0)\");\n}\nfunction setTransitionDuration(node, duration) {\n  node.style[\"\".concat(vendorPrefix, \"TransitionDuration\")] = duration == null ? '' : \"\".concat(duration, \"ms\");\n}\nfunction closest(el, fn) {\n  while (el) {\n    if (fn(el)) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return null;\n}\nfunction limit(min, max, value) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction getPixelValue(stringValue) {\n  if (stringValue.substr(-2) === 'px') {\n    return parseFloat(stringValue);\n  }\n\n  return 0;\n}\n\nfunction getElementMargin(element) {\n  var style = window.getComputedStyle(element);\n  return {\n    bottom: getPixelValue(style.marginBottom),\n    left: getPixelValue(style.marginLeft),\n    right: getPixelValue(style.marginRight),\n    top: getPixelValue(style.marginTop)\n  };\n}\nfunction provideDisplayName(prefix, Component$$1) {\n  var componentName = Component$$1.displayName || Component$$1.name;\n  return componentName ? \"\".concat(prefix, \"(\").concat(componentName, \")\") : prefix;\n}\nfunction getScrollAdjustedBoundingClientRect(node, scrollDelta) {\n  var boundingClientRect = node.getBoundingClientRect();\n  return {\n    top: boundingClientRect.top + scrollDelta.top,\n    left: boundingClientRect.left + scrollDelta.left\n  };\n}\nfunction getPosition(event) {\n  if (event.touches && event.touches.length) {\n    return {\n      x: event.touches[0].pageX,\n      y: event.touches[0].pageY\n    };\n  } else if (event.changedTouches && event.changedTouches.length) {\n    return {\n      x: event.changedTouches[0].pageX,\n      y: event.changedTouches[0].pageY\n    };\n  } else {\n    return {\n      x: event.pageX,\n      y: event.pageY\n    };\n  }\n}\nfunction isTouchEvent(event) {\n  return event.touches && event.touches.length || event.changedTouches && event.changedTouches.length;\n}\nfunction getEdgeOffset(node, parent) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    left: 0,\n    top: 0\n  };\n\n  if (!node) {\n    return undefined;\n  }\n\n  var nodeOffset = {\n    left: offset.left + node.offsetLeft,\n    top: offset.top + node.offsetTop\n  };\n\n  if (node.parentNode === parent) {\n    return nodeOffset;\n  }\n\n  return getEdgeOffset(node.parentNode, parent, nodeOffset);\n}\nfunction getTargetIndex(newIndex, prevIndex, oldIndex) {\n  if (newIndex < oldIndex && newIndex > prevIndex) {\n    return newIndex - 1;\n  } else if (newIndex > oldIndex && newIndex < prevIndex) {\n    return newIndex + 1;\n  } else {\n    return newIndex;\n  }\n}\nfunction getLockPixelOffset(_ref) {\n  var lockOffset = _ref.lockOffset,\n      width = _ref.width,\n      height = _ref.height;\n  var offsetX = lockOffset;\n  var offsetY = lockOffset;\n  var unit = 'px';\n\n  if (typeof lockOffset === 'string') {\n    var match = /^[+-]?\\d*(?:\\.\\d*)?(px|%)$/.exec(lockOffset);\n    invariant(match !== null, 'lockOffset value should be a number or a string of a ' + 'number followed by \"px\" or \"%\". Given %s', lockOffset);\n    offsetX = parseFloat(lockOffset);\n    offsetY = parseFloat(lockOffset);\n    unit = match[1];\n  }\n\n  invariant(isFinite(offsetX) && isFinite(offsetY), 'lockOffset value should be a finite. Given %s', lockOffset);\n\n  if (unit === '%') {\n    offsetX = offsetX * width / 100;\n    offsetY = offsetY * height / 100;\n  }\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\nfunction getLockPixelOffsets(_ref2) {\n  var height = _ref2.height,\n      width = _ref2.width,\n      lockOffset = _ref2.lockOffset;\n  var offsets = Array.isArray(lockOffset) ? lockOffset : [lockOffset, lockOffset];\n  invariant(offsets.length === 2, 'lockOffset prop of SortableContainer should be a single ' + 'value or an array of exactly two values. Given %s', lockOffset);\n\n  var _offsets = _slicedToArray(offsets, 2),\n      minLockOffset = _offsets[0],\n      maxLockOffset = _offsets[1];\n\n  return [getLockPixelOffset({\n    height: height,\n    lockOffset: minLockOffset,\n    width: width\n  }), getLockPixelOffset({\n    height: height,\n    lockOffset: maxLockOffset,\n    width: width\n  })];\n}\n\nfunction isScrollable(el) {\n  var computedStyle = window.getComputedStyle(el);\n  var overflowRegex = /(auto|scroll)/;\n  var properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.find(function (property) {\n    return overflowRegex.test(computedStyle[property]);\n  });\n}\n\nfunction getScrollingParent(el) {\n  if (!(el instanceof HTMLElement)) {\n    return null;\n  } else if (isScrollable(el)) {\n    return el;\n  } else {\n    return getScrollingParent(el.parentNode);\n  }\n}\nfunction getContainerGridGap(element) {\n  var style = window.getComputedStyle(element);\n\n  if (style.display === 'grid') {\n    return {\n      x: getPixelValue(style.gridColumnGap),\n      y: getPixelValue(style.gridRowGap)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\nvar KEYCODE = {\n  TAB: 9,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\nvar NodeType = {\n  Anchor: 'A',\n  Button: 'BUTTON',\n  Canvas: 'CANVAS',\n  Input: 'INPUT',\n  Option: 'OPTION',\n  Textarea: 'TEXTAREA',\n  Select: 'SELECT'\n};\nfunction cloneNode(node) {\n  var selector = 'input, textarea, select, canvas, [contenteditable]';\n  var fields = node.querySelectorAll(selector);\n  var clonedNode = node.cloneNode(true);\n\n  var clonedFields = _toConsumableArray(clonedNode.querySelectorAll(selector));\n\n  clonedFields.forEach(function (field, i) {\n    if (field.type !== 'file') {\n      field.value = fields[i].value;\n    }\n\n    if (field.type === 'radio' && field.name) {\n      field.name = \"__sortableClone__\".concat(field.name);\n    }\n\n    if (field.tagName === NodeType.Canvas && fields[i].width > 0 && fields[i].height > 0) {\n      var destCtx = field.getContext('2d');\n      destCtx.drawImage(fields[i], 0, 0);\n    }\n  });\n  return clonedNode;\n}\n\nfunction sortableHandle(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableHandle, _React$Component);\n\n    function WithSortableHandle() {\n      _classCallCheck(this, WithSortableHandle);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithSortableHandle).apply(this, arguments));\n    }\n\n    _createClass(WithSortableHandle, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var node = findDOMNode(this);\n        node.sortableHandle = true;\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, this.props));\n      }\n    }]);\n\n    return WithSortableHandle;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableHandle', WrappedComponent)), _temp;\n}\nfunction isSortableHandle(node) {\n  return node.sortableHandle != null;\n}\n\nvar AutoScroller = function () {\n  function AutoScroller(container, onScrollCallback) {\n    _classCallCheck(this, AutoScroller);\n\n    this.container = container;\n    this.onScrollCallback = onScrollCallback;\n  }\n\n  _createClass(AutoScroller, [{\n    key: \"clear\",\n    value: function clear() {\n      if (this.interval == null) {\n        return;\n      }\n\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var _this = this;\n\n      var translate = _ref.translate,\n          minTranslate = _ref.minTranslate,\n          maxTranslate = _ref.maxTranslate,\n          width = _ref.width,\n          height = _ref.height;\n      var direction = {\n        x: 0,\n        y: 0\n      };\n      var speed = {\n        x: 1,\n        y: 1\n      };\n      var acceleration = {\n        x: 10,\n        y: 10\n      };\n      var _this$container = this.container,\n          scrollTop = _this$container.scrollTop,\n          scrollLeft = _this$container.scrollLeft,\n          scrollHeight = _this$container.scrollHeight,\n          scrollWidth = _this$container.scrollWidth,\n          clientHeight = _this$container.clientHeight,\n          clientWidth = _this$container.clientWidth;\n      var isTop = scrollTop === 0;\n      var isBottom = scrollHeight - scrollTop - clientHeight === 0;\n      var isLeft = scrollLeft === 0;\n      var isRight = scrollWidth - scrollLeft - clientWidth === 0;\n\n      if (translate.y >= maxTranslate.y - height / 2 && !isBottom) {\n        direction.y = 1;\n        speed.y = acceleration.y * Math.abs((maxTranslate.y - height / 2 - translate.y) / height);\n      } else if (translate.x >= maxTranslate.x - width / 2 && !isRight) {\n        direction.x = 1;\n        speed.x = acceleration.x * Math.abs((maxTranslate.x - width / 2 - translate.x) / width);\n      } else if (translate.y <= minTranslate.y + height / 2 && !isTop) {\n        direction.y = -1;\n        speed.y = acceleration.y * Math.abs((translate.y - height / 2 - minTranslate.y) / height);\n      } else if (translate.x <= minTranslate.x + width / 2 && !isLeft) {\n        direction.x = -1;\n        speed.x = acceleration.x * Math.abs((translate.x - width / 2 - minTranslate.x) / width);\n      }\n\n      if (this.interval) {\n        this.clear();\n        this.isAutoScrolling = false;\n      }\n\n      if (direction.x !== 0 || direction.y !== 0) {\n        this.interval = setInterval(function () {\n          _this.isAutoScrolling = true;\n          var offset = {\n            left: speed.x * direction.x,\n            top: speed.y * direction.y\n          };\n          _this.container.scrollTop += offset.top;\n          _this.container.scrollLeft += offset.left;\n\n          _this.onScrollCallback(offset);\n        }, 5);\n      }\n    }\n  }]);\n\n  return AutoScroller;\n}();\n\nfunction defaultGetHelperDimensions(_ref) {\n  var node = _ref.node;\n  return {\n    height: node.offsetHeight,\n    width: node.offsetWidth\n  };\n}\n\nfunction defaultShouldCancelStart(event) {\n  var interactiveElements = [NodeType.Input, NodeType.Textarea, NodeType.Select, NodeType.Option, NodeType.Button];\n\n  if (interactiveElements.indexOf(event.target.tagName) !== -1) {\n    return true;\n  }\n\n  if (closest(event.target, function (el) {\n    return el.contentEditable === 'true';\n  })) {\n    return true;\n  }\n\n  return false;\n}\n\nvar propTypes = {\n  axis: PropTypes.oneOf(['x', 'y', 'xy']),\n  contentWindow: PropTypes.any,\n  disableAutoscroll: PropTypes.bool,\n  distance: PropTypes.number,\n  getContainer: PropTypes.func,\n  getHelperDimensions: PropTypes.func,\n  helperClass: PropTypes.string,\n  helperContainer: PropTypes.oneOfType([PropTypes.func, typeof HTMLElement === 'undefined' ? PropTypes.any : PropTypes.instanceOf(HTMLElement)]),\n  hideSortableGhost: PropTypes.bool,\n  keyboardSortingTransitionDuration: PropTypes.number,\n  lockAxis: PropTypes.string,\n  lockOffset: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  lockToContainerEdges: PropTypes.bool,\n  onSortEnd: PropTypes.func,\n  onSortMove: PropTypes.func,\n  onSortOver: PropTypes.func,\n  onSortStart: PropTypes.func,\n  pressDelay: PropTypes.number,\n  pressThreshold: PropTypes.number,\n  keyCodes: PropTypes.shape({\n    lift: PropTypes.arrayOf(PropTypes.number),\n    drop: PropTypes.arrayOf(PropTypes.number),\n    cancel: PropTypes.arrayOf(PropTypes.number),\n    up: PropTypes.arrayOf(PropTypes.number),\n    down: PropTypes.arrayOf(PropTypes.number)\n  }),\n  shouldCancelStart: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  updateBeforeSortStart: PropTypes.func,\n  useDragHandle: PropTypes.bool,\n  useWindowAsScrollContainer: PropTypes.bool\n};\nvar defaultKeyCodes = {\n  lift: [KEYCODE.SPACE],\n  drop: [KEYCODE.SPACE],\n  cancel: [KEYCODE.ESC],\n  up: [KEYCODE.UP, KEYCODE.LEFT],\n  down: [KEYCODE.DOWN, KEYCODE.RIGHT]\n};\nvar defaultProps = {\n  axis: 'y',\n  disableAutoscroll: false,\n  distance: 0,\n  getHelperDimensions: defaultGetHelperDimensions,\n  hideSortableGhost: true,\n  lockOffset: '50%',\n  lockToContainerEdges: false,\n  pressDelay: 0,\n  pressThreshold: 5,\n  keyCodes: defaultKeyCodes,\n  shouldCancelStart: defaultShouldCancelStart,\n  transitionDuration: 300,\n  useWindowAsScrollContainer: false\n};\nvar omittedProps = Object.keys(propTypes);\nfunction validateProps(props) {\n  invariant(!(props.distance && props.pressDelay), 'Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.');\n}\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, value);\n}\nfunction sortableContainer(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableContainer, _React$Component);\n\n    function WithSortableContainer(props) {\n      var _this;\n\n      _classCallCheck(this, WithSortableContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WithSortableContainer).call(this, props));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleStart\", function (event) {\n        var _this$props = _this.props,\n            distance = _this$props.distance,\n            shouldCancelStart = _this$props.shouldCancelStart;\n\n        if (event.button === 2 || shouldCancelStart(event)) {\n          return;\n        }\n\n        _this.touched = true;\n        _this.position = getPosition(event);\n        var node = closest(event.target, function (el) {\n          return el.sortableInfo != null;\n        });\n\n        if (node && node.sortableInfo && _this.nodeIsChild(node) && !_this.state.sorting) {\n          var useDragHandle = _this.props.useDragHandle;\n          var _node$sortableInfo = node.sortableInfo,\n              index = _node$sortableInfo.index,\n              collection = _node$sortableInfo.collection,\n              disabled = _node$sortableInfo.disabled;\n\n          if (disabled) {\n            return;\n          }\n\n          if (useDragHandle && !closest(event.target, isSortableHandle)) {\n            return;\n          }\n\n          _this.manager.active = {\n            collection: collection,\n            index: index\n          };\n\n          if (!isTouchEvent(event) && event.target.tagName === NodeType.Anchor) {\n            event.preventDefault();\n          }\n\n          if (!distance) {\n            if (_this.props.pressDelay === 0) {\n              _this.handlePress(event);\n            } else {\n              _this.pressTimer = setTimeout(function () {\n                return _this.handlePress(event);\n              }, _this.props.pressDelay);\n            }\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nodeIsChild\", function (node) {\n        return node.sortableInfo.manager === _this.manager;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMove\", function (event) {\n        var _this$props2 = _this.props,\n            distance = _this$props2.distance,\n            pressThreshold = _this$props2.pressThreshold;\n\n        if (!_this.state.sorting && _this.touched && !_this._awaitingUpdateBeforeSortStart) {\n          var position = getPosition(event);\n          var delta = {\n            x: _this.position.x - position.x,\n            y: _this.position.y - position.y\n          };\n          var combinedDelta = Math.abs(delta.x) + Math.abs(delta.y);\n          _this.delta = delta;\n\n          if (!distance && (!pressThreshold || combinedDelta >= pressThreshold)) {\n            clearTimeout(_this.cancelTimer);\n            _this.cancelTimer = setTimeout(_this.cancel, 0);\n          } else if (distance && combinedDelta >= distance && _this.manager.isActive()) {\n            _this.handlePress(event);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleEnd\", function () {\n        _this.touched = false;\n\n        _this.cancel();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"cancel\", function () {\n        var distance = _this.props.distance;\n        var sorting = _this.state.sorting;\n\n        if (!sorting) {\n          if (!distance) {\n            clearTimeout(_this.pressTimer);\n          }\n\n          _this.manager.active = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handlePress\", function (event) {\n        try {\n          var active = _this.manager.getActive();\n\n          var _temp6 = function () {\n            if (active) {\n              var _temp7 = function _temp7() {\n                var index = _node.sortableInfo.index;\n                var margin = getElementMargin(_node);\n                var gridGap = getContainerGridGap(_this.container);\n\n                var containerBoundingRect = _this.scrollContainer.getBoundingClientRect();\n\n                var dimensions = _getHelperDimensions({\n                  index: index,\n                  node: _node,\n                  collection: _collection\n                });\n\n                _this.node = _node;\n                _this.margin = margin;\n                _this.gridGap = gridGap;\n                _this.width = dimensions.width;\n                _this.height = dimensions.height;\n                _this.marginOffset = {\n                  x: _this.margin.left + _this.margin.right + _this.gridGap.x,\n                  y: Math.max(_this.margin.top, _this.margin.bottom, _this.gridGap.y)\n                };\n                _this.boundingClientRect = _node.getBoundingClientRect();\n                _this.containerBoundingRect = containerBoundingRect;\n                _this.index = index;\n                _this.newIndex = index;\n                _this.axis = {\n                  x: _axis.indexOf('x') >= 0,\n                  y: _axis.indexOf('y') >= 0\n                };\n                _this.offsetEdge = getEdgeOffset(_node, _this.container);\n\n                if (_isKeySorting) {\n                  _this.initialOffset = getPosition(_objectSpread({}, event, {\n                    pageX: _this.boundingClientRect.left,\n                    pageY: _this.boundingClientRect.top\n                  }));\n                } else {\n                  _this.initialOffset = getPosition(event);\n                }\n\n                _this.initialScroll = {\n                  left: _this.scrollContainer.scrollLeft,\n                  top: _this.scrollContainer.scrollTop\n                };\n                _this.initialWindowScroll = {\n                  left: window.pageXOffset,\n                  top: window.pageYOffset\n                };\n                _this.helper = _this.helperContainer.appendChild(cloneNode(_node));\n                setInlineStyles(_this.helper, {\n                  boxSizing: 'border-box',\n                  height: \"\".concat(_this.height, \"px\"),\n                  left: \"\".concat(_this.boundingClientRect.left - margin.left, \"px\"),\n                  pointerEvents: 'none',\n                  position: 'fixed',\n                  top: \"\".concat(_this.boundingClientRect.top - margin.top, \"px\"),\n                  width: \"\".concat(_this.width, \"px\")\n                });\n\n                if (_isKeySorting) {\n                  _this.helper.focus();\n                }\n\n                if (_hideSortableGhost) {\n                  _this.sortableGhost = _node;\n                  setInlineStyles(_node, {\n                    opacity: 0,\n                    visibility: 'hidden'\n                  });\n                }\n\n                _this.minTranslate = {};\n                _this.maxTranslate = {};\n\n                if (_isKeySorting) {\n                  var _ref = _useWindowAsScrollContainer ? {\n                    top: 0,\n                    left: 0,\n                    width: _this.contentWindow.innerWidth,\n                    height: _this.contentWindow.innerHeight\n                  } : _this.containerBoundingRect,\n                      containerTop = _ref.top,\n                      containerLeft = _ref.left,\n                      containerWidth = _ref.width,\n                      containerHeight = _ref.height;\n\n                  var containerBottom = containerTop + containerHeight;\n                  var containerRight = containerLeft + containerWidth;\n\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = containerLeft - _this.boundingClientRect.left;\n                    _this.maxTranslate.x = containerRight - (_this.boundingClientRect.left + _this.width);\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = containerTop - _this.boundingClientRect.top;\n                    _this.maxTranslate.y = containerBottom - (_this.boundingClientRect.top + _this.height);\n                  }\n                } else {\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.left) - _this.boundingClientRect.left - _this.width / 2;\n                    _this.maxTranslate.x = (_useWindowAsScrollContainer ? _this.contentWindow.innerWidth : containerBoundingRect.left + containerBoundingRect.width) - _this.boundingClientRect.left - _this.width / 2;\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.top) - _this.boundingClientRect.top - _this.height / 2;\n                    _this.maxTranslate.y = (_useWindowAsScrollContainer ? _this.contentWindow.innerHeight : containerBoundingRect.top + containerBoundingRect.height) - _this.boundingClientRect.top - _this.height / 2;\n                  }\n                }\n\n                if (_helperClass) {\n                  _helperClass.split(' ').forEach(function (className) {\n                    return _this.helper.classList.add(className);\n                  });\n                }\n\n                _this.listenerNode = event.touches ? _node : _this.contentWindow;\n\n                if (_isKeySorting) {\n                  _this.listenerNode.addEventListener('wheel', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('mousedown', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('keydown', _this.handleKeyDown);\n                } else {\n                  events.move.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortMove, false);\n                  });\n                  events.end.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortEnd, false);\n                  });\n                }\n\n                _this.setState({\n                  sorting: true,\n                  sortingIndex: index\n                });\n\n                if (_onSortStart) {\n                  _onSortStart({\n                    node: _node,\n                    index: index,\n                    collection: _collection,\n                    isKeySorting: _isKeySorting,\n                    nodes: _this.manager.getOrderedRefs(),\n                    helper: _this.helper\n                  }, event);\n                }\n\n                if (_isKeySorting) {\n                  _this.keyMove(0);\n                }\n              };\n\n              var _this$props3 = _this.props,\n                  _axis = _this$props3.axis,\n                  _getHelperDimensions = _this$props3.getHelperDimensions,\n                  _helperClass = _this$props3.helperClass,\n                  _hideSortableGhost = _this$props3.hideSortableGhost,\n                  updateBeforeSortStart = _this$props3.updateBeforeSortStart,\n                  _onSortStart = _this$props3.onSortStart,\n                  _useWindowAsScrollContainer = _this$props3.useWindowAsScrollContainer;\n              var _node = active.node,\n                  _collection = active.collection;\n              var _isKeySorting = _this.manager.isKeySorting;\n\n              var _temp8 = function () {\n                if (typeof updateBeforeSortStart === 'function') {\n                  _this._awaitingUpdateBeforeSortStart = true;\n\n                  var _temp9 = _finallyRethrows(function () {\n                    var index = _node.sortableInfo.index;\n                    return Promise.resolve(updateBeforeSortStart({\n                      collection: _collection,\n                      index: index,\n                      node: _node,\n                      isKeySorting: _isKeySorting\n                    }, event)).then(function () {});\n                  }, function (_wasThrown, _result) {\n                    _this._awaitingUpdateBeforeSortStart = false;\n                    if (_wasThrown) throw _result;\n                    return _result;\n                  });\n\n                  if (_temp9 && _temp9.then) return _temp9.then(function () {});\n                }\n              }();\n\n              return _temp8 && _temp8.then ? _temp8.then(_temp7) : _temp7(_temp8);\n            }\n          }();\n\n          return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortMove\", function (event) {\n        var onSortMove = _this.props.onSortMove;\n\n        if (typeof event.preventDefault === 'function') {\n          event.preventDefault();\n        }\n\n        _this.updateHelperPosition(event);\n\n        _this.animateNodes();\n\n        _this.autoscroll();\n\n        if (onSortMove) {\n          onSortMove(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortEnd\", function (event) {\n        var _this$props4 = _this.props,\n            hideSortableGhost = _this$props4.hideSortableGhost,\n            onSortEnd = _this$props4.onSortEnd;\n        var _this$manager = _this.manager,\n            collection = _this$manager.active.collection,\n            isKeySorting = _this$manager.isKeySorting;\n\n        var nodes = _this.manager.getOrderedRefs();\n\n        if (_this.listenerNode) {\n          if (isKeySorting) {\n            _this.listenerNode.removeEventListener('wheel', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('mousedown', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('keydown', _this.handleKeyDown);\n          } else {\n            events.move.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortMove);\n            });\n            events.end.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortEnd);\n            });\n          }\n        }\n\n        _this.helper.parentNode.removeChild(_this.helper);\n\n        if (hideSortableGhost && _this.sortableGhost) {\n          setInlineStyles(_this.sortableGhost, {\n            opacity: '',\n            visibility: ''\n          });\n        }\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node2 = nodes[i];\n          var el = _node2.node;\n          _node2.edgeOffset = null;\n          _node2.boundingClientRect = null;\n          setTranslate3d(el, null);\n          setTransitionDuration(el, null);\n          _node2.translate = null;\n        }\n\n        _this.autoScroller.clear();\n\n        _this.manager.active = null;\n        _this.manager.isKeySorting = false;\n\n        _this.setState({\n          sorting: false,\n          sortingIndex: null\n        });\n\n        if (typeof onSortEnd === 'function') {\n          onSortEnd({\n            collection: collection,\n            newIndex: _this.newIndex,\n            oldIndex: _this.index,\n            isKeySorting: isKeySorting,\n            nodes: nodes\n          }, event);\n        }\n\n        _this.touched = false;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"autoscroll\", function () {\n        var disableAutoscroll = _this.props.disableAutoscroll;\n        var isKeySorting = _this.manager.isKeySorting;\n\n        if (disableAutoscroll) {\n          _this.autoScroller.clear();\n\n          return;\n        }\n\n        if (isKeySorting) {\n          var translate = _objectSpread({}, _this.translate);\n\n          var scrollX = 0;\n          var scrollY = 0;\n\n          if (_this.axis.x) {\n            translate.x = Math.min(_this.maxTranslate.x, Math.max(_this.minTranslate.x, _this.translate.x));\n            scrollX = _this.translate.x - translate.x;\n          }\n\n          if (_this.axis.y) {\n            translate.y = Math.min(_this.maxTranslate.y, Math.max(_this.minTranslate.y, _this.translate.y));\n            scrollY = _this.translate.y - translate.y;\n          }\n\n          _this.translate = translate;\n          setTranslate3d(_this.helper, _this.translate);\n          _this.scrollContainer.scrollLeft += scrollX;\n          _this.scrollContainer.scrollTop += scrollY;\n          return;\n        }\n\n        _this.autoScroller.update({\n          height: _this.height,\n          maxTranslate: _this.maxTranslate,\n          minTranslate: _this.minTranslate,\n          translate: _this.translate,\n          width: _this.width\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onAutoScroll\", function (offset) {\n        _this.translate.x += offset.left;\n        _this.translate.y += offset.top;\n\n        _this.animateNodes();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (event) {\n        var keyCode = event.keyCode;\n        var _this$props5 = _this.props,\n            shouldCancelStart = _this$props5.shouldCancelStart,\n            _this$props5$keyCodes = _this$props5.keyCodes,\n            customKeyCodes = _this$props5$keyCodes === void 0 ? {} : _this$props5$keyCodes;\n\n        var keyCodes = _objectSpread({}, defaultKeyCodes, customKeyCodes);\n\n        if (_this.manager.active && !_this.manager.isKeySorting || !_this.manager.active && (!keyCodes.lift.includes(keyCode) || shouldCancelStart(event) || !_this.isValidSortingTarget(event))) {\n          return;\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (keyCodes.lift.includes(keyCode) && !_this.manager.active) {\n          _this.keyLift(event);\n        } else if (keyCodes.drop.includes(keyCode) && _this.manager.active) {\n          _this.keyDrop(event);\n        } else if (keyCodes.cancel.includes(keyCode)) {\n          _this.newIndex = _this.manager.active.index;\n\n          _this.keyDrop(event);\n        } else if (keyCodes.up.includes(keyCode)) {\n          _this.keyMove(-1);\n        } else if (keyCodes.down.includes(keyCode)) {\n          _this.keyMove(1);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyLift\", function (event) {\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        var _node$sortableInfo2 = node.sortableInfo,\n            index = _node$sortableInfo2.index,\n            collection = _node$sortableInfo2.collection;\n        _this.initialFocusedNode = target;\n        _this.manager.isKeySorting = true;\n        _this.manager.active = {\n          index: index,\n          collection: collection\n        };\n\n        _this.handlePress(event);\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyMove\", function (shift) {\n        var nodes = _this.manager.getOrderedRefs();\n\n        var lastIndex = nodes[nodes.length - 1].node.sortableInfo.index;\n        var newIndex = _this.newIndex + shift;\n        var prevIndex = _this.newIndex;\n\n        if (newIndex < 0 || newIndex > lastIndex) {\n          return;\n        }\n\n        _this.prevIndex = prevIndex;\n        _this.newIndex = newIndex;\n        var targetIndex = getTargetIndex(_this.newIndex, _this.prevIndex, _this.index);\n        var target = nodes.find(function (_ref2) {\n          var node = _ref2.node;\n          return node.sortableInfo.index === targetIndex;\n        });\n        var targetNode = target.node;\n        var scrollDelta = _this.containerScrollDelta;\n        var targetBoundingClientRect = target.boundingClientRect || getScrollAdjustedBoundingClientRect(targetNode, scrollDelta);\n        var targetTranslate = target.translate || {\n          x: 0,\n          y: 0\n        };\n        var targetPosition = {\n          top: targetBoundingClientRect.top + targetTranslate.y - scrollDelta.top,\n          left: targetBoundingClientRect.left + targetTranslate.x - scrollDelta.left\n        };\n        var shouldAdjustForSize = prevIndex < newIndex;\n        var sizeAdjustment = {\n          x: shouldAdjustForSize && _this.axis.x ? targetNode.offsetWidth - _this.width : 0,\n          y: shouldAdjustForSize && _this.axis.y ? targetNode.offsetHeight - _this.height : 0\n        };\n\n        _this.handleSortMove({\n          pageX: targetPosition.left + sizeAdjustment.x,\n          pageY: targetPosition.top + sizeAdjustment.y,\n          ignoreTransition: shift === 0\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyDrop\", function (event) {\n        _this.handleSortEnd(event);\n\n        if (_this.initialFocusedNode) {\n          _this.initialFocusedNode.focus();\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyEnd\", function (event) {\n        if (_this.manager.active) {\n          _this.keyDrop(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isValidSortingTarget\", function (event) {\n        var useDragHandle = _this.props.useDragHandle;\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        return node && node.sortableInfo && !node.sortableInfo.disabled && (useDragHandle ? isSortableHandle(target) : target.sortableInfo);\n      });\n\n      validateProps(props);\n      _this.manager = new Manager();\n      _this.events = {\n        end: _this.handleEnd,\n        move: _this.handleMove,\n        start: _this.handleStart\n      };\n      return _this;\n    }\n\n    _createClass(WithSortableContainer, [{\n      key: \"getChildContext\",\n      value: function getChildContext() {\n        return {\n          manager: this.manager\n        };\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n        var container = this.getContainer();\n        Promise.resolve(container).then(function (containerNode) {\n          _this2.container = containerNode;\n          _this2.document = _this2.container.ownerDocument || document;\n          var contentWindow = _this2.props.contentWindow || _this2.document.defaultView || window;\n          _this2.contentWindow = typeof contentWindow === 'function' ? contentWindow() : contentWindow;\n          _this2.scrollContainer = useWindowAsScrollContainer ? _this2.document.scrollingElement || _this2.document.documentElement : getScrollingParent(_this2.container) || _this2.container;\n          _this2.autoScroller = new AutoScroller(_this2.scrollContainer, _this2.onAutoScroll);\n          Object.keys(_this2.events).forEach(function (key) {\n            return events[key].forEach(function (eventName) {\n              return _this2.container.addEventListener(eventName, _this2.events[key], false);\n            });\n          });\n\n          _this2.container.addEventListener('keydown', _this2.handleKeyDown);\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this3 = this;\n\n        if (this.helper && this.helper.parentNode) {\n          this.helper.parentNode.removeChild(this.helper);\n        }\n\n        if (!this.container) {\n          return;\n        }\n\n        Object.keys(this.events).forEach(function (key) {\n          return events[key].forEach(function (eventName) {\n            return _this3.container.removeEventListener(eventName, _this3.events[key]);\n          });\n        });\n        this.container.removeEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"updateHelperPosition\",\n      value: function updateHelperPosition(event) {\n        var _this$props6 = this.props,\n            lockAxis = _this$props6.lockAxis,\n            lockOffset = _this$props6.lockOffset,\n            lockToContainerEdges = _this$props6.lockToContainerEdges,\n            transitionDuration = _this$props6.transitionDuration,\n            _this$props6$keyboard = _this$props6.keyboardSortingTransitionDuration,\n            keyboardSortingTransitionDuration = _this$props6$keyboard === void 0 ? transitionDuration : _this$props6$keyboard;\n        var isKeySorting = this.manager.isKeySorting;\n        var ignoreTransition = event.ignoreTransition;\n        var offset = getPosition(event);\n        var translate = {\n          x: offset.x - this.initialOffset.x,\n          y: offset.y - this.initialOffset.y\n        };\n        translate.y -= window.pageYOffset - this.initialWindowScroll.top;\n        translate.x -= window.pageXOffset - this.initialWindowScroll.left;\n        this.translate = translate;\n\n        if (lockToContainerEdges) {\n          var _getLockPixelOffsets = getLockPixelOffsets({\n            height: this.height,\n            lockOffset: lockOffset,\n            width: this.width\n          }),\n              _getLockPixelOffsets2 = _slicedToArray(_getLockPixelOffsets, 2),\n              minLockOffset = _getLockPixelOffsets2[0],\n              maxLockOffset = _getLockPixelOffsets2[1];\n\n          var minOffset = {\n            x: this.width / 2 - minLockOffset.x,\n            y: this.height / 2 - minLockOffset.y\n          };\n          var maxOffset = {\n            x: this.width / 2 - maxLockOffset.x,\n            y: this.height / 2 - maxLockOffset.y\n          };\n          translate.x = limit(this.minTranslate.x + minOffset.x, this.maxTranslate.x - maxOffset.x, translate.x);\n          translate.y = limit(this.minTranslate.y + minOffset.y, this.maxTranslate.y - maxOffset.y, translate.y);\n        }\n\n        if (lockAxis === 'x') {\n          translate.y = 0;\n        } else if (lockAxis === 'y') {\n          translate.x = 0;\n        }\n\n        if (isKeySorting && keyboardSortingTransitionDuration && !ignoreTransition) {\n          setTransitionDuration(this.helper, keyboardSortingTransitionDuration);\n        }\n\n        setTranslate3d(this.helper, translate);\n      }\n    }, {\n      key: \"animateNodes\",\n      value: function animateNodes() {\n        var _this$props7 = this.props,\n            transitionDuration = _this$props7.transitionDuration,\n            hideSortableGhost = _this$props7.hideSortableGhost,\n            onSortOver = _this$props7.onSortOver;\n        var containerScrollDelta = this.containerScrollDelta,\n            windowScrollDelta = this.windowScrollDelta;\n        var nodes = this.manager.getOrderedRefs();\n        var sortingOffset = {\n          left: this.offsetEdge.left + this.translate.x + containerScrollDelta.left,\n          top: this.offsetEdge.top + this.translate.y + containerScrollDelta.top\n        };\n        var isKeySorting = this.manager.isKeySorting;\n        var prevIndex = this.newIndex;\n        this.newIndex = null;\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node3 = nodes[i].node;\n          var index = _node3.sortableInfo.index;\n          var width = _node3.offsetWidth;\n          var height = _node3.offsetHeight;\n          var offset = {\n            height: this.height > height ? height / 2 : this.height / 2,\n            width: this.width > width ? width / 2 : this.width / 2\n          };\n          var mustShiftBackward = isKeySorting && index > this.index && index <= prevIndex;\n          var mustShiftForward = isKeySorting && index < this.index && index >= prevIndex;\n          var translate = {\n            x: 0,\n            y: 0\n          };\n          var edgeOffset = nodes[i].edgeOffset;\n\n          if (!edgeOffset) {\n            edgeOffset = getEdgeOffset(_node3, this.container);\n            nodes[i].edgeOffset = edgeOffset;\n\n            if (isKeySorting) {\n              nodes[i].boundingClientRect = getScrollAdjustedBoundingClientRect(_node3, containerScrollDelta);\n            }\n          }\n\n          var nextNode = i < nodes.length - 1 && nodes[i + 1];\n          var prevNode = i > 0 && nodes[i - 1];\n\n          if (nextNode && !nextNode.edgeOffset) {\n            nextNode.edgeOffset = getEdgeOffset(nextNode.node, this.container);\n\n            if (isKeySorting) {\n              nextNode.boundingClientRect = getScrollAdjustedBoundingClientRect(nextNode.node, containerScrollDelta);\n            }\n          }\n\n          if (index === this.index) {\n            if (hideSortableGhost) {\n              this.sortableGhost = _node3;\n              setInlineStyles(_node3, {\n                opacity: 0,\n                visibility: 'hidden'\n              });\n            }\n\n            continue;\n          }\n\n          if (transitionDuration) {\n            setTransitionDuration(_node3, transitionDuration);\n          }\n\n          if (this.axis.x) {\n            if (this.axis.y) {\n              if (mustShiftForward || index < this.index && (sortingOffset.left + windowScrollDelta.left - offset.width <= edgeOffset.left && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height || sortingOffset.top + windowScrollDelta.top + offset.height <= edgeOffset.top)) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (edgeOffset.left + translate.x > this.containerBoundingRect.width - offset.width) {\n                  if (nextNode) {\n                    translate.x = nextNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = nextNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                if (this.newIndex === null) {\n                  this.newIndex = index;\n                }\n              } else if (mustShiftBackward || index > this.index && (sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top || sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top + height)) {\n                translate.x = -(this.width + this.marginOffset.x);\n\n                if (edgeOffset.left + translate.x < this.containerBoundingRect.left + offset.width) {\n                  if (prevNode) {\n                    translate.x = prevNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = prevNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                this.newIndex = index;\n              }\n            } else {\n              if (mustShiftBackward || index > this.index && sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left) {\n                translate.x = -(this.width + this.marginOffset.x);\n                this.newIndex = index;\n              } else if (mustShiftForward || index < this.index && sortingOffset.left + windowScrollDelta.left <= edgeOffset.left + offset.width) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (this.newIndex == null) {\n                  this.newIndex = index;\n                }\n              }\n            }\n          } else if (this.axis.y) {\n            if (mustShiftBackward || index > this.index && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top) {\n              translate.y = -(this.height + this.marginOffset.y);\n              this.newIndex = index;\n            } else if (mustShiftForward || index < this.index && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height) {\n              translate.y = this.height + this.marginOffset.y;\n\n              if (this.newIndex == null) {\n                this.newIndex = index;\n              }\n            }\n          }\n\n          setTranslate3d(_node3, translate);\n          nodes[i].translate = translate;\n        }\n\n        if (this.newIndex == null) {\n          this.newIndex = this.index;\n        }\n\n        if (isKeySorting) {\n          this.newIndex = prevIndex;\n        }\n\n        var oldIndex = isKeySorting ? this.prevIndex : prevIndex;\n\n        if (onSortOver && this.newIndex !== oldIndex) {\n          onSortOver({\n            collection: this.manager.active.collection,\n            index: this.index,\n            newIndex: this.newIndex,\n            oldIndex: oldIndex,\n            isKeySorting: isKeySorting,\n            nodes: nodes,\n            helper: this.helper\n          });\n        }\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"getContainer\",\n      value: function getContainer() {\n        var getContainer = this.props.getContainer;\n\n        if (typeof getContainer !== 'function') {\n          return findDOMNode(this);\n        }\n\n        return getContainer(config.withRef ? this.getWrappedInstance() : undefined);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps)));\n      }\n    }, {\n      key: \"helperContainer\",\n      get: function get() {\n        var helperContainer = this.props.helperContainer;\n\n        if (typeof helperContainer === 'function') {\n          return helperContainer();\n        }\n\n        return this.props.helperContainer || this.document.body;\n      }\n    }, {\n      key: \"containerScrollDelta\",\n      get: function get() {\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n\n        if (useWindowAsScrollContainer) {\n          return {\n            left: 0,\n            top: 0\n          };\n        }\n\n        return {\n          left: this.scrollContainer.scrollLeft - this.initialScroll.left,\n          top: this.scrollContainer.scrollTop - this.initialScroll.top\n        };\n      }\n    }, {\n      key: \"windowScrollDelta\",\n      get: function get() {\n        return {\n          left: this.contentWindow.pageXOffset - this.initialWindowScroll.left,\n          top: this.contentWindow.pageYOffset - this.initialWindowScroll.top\n        };\n      }\n    }]);\n\n    return WithSortableContainer;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableList', WrappedComponent)), _defineProperty(_class, \"defaultProps\", defaultProps), _defineProperty(_class, \"propTypes\", propTypes), _defineProperty(_class, \"childContextTypes\", {\n    manager: PropTypes.object.isRequired\n  }), _temp;\n}\n\nvar propTypes$1 = {\n  index: PropTypes.number.isRequired,\n  collection: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  disabled: PropTypes.bool\n};\nvar omittedProps$1 = Object.keys(propTypes$1);\nfunction sortableElement(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableElement, _React$Component);\n\n    function WithSortableElement() {\n      _classCallCheck(this, WithSortableElement);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithSortableElement).apply(this, arguments));\n    }\n\n    _createClass(WithSortableElement, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.register();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.node) {\n          if (prevProps.index !== this.props.index) {\n            this.node.sortableInfo.index = this.props.index;\n          }\n\n          if (prevProps.disabled !== this.props.disabled) {\n            this.node.sortableInfo.disabled = this.props.disabled;\n          }\n        }\n\n        if (prevProps.collection !== this.props.collection) {\n          this.unregister(prevProps.collection);\n          this.register();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unregister();\n      }\n    }, {\n      key: \"register\",\n      value: function register() {\n        var _this$props = this.props,\n            collection = _this$props.collection,\n            disabled = _this$props.disabled,\n            index = _this$props.index;\n        var node = findDOMNode(this);\n        node.sortableInfo = {\n          collection: collection,\n          disabled: disabled,\n          index: index,\n          manager: this.context.manager\n        };\n        this.node = node;\n        this.ref = {\n          node: node\n        };\n        this.context.manager.add(collection, this.ref);\n      }\n    }, {\n      key: \"unregister\",\n      value: function unregister() {\n        var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.collection;\n        this.context.manager.remove(collection, this.ref);\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps$1)));\n      }\n    }]);\n\n    return WithSortableElement;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableElement', WrappedComponent)), _defineProperty(_class, \"contextTypes\", {\n    manager: PropTypes.object.isRequired\n  }), _defineProperty(_class, \"propTypes\", propTypes$1), _defineProperty(_class, \"defaultProps\", {\n    collection: 0\n  }), _temp;\n}\n\nexport { sortableContainer as SortableContainer, sortableContainer, sortableElement as SortableElement, sortableElement, sortableHandle as SortableHandle, sortableHandle, arrayMove };\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/esm/objectWithoutPropertiesLoose'));\nvar _extends = _interopDefault(require('@babel/runtime/helpers/esm/extends'));\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar ReactDOM = _interopDefault(require('react-dom'));\n\nlet bugfixes = undefined;\nlet applyAnimatedValues = undefined;\nlet colorNames = [];\nlet requestFrame = cb => typeof window !== 'undefined' && window.requestAnimationFrame(cb);\nlet cancelFrame = cb => typeof window !== 'undefined' && window.cancelAnimationFrame(cb);\nlet interpolation = undefined;\nlet now = () => Date.now();\nlet defaultElement = undefined;\nlet createAnimatedStyle = undefined;\nconst injectApplyAnimatedValues = (fn, transform) => applyAnimatedValues = {\n  fn,\n  transform\n};\nconst injectColorNames = names => colorNames = names;\nconst injectBugfixes = fn => bugfixes = fn;\nconst injectInterpolation = cls => interpolation = cls;\nconst injectFrame = (raf, caf) => {\n  var _ref = [raf, caf];\n  requestFrame = _ref[0];\n  cancelFrame = _ref[1];\n  return _ref;\n};\nconst injectNow = nowFn => now = nowFn;\nconst injectDefaultElement = el => defaultElement = el;\nconst injectCreateAnimatedStyle = factory => createAnimatedStyle = factory;\n\nvar Globals = /*#__PURE__*/Object.freeze({\n  get bugfixes () { return bugfixes; },\n  get applyAnimatedValues () { return applyAnimatedValues; },\n  get colorNames () { return colorNames; },\n  get requestFrame () { return requestFrame; },\n  get cancelFrame () { return cancelFrame; },\n  get interpolation () { return interpolation; },\n  get now () { return now; },\n  get defaultElement () { return defaultElement; },\n  get createAnimatedStyle () { return createAnimatedStyle; },\n  injectApplyAnimatedValues: injectApplyAnimatedValues,\n  injectColorNames: injectColorNames,\n  injectBugfixes: injectBugfixes,\n  injectInterpolation: injectInterpolation,\n  injectFrame: injectFrame,\n  injectNow: injectNow,\n  injectDefaultElement: injectDefaultElement,\n  injectCreateAnimatedStyle: injectCreateAnimatedStyle\n});\n\nclass Animated {\n  attach() {}\n\n  detach() {}\n\n  getValue() {}\n\n  getAnimatedValue() {\n    return this.getValue();\n  }\n\n  addChild(child) {}\n\n  removeChild(child) {}\n\n  getChildren() {\n    return [];\n  }\n\n}\n\nconst getValues = object => Object.keys(object).map(k => object[k]);\n\nclass AnimatedWithChildren extends Animated {\n  constructor() {\n    var _this;\n\n    super(...arguments);\n    _this = this;\n    this.children = [];\n\n    this.getChildren = () => this.children;\n\n    this.getPayload = function (index) {\n      if (index === void 0) {\n        index = undefined;\n      }\n\n      return index !== void 0 && _this.payload ? _this.payload[index] : _this.payload || _this;\n    };\n  }\n\n  addChild(child) {\n    if (this.children.length === 0) this.attach();\n    this.children.push(child);\n  }\n\n  removeChild(child) {\n    const index = this.children.indexOf(child);\n    this.children.splice(index, 1);\n    if (this.children.length === 0) this.detach();\n  }\n\n}\nclass AnimatedArrayWithChildren extends AnimatedWithChildren {\n  constructor() {\n    super(...arguments);\n    this.payload = [];\n\n    this.getAnimatedValue = () => this.getValue();\n\n    this.attach = () => this.payload.forEach(p => p instanceof Animated && p.addChild(this));\n\n    this.detach = () => this.payload.forEach(p => p instanceof Animated && p.removeChild(this));\n  }\n\n}\nclass AnimatedObjectWithChildren extends AnimatedWithChildren {\n  constructor() {\n    super(...arguments);\n    this.payload = {};\n\n    this.getAnimatedValue = () => this.getValue(true);\n\n    this.attach = () => getValues(this.payload).forEach(s => s instanceof Animated && s.addChild(this));\n\n    this.detach = () => getValues(this.payload).forEach(s => s instanceof Animated && s.removeChild(this));\n  }\n\n  getValue(animated) {\n    if (animated === void 0) {\n      animated = false;\n    }\n\n    const payload = {};\n\n    for (const key in this.payload) {\n      const value = this.payload[key];\n      if (animated && !(value instanceof Animated)) continue;\n      payload[key] = value instanceof Animated ? value[animated ? 'getAnimatedValue' : 'getValue']() : value;\n    }\n\n    return payload;\n  }\n\n}\n\nclass AnimatedStyle extends AnimatedObjectWithChildren {\n  constructor(style) {\n    super();\n    style = style || {};\n    if (style.transform && !(style.transform instanceof Animated)) style = applyAnimatedValues.transform(style);\n    this.payload = style;\n  }\n\n}\n\n// http://www.w3.org/TR/css3-color/#svg-color\nconst colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff\n};\n\nclass Interpolation {\n  // Default config = config, args\n  // Short config   = range, output, extrapolate\n  static create(config, output, extra) {\n    if (typeof config === 'function') return config;else if (interpolation && config.output && typeof config.output[0] === 'string') return interpolation(config);else if (Array.isArray(config)) return Interpolation.create({\n      range: config,\n      output,\n      extrapolate: extra || 'extend'\n    });\n    let outputRange = config.output;\n    let inputRange = config.range || [0, 1];\n\n    let easing = config.easing || (t => t);\n\n    let extrapolateLeft = 'extend';\n    let map = config.map;\n    if (config.extrapolateLeft !== undefined) extrapolateLeft = config.extrapolateLeft;else if (config.extrapolate !== undefined) extrapolateLeft = config.extrapolate;\n    let extrapolateRight = 'extend';\n    if (config.extrapolateRight !== undefined) extrapolateRight = config.extrapolateRight;else if (config.extrapolate !== undefined) extrapolateRight = config.extrapolate;\n    return input => {\n      let range = findRange(input, inputRange);\n      return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, map);\n    };\n  }\n\n}\n\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  let result = map ? map(input) : input; // Extrapolate\n\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;\n  }\n\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax; // Input Range\n\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin); // Easing\n\n  result = easing(result); // Output Range\n\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\n\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) if (inputRange[i] >= input) break;\n\n  return i - 1;\n}\n\n// const INTEGER = '[-+]?\\\\d+';\nconst NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nconst PERCENTAGE = NUMBER + '%';\n\nfunction call() {\n  return '\\\\(\\\\s*(' + Array.prototype.slice.call(arguments).join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nconst rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));\nconst rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));\nconst hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));\nconst hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nconst hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex6 = /^#([0-9a-fA-F]{6})$/;\nconst hex8 = /^#([0-9a-fA-F]{8})$/;\n\n/*\nhttps://github.com/react-community/normalize-css-color\n\nBSD 3-Clause License\n\nCopyright (c) 2016, React Community\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\nfunction normalizeColor(color) {\n  let match;\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;\n  } // Ordered based on occurrences on Facebook codebase\n\n\n  if (match = hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;\n  if (colors.hasOwnProperty(color)) return colors[color];\n\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    parse1(match[4])) >>> // a\n    0;\n  }\n\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    'ff', // a\n    16) >>> 0;\n  } // https://drafts.csswg.org/css-color-4/#hex-notation\n\n\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    match[4] + match[4], // a\n    16) >>> 0;\n  }\n\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | 0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | parse1(match[4])) >>> // a\n    0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\n\nfunction parse255(str) {\n  const int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\n\nfunction parse360(str) {\n  const int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\n\nfunction parse1(str) {\n  const num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  // parseFloat conveniently ignores the final %\n  const int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\nfunction colorToRgba(input) {\n  let int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  let r = (int32Color & 0xff000000) >>> 24;\n  let g = (int32Color & 0x00ff0000) >>> 16;\n  let b = (int32Color & 0x0000ff00) >>> 8;\n  let a = (int32Color & 0x000000ff) / 255;\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n} // Problem: https://github.com/animatedjs/animated/pull/102\n// Solution: https://stackoverflow.com/questions/638565/parsing-scientific-notation-sensibly/658662\n\n\nconst stringShapeRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g; // Covers rgb, rgba, hsl, hsla\n// Taken from https://gist.github.com/olmokramer/82ccce673f86db7cda5e\n\nconst colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi; // Covers color names (transparent, blue, etc.)\n\nconst colorNamesRegex = new RegExp(`(${Object.keys(colors).join('|')})`, 'g');\n/**\n * Supports string shapes by extracting numbers so new values can be computed,\n * and recombines those values into new strings of the same shape.  Supports\n * things like:\n *\n *   rgba(123, 42, 99, 0.36)           // colors\n *   -45deg                            // values with units\n *   0 2px 2px 0px rgba(0, 0, 0, 0.12) // box shadows\n */\n\nfunction createInterpolation(config) {\n  // Replace colors with rgba\n  const outputRange = config.output.map(rangeValue => rangeValue.replace(colorRegex, colorToRgba)).map(rangeValue => rangeValue.replace(colorNamesRegex, colorToRgba)); // ->\n  // [\n  //   [0, 50],\n  //   [100, 150],\n  //   [200, 250],\n  //   [0, 0.5],\n  // ]\n\n  const outputRanges = outputRange[0].match(stringShapeRegex).map(() => []);\n  outputRange.forEach(value => {\n    value.match(stringShapeRegex).forEach((number, i) => outputRanges[i].push(+number));\n  });\n  const interpolations = outputRange[0].match(stringShapeRegex).map((value, i) => {\n    return Interpolation.create(_extends({}, config, {\n      output: outputRanges[i]\n    }));\n  });\n  return input => {\n    let i = 0;\n    return outputRange[0] // 'rgba(0, 100, 200, 0)'\n    // ->\n    // 'rgba(${interpolations[0](input)}, ${interpolations[1](input)}, ...'\n    .replace(stringShapeRegex, () => interpolations[i++](input)) // rgba requires that the r,g,b are integers.... so we want to round them, but we *dont* want to\n    // round the opacity (4th column).\n    .replace(/rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi, (_, p1, p2, p3, p4) => `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`);\n  };\n}\n\nclass AnimatedInterpolation extends AnimatedArrayWithChildren {\n  constructor(parents, _config, _arg) {\n    super();\n\n    this.getValue = () => this.calc(...this.payload.map(value => value.getValue()));\n\n    this.updateConfig = (config, arg) => this.calc = Interpolation.create(config, arg);\n\n    this.interpolate = (config, arg) => new AnimatedInterpolation(this, config, arg);\n\n    this.payload = // AnimatedArrays should unfold, except AnimatedInterpolation which is taken as is\n    parents instanceof AnimatedArrayWithChildren && !parents.updateConfig ? parents.payload : Array.isArray(parents) ? parents : [parents];\n    this.calc = Interpolation.create(_config, _arg);\n  }\n\n}\nconst interpolate$1 = (parents, config, arg) => parents && new AnimatedInterpolation(parents, config, arg);\n\n/**\n * Animated works by building a directed acyclic graph of dependencies\n * transparently when you render your Animated components.\n *\n *               new Animated.Value(0)\n *     .interpolate()        .interpolate()    new Animated.Value(1)\n *         opacity               translateY      scale\n *          style                         transform\n *         View#234                         style\n *                                         View#123\n *\n * A) Top Down phase\n * When an Animated.Value is updated, we recursively go down through this\n * graph in order to find leaf nodes: the views that we flag as needing\n * an update.\n *\n * B) Bottom Up phase\n * When a view is flagged as needing an update, we recursively go back up\n * in order to build the new value that it needs. The reason why we need\n * this two-phases process is to deal with composite props such as\n * transform which can receive values from multiple parents.\n */\n\nfunction findAnimatedStyles(node, styles) {\n  if (typeof node.update === 'function') styles.add(node);else node.getChildren().forEach(child => findAnimatedStyles(child, styles));\n}\n/**\n * Standard value for driving animations.  One `Animated.Value` can drive\n * multiple properties in a synchronized fashion, but can only be driven by one\n * mechanism at a time.  Using a new mechanism (e.g. starting a new animation,\n * or calling `setValue`) will stop any previous ones.\n */\n\n\nclass AnimatedValue extends AnimatedWithChildren {\n  constructor(_value) {\n    var _this;\n\n    super();\n    _this = this;\n\n    this.setValue = function (value, flush) {\n      if (flush === void 0) {\n        flush = true;\n      }\n\n      _this.value = value;\n      if (flush) _this.flush();\n    };\n\n    this.getValue = () => this.value;\n\n    this.updateStyles = () => findAnimatedStyles(this, this.animatedStyles);\n\n    this.updateValue = value => this.flush(this.value = value);\n\n    this.interpolate = (config, arg) => new AnimatedInterpolation(this, config, arg);\n\n    this.value = _value;\n    this.animatedStyles = new Set();\n    this.done = false;\n    this.startPosition = _value;\n    this.lastPosition = _value;\n    this.lastVelocity = undefined;\n    this.lastTime = undefined;\n    this.controller = undefined;\n  }\n\n  flush() {\n    if (this.animatedStyles.size === 0) this.updateStyles();\n    this.animatedStyles.forEach(animatedStyle => animatedStyle.update());\n  }\n\n  prepare(controller) {\n    // Values stay loyal to their original controller, this is also a way to\n    // detect trailing values originating from a foreign controller\n    if (this.controller === undefined) this.controller = controller;\n\n    if (this.controller === controller) {\n      this.startPosition = this.value;\n      this.lastPosition = this.value;\n      this.lastVelocity = controller.isActive ? this.lastVelocity : undefined;\n      this.lastTime = controller.isActive ? this.lastTime : undefined;\n      this.done = false;\n      this.animatedStyles.clear();\n    }\n  }\n\n}\n\nclass AnimatedArray extends AnimatedArrayWithChildren {\n  constructor(array) {\n    var _this;\n\n    super();\n    _this = this;\n\n    this.setValue = function (value, flush) {\n      if (flush === void 0) {\n        flush = true;\n      }\n\n      if (Array.isArray(value)) {\n        if (value.length === _this.payload.length) value.forEach((v, i) => _this.payload[i].setValue(v, flush));\n      } else _this.payload.forEach((v, i) => _this.payload[i].setValue(value, flush));\n    };\n\n    this.getValue = () => this.payload.map(v => v.getValue());\n\n    this.interpolate = (config, arg) => new AnimatedInterpolation(this, config, arg);\n\n    this.payload = array.map(n => new AnimatedValue(n));\n  }\n\n}\n\nfunction withDefault(value, defaultValue) {\n  return value === undefined || value === null ? defaultValue : value;\n}\nfunction toArray(a) {\n  return a !== void 0 ? Array.isArray(a) ? a : [a] : [];\n}\nfunction shallowEqual(a, b) {\n  if (typeof a !== typeof b) return false;\n  if (typeof a === 'string' || typeof a === 'number') return a === b;\n  let i;\n\n  for (i in a) if (!(i in b)) return false;\n\n  for (i in b) if (a[i] !== b[i]) return false;\n\n  return i === void 0 ? a === b : true;\n}\nfunction callProp(obj) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return typeof obj === 'function' ? obj(...args) : obj;\n}\nfunction getValues$1(object) {\n  return Object.keys(object).map(k => object[k]);\n}\nfunction getForwardProps(props) {\n  const to = props.to,\n        from = props.from,\n        config = props.config,\n        native = props.native,\n        onStart = props.onStart,\n        onRest = props.onRest,\n        onFrame = props.onFrame,\n        children = props.children,\n        reset = props.reset,\n        reverse = props.reverse,\n        force = props.force,\n        immediate = props.immediate,\n        impl = props.impl,\n        inject = props.inject,\n        delay = props.delay,\n        attach = props.attach,\n        destroyed = props.destroyed,\n        interpolateTo = props.interpolateTo,\n        autoStart = props.autoStart,\n        ref = props.ref,\n        forward = _objectWithoutPropertiesLoose(props, [\"to\", \"from\", \"config\", \"native\", \"onStart\", \"onRest\", \"onFrame\", \"children\", \"reset\", \"reverse\", \"force\", \"immediate\", \"impl\", \"inject\", \"delay\", \"attach\", \"destroyed\", \"interpolateTo\", \"autoStart\", \"ref\"]);\n\n  return forward;\n}\nfunction interpolateTo(props) {\n  const forward = getForwardProps(props);\n  const rest = Object.keys(props).reduce((a, k) => forward[k] !== void 0 ? a : _extends({}, a, {\n    [k]: props[k]\n  }), {});\n  return _extends({\n    to: forward\n  }, rest);\n}\nfunction convertToAnimatedValue(acc, _ref) {\n  let name = _ref[0],\n      value = _ref[1];\n  return _extends({}, acc, {\n    [name]: new (Array.isArray(value) ? AnimatedArray : AnimatedValue)(value)\n  });\n}\nfunction convertValues(props) {\n  const from = props.from,\n        to = props.to,\n        native = props.native;\n  const allProps = Object.entries(_extends({}, from, to));\n  return native ? allProps.reduce(convertToAnimatedValue, {}) : _extends({}, from, to);\n}\nfunction handleRef(ref, forward) {\n  if (forward) {\n    // If it's a function, assume it's a ref callback\n    if (typeof forward === 'function') forward(ref);else if (typeof forward === 'object') {\n      // If it's an object and has a 'current' property, assume it's a ref object\n      forward.current = ref;\n    }\n  }\n\n  return ref;\n}\n\nconst check = value => value === 'auto';\n\nconst overwrite = (width, height) => (acc, _ref) => {\n  let name = _ref[0],\n      value = _ref[1];\n  return _extends({}, acc, {\n    [name]: value === 'auto' ? ~name.indexOf('height') ? height : width : value\n  });\n};\n\nfunction fixAuto(props, callback) {\n  const from = props.from,\n        to = props.to,\n        children = props.children; // Dry-route props back if nothing's using 'auto' in there\n  // TODO: deal with \"null\"\n\n  if (!(getValues$1(to).some(check) || getValues$1(from).some(check))) return; // Fetch render v-dom\n\n  let element = children(convertValues(props)); // A spring can return undefined/null, check against that (#153)\n\n  if (!element) return; // Or it could be an array (#346) ...\n\n  if (Array.isArray(element)) element = {\n    type: 'div',\n    props: {\n      children: element\n    } // Extract styles\n\n  };\n  const elementStyles = element.props.style; // Return v.dom with injected ref\n\n  return React__default.createElement(element.type, _extends({\n    key: element.key ? element.key : undefined\n  }, element.props, {\n    style: _extends({}, elementStyles, {\n      position: 'absolute',\n      visibility: 'hidden'\n    }),\n    ref: _ref2 => {\n      if (_ref2) {\n        // Once it's rendered out, fetch bounds (minus padding/margin/borders)\n        let node = ReactDOM.findDOMNode(_ref2);\n        let width, height;\n        let cs = getComputedStyle(node);\n\n        if (cs.boxSizing === 'border-box') {\n          width = node.offsetWidth;\n          height = node.offsetHeight;\n        } else {\n          const paddingX = parseFloat(cs.paddingLeft || 0) + parseFloat(cs.paddingRight || 0);\n          const paddingY = parseFloat(cs.paddingTop || 0) + parseFloat(cs.paddingBottom || 0);\n          const borderX = parseFloat(cs.borderLeftWidth || 0) + parseFloat(cs.borderRightWidth || 0);\n          const borderY = parseFloat(cs.borderTopWidth || 0) + parseFloat(cs.borderBottomWidth || 0);\n          width = node.offsetWidth - paddingX - borderX;\n          height = node.offsetHeight - paddingY - borderY;\n        }\n\n        const convert = overwrite(width, height);\n        callback(_extends({}, props, {\n          from: Object.entries(from).reduce(convert, from),\n          to: Object.entries(to).reduce(convert, to)\n        }));\n      }\n    }\n  }));\n}\n\nlet isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nconst prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\nconst prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {\n  prefixes.forEach(prefix => acc[prefixKey(prefix, prop)] = acc[prop]);\n  return acc;\n}, isUnitlessNumber);\n\nfunction dangerousStyleValue(name, value, isCustomProperty) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (!isCustomProperty && typeof value === 'number' && value !== 0 && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers\n\n  return ('' + value).trim();\n}\n\nconst attributeCache = {};\ninjectCreateAnimatedStyle(style => new AnimatedStyle(style));\ninjectDefaultElement('div');\ninjectInterpolation(createInterpolation);\ninjectColorNames(colors);\ninjectBugfixes(fixAuto);\ninjectApplyAnimatedValues((instance, props) => {\n  if (instance.nodeType && instance.setAttribute !== undefined) {\n    const style = props.style,\n          children = props.children,\n          scrollTop = props.scrollTop,\n          scrollLeft = props.scrollLeft,\n          attributes = _objectWithoutPropertiesLoose(props, [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"]);\n\n    if (scrollTop !== void 0) instance.scrollTop = scrollTop;\n    if (scrollLeft !== void 0) instance.scrollLeft = scrollLeft; // Set textContent, if children is an animatable value\n\n    if (children !== void 0) instance.textContent = children; // Set styles ...\n\n    for (let styleName in style) {\n      if (!style.hasOwnProperty(styleName)) continue;\n      var isCustomProperty = styleName.indexOf('--') === 0;\n      var styleValue = dangerousStyleValue(styleName, style[styleName], isCustomProperty);\n      if (styleName === 'float') styleName = 'cssFloat';\n      if (isCustomProperty) instance.style.setProperty(styleName, styleValue);else instance.style[styleName] = styleValue;\n    } // Set attributes ...\n\n\n    for (let name in attributes) {\n      // Attributes are written in dash case\n      const dashCase = attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, n => '-' + n.toLowerCase()));\n      if (typeof instance.getAttribute(dashCase) !== 'undefined') instance.setAttribute(dashCase, attributes[name]);\n    }\n  } else return false;\n}, style => style);\n\nlet active = false;\nconst controllers = new Set();\n\nconst frameLoop = () => {\n  let time = now();\n\n  for (let controller of controllers) {\n    let isDone = true;\n    let noChange = true;\n\n    for (let configIdx = 0; configIdx < controller.configs.length; configIdx++) {\n      let config = controller.configs[configIdx];\n      let endOfAnimation, lastTime;\n\n      for (let valIdx = 0; valIdx < config.animatedValues.length; valIdx++) {\n        let animation = config.animatedValues[valIdx]; // If an animation is done, skip, until all of them conclude\n\n        if (animation.done) continue;\n        let from = config.fromValues[valIdx];\n        let to = config.toValues[valIdx];\n        let position = animation.lastPosition;\n        let isAnimated = to instanceof Animated;\n        let velocity = Array.isArray(config.initialVelocity) ? config.initialVelocity[valIdx] : config.initialVelocity;\n        if (isAnimated) to = to.getValue(); // Conclude animation if it's either immediate, or from-values match end-state\n\n        if (config.immediate || !isAnimated && !config.decay && from === to) {\n          animation.updateValue(to);\n          animation.done = true;\n          continue;\n        } // Doing delay here instead of setTimeout is one async worry less\n\n\n        if (config.delay && time - controller.startTime < config.delay) {\n          isDone = false;\n          continue;\n        } // Flag change\n\n\n        noChange = false; // Break animation when string values are involved\n\n        if (typeof from === 'string' || typeof to === 'string') {\n          animation.updateValue(to);\n          animation.done = true;\n          continue;\n        }\n\n        if (config.duration !== void 0) {\n          /** Duration easing */\n          position = from + config.easing((time - controller.startTime - config.delay) / config.duration) * (to - from);\n          endOfAnimation = time >= controller.startTime + config.delay + config.duration;\n        } else if (config.decay) {\n          /** Decay easing */\n          position = from + velocity / (1 - 0.998) * (1 - Math.exp(-(1 - 0.998) * (time - controller.startTime)));\n          endOfAnimation = Math.abs(animation.lastPosition - position) < 0.1;\n          if (endOfAnimation) to = position;\n        } else {\n          /** Spring easing */\n          lastTime = animation.lastTime !== void 0 ? animation.lastTime : time;\n          velocity = animation.lastVelocity !== void 0 ? animation.lastVelocity : config.initialVelocity; // If we lost a lot of frames just jump to the end.\n\n          if (time > lastTime + 64) lastTime = time; // http://gafferongames.com/game-physics/fix-your-timestep/\n\n          let numSteps = Math.floor(time - lastTime);\n\n          for (let i = 0; i < numSteps; ++i) {\n            let force = -config.tension * (position - to);\n            let damping = -config.friction * velocity;\n            let acceleration = (force + damping) / config.mass;\n            velocity = velocity + acceleration * 1 / 1000;\n            position = position + velocity * 1 / 1000;\n          } // Conditions for stopping the spring animation\n\n\n          let isOvershooting = config.clamp && config.tension !== 0 ? from < to ? position > to : position < to : false;\n          let isVelocity = Math.abs(velocity) <= config.precision;\n          let isDisplacement = config.tension !== 0 ? Math.abs(to - position) <= config.precision : true;\n          endOfAnimation = isOvershooting || isVelocity && isDisplacement;\n          animation.lastVelocity = velocity;\n          animation.lastTime = time;\n        } // Trails aren't done until their parents conclude\n\n\n        if (isAnimated && !config.toValues[valIdx].done) endOfAnimation = false;\n\n        if (endOfAnimation) {\n          // Ensure that we end up with a round value\n          if (animation.value !== to) position = to;\n          animation.done = true;\n        } else isDone = false;\n\n        animation.updateValue(position);\n        animation.lastPosition = position;\n      } // Keep track of updated values only when necessary\n\n\n      if (controller.props.onFrame || !controller.props.native) controller.animatedProps[config.name] = config.interpolation.getValue();\n    } // Update callbacks in the end of the frame\n\n\n    if (controller.props.onFrame || !controller.props.native) {\n      if (!controller.props.native && controller.onUpdate) controller.onUpdate();\n      if (controller.props.onFrame) controller.props.onFrame(controller.animatedProps);\n    } // Either call onEnd or next frame\n\n\n    if (isDone) {\n      controllers.delete(controller);\n      controller.debouncedOnEnd({\n        finished: true,\n        noChange\n      });\n    }\n  } // Loop over as long as there are controllers ...\n\n\n  if (controllers.size) requestFrame(frameLoop);else active = false;\n};\n\nconst addController = controller => {\n  if (!controllers.has(controller)) {\n    controllers.add(controller);\n    if (!active) requestFrame(frameLoop);\n    active = true;\n  }\n};\n\nconst removeController = controller => {\n  if (controllers.has(controller)) {\n    controllers.delete(controller);\n  }\n};\n\nclass Controller {\n  constructor(props, config) {\n    if (config === void 0) {\n      config = {\n        native: true,\n        interpolateTo: true,\n        autoStart: true\n      };\n    }\n\n    this.getValues = () => this.props.native ? this.interpolations : this.animatedProps;\n\n    this.dependents = new Set();\n    this.isActive = false;\n    this.hasChanged = false;\n    this.props = {};\n    this.merged = {};\n    this.animations = {};\n    this.interpolations = {};\n    this.animatedProps = {};\n    this.configs = [];\n    this.frame = undefined;\n    this.startTime = undefined;\n    this.lastTime = undefined;\n    this.update(_extends({}, props, config));\n  }\n\n  update(props) {\n    this.props = _extends({}, this.props, props);\n\n    let _ref = this.props.interpolateTo ? interpolateTo(this.props) : this.props,\n        _ref$from = _ref.from,\n        from = _ref$from === void 0 ? {} : _ref$from,\n        _ref$to = _ref.to,\n        to = _ref$to === void 0 ? {} : _ref$to,\n        _ref$config = _ref.config,\n        config = _ref$config === void 0 ? {} : _ref$config,\n        _ref$delay = _ref.delay,\n        delay = _ref$delay === void 0 ? 0 : _ref$delay,\n        reverse = _ref.reverse,\n        attach = _ref.attach,\n        reset = _ref.reset,\n        immediate = _ref.immediate,\n        autoStart = _ref.autoStart,\n        ref = _ref.ref; // Reverse values when requested\n\n\n    if (reverse) {\n      var _ref2 = [to, from];\n      from = _ref2[0];\n      to = _ref2[1];\n    }\n\n    this.hasChanged = false; // Attachment handling, trailed springs can \"attach\" themselves to a previous spring\n\n    let target = attach && attach(this); // Reset merged props when necessary\n\n    let extra = reset ? {} : this.merged; // This will collect all props that were ever set\n\n    this.merged = _extends({}, from, extra, to); // Reduces input { name: value } pairs into animated values\n\n    this.animations = Object.entries(this.merged).reduce((acc, _ref3, i) => {\n      let name = _ref3[0],\n          value = _ref3[1];\n      // Issue cached entries, except on reset\n      let entry = !reset && acc[name] || {}; // Figure out what the value is supposed to be\n\n      const isNumber = typeof value === 'number';\n      const isString = typeof value === 'string' && !value.startsWith('#') && !/\\d/.test(value) && !colorNames[value];\n      const isArray = !isNumber && !isString && Array.isArray(value);\n      let fromValue = from[name] !== undefined ? from[name] : value;\n      let toValue = isNumber || isArray ? value : isString ? value : 1;\n      let toConfig = callProp(config, name);\n      if (target) toValue = target.animations[name].parent; // Detect changes, animated values will be checked in the raf-loop\n\n      if (toConfig.decay !== void 0 || !shallowEqual(entry.changes, value)) {\n        this.hasChanged = true;\n        let parent, interpolation$$1;\n        if (isNumber || isString) parent = interpolation$$1 = entry.parent || new AnimatedValue(fromValue);else if (isArray) parent = interpolation$$1 = entry.parent || new AnimatedArray(fromValue);else {\n          const prev = entry.interpolation && entry.interpolation.calc(entry.parent.value);\n\n          if (entry.parent) {\n            parent = entry.parent;\n            parent.setValue(0, false);\n          } else parent = new AnimatedValue(0);\n\n          const range = {\n            output: [prev !== void 0 ? prev : fromValue, value]\n          };\n\n          if (entry.interpolation) {\n            interpolation$$1 = entry.interpolation;\n            entry.interpolation.updateConfig(range);\n          } else interpolation$$1 = parent.interpolate(range);\n        } // Set immediate values\n\n        if (callProp(immediate, name)) parent.setValue(value, false); // Reset animated values\n\n        const animatedValues = toArray(parent.getPayload());\n        animatedValues.forEach(value => value.prepare(this));\n        return _extends({}, acc, {\n          [name]: _extends({}, entry, {\n            name,\n            parent,\n            interpolation: interpolation$$1,\n            animatedValues,\n            changes: value,\n            fromValues: toArray(parent.getValue()),\n            toValues: toArray(target ? toValue.getPayload() : toValue),\n            immediate: callProp(immediate, name),\n            delay: withDefault(toConfig.delay, delay || 0),\n            initialVelocity: withDefault(toConfig.velocity, 0),\n            clamp: withDefault(toConfig.clamp, false),\n            precision: withDefault(toConfig.precision, 0.01),\n            tension: withDefault(toConfig.tension, 170),\n            friction: withDefault(toConfig.friction, 26),\n            mass: withDefault(toConfig.mass, 1),\n            duration: toConfig.duration,\n            easing: withDefault(toConfig.easing, t => t),\n            decay: toConfig.decay\n          })\n        });\n      } else return acc;\n    }, this.animations);\n\n    if (this.hasChanged) {\n      this.configs = getValues$1(this.animations);\n      this.animatedProps = {};\n      this.interpolations = {};\n\n      for (let key in this.animations) {\n        this.interpolations[key] = this.animations[key].interpolation;\n        this.animatedProps[key] = this.animations[key].interpolation.getValue();\n      }\n    } // TODO: clean up ref in controller\n\n\n    for (var _len = arguments.length, start = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      start[_key - 1] = arguments[_key];\n    }\n\n    if (!ref && (autoStart || start.length)) this.start(...start);\n    const onEnd = start[0],\n          onUpdate = start[1];\n    this.onEnd = typeof onEnd === 'function' && onEnd;\n    this.onUpdate = onUpdate;\n    return this.getValues();\n  }\n\n  start(onEnd, onUpdate) {\n    this.startTime = now();\n    if (this.isActive) this.stop();\n    this.isActive = true;\n    this.onEnd = typeof onEnd === 'function' && onEnd;\n    this.onUpdate = onUpdate;\n    if (this.props.onStart) this.props.onStart();\n    addController(this);\n    return new Promise(res => this.resolve = res);\n  }\n\n  stop(finished) {\n    if (finished === void 0) {\n      finished = false;\n    }\n\n    // Reset collected changes since the animation has been stopped cold turkey\n    if (finished) getValues$1(this.animations).forEach(a => a.changes = undefined);\n    this.debouncedOnEnd({\n      finished\n    });\n  }\n\n  destroy() {\n    removeController(this);\n    this.props = {};\n    this.merged = {};\n    this.animations = {};\n    this.interpolations = {};\n    this.animatedProps = {};\n    this.configs = [];\n  }\n\n  debouncedOnEnd(result) {\n    removeController(this);\n    this.isActive = false;\n    const onEnd = this.onEnd;\n    this.onEnd = null;\n    if (onEnd) onEnd(result);\n    if (this.resolve) this.resolve();\n    this.resolve = null;\n  }\n\n}\n\nclass AnimatedProps extends AnimatedObjectWithChildren {\n  constructor(props, callback) {\n    super();\n    if (props.style) props = _extends({}, props, {\n      style: createAnimatedStyle(props.style)\n    });\n    this.payload = props;\n    this.update = callback;\n    this.attach();\n  }\n\n}\n\nfunction createAnimatedComponent(Component) {\n  class AnimatedComponent extends React__default.Component {\n    constructor(props) {\n      super();\n\n      this.callback = () => {\n        if (this.node) {\n          const didUpdate = applyAnimatedValues.fn(this.node, this.propsAnimated.getAnimatedValue(), this);\n          if (didUpdate === false) this.forceUpdate();\n        }\n      };\n\n      this.attachProps(props);\n    }\n\n    componentWillUnmount() {\n      this.propsAnimated && this.propsAnimated.detach();\n    }\n\n    setNativeProps(props) {\n      const didUpdate = applyAnimatedValues.fn(this.node, props, this);\n      if (didUpdate === false) this.forceUpdate();\n    } // The system is best designed when setNativeProps is implemented. It is\n    // able to avoid re-rendering and directly set the attributes that\n    // changed. However, setNativeProps can only be implemented on leaf\n    // native components. If you want to animate a composite component, you\n    // need to re-render it. In this case, we have a fallback that uses\n    // forceUpdate.\n\n\n    attachProps(_ref) {\n      let forwardRef = _ref.forwardRef,\n          nextProps = _objectWithoutPropertiesLoose(_ref, [\"forwardRef\"]);\n\n      const oldPropsAnimated = this.propsAnimated;\n      this.propsAnimated = new AnimatedProps(nextProps, this.callback); // When you call detach, it removes the element from the parent list\n      // of children. If it goes to 0, then the parent also detaches itself\n      // and so on.\n      // An optimization is to attach the new elements and THEN detach the old\n      // ones instead of detaching and THEN attaching.\n      // This way the intermediate state isn't to go to 0 and trigger\n      // this expensive recursive detaching to then re-attach everything on\n      // the very next operation.\n\n      oldPropsAnimated && oldPropsAnimated.detach();\n    }\n\n    shouldComponentUpdate(props) {\n      const style = props.style,\n            nextProps = _objectWithoutPropertiesLoose(props, [\"style\"]);\n\n      const _this$props = this.props,\n            currentStyle = _this$props.style,\n            currentProps = _objectWithoutPropertiesLoose(_this$props, [\"style\"]);\n\n      if (!shallowEqual(currentProps, nextProps) || !shallowEqual(currentStyle, style)) {\n        this.attachProps(props);\n        return true;\n      }\n\n      return false;\n    }\n\n    render() {\n      const _this$propsAnimated$g = this.propsAnimated.getValue(),\n            scrollTop = _this$propsAnimated$g.scrollTop,\n            scrollLeft = _this$propsAnimated$g.scrollLeft,\n            animatedProps = _objectWithoutPropertiesLoose(_this$propsAnimated$g, [\"scrollTop\", \"scrollLeft\"]);\n\n      return React__default.createElement(Component, _extends({}, animatedProps, {\n        ref: node => this.node = handleRef(node, this.props.forwardRef)\n      }));\n    }\n\n  }\n\n  return React__default.forwardRef((props, ref) => React__default.createElement(AnimatedComponent, _extends({}, props, {\n    forwardRef: ref\n  })));\n}\n\nconst config = {\n  default: {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\n\nclass Spring extends React__default.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      lastProps: {\n        from: {},\n        to: {}\n      },\n      propsChanged: false,\n      internal: false\n    };\n    this.controller = new Controller(null, null);\n    this.didUpdate = false;\n    this.didInject = false;\n    this.finished = true;\n\n    this.start = () => {\n      this.finished = false;\n      let wasMounted = this.mounted;\n      this.controller.start(props => this.finish(_extends({}, props, {\n        wasMounted\n      })), this.update);\n    };\n\n    this.stop = () => this.controller.stop(true);\n\n    this.update = () => this.mounted && this.setState({\n      internal: true\n    });\n\n    this.finish = (_ref) => {\n      let finished = _ref.finished,\n          noChange = _ref.noChange,\n          wasMounted = _ref.wasMounted;\n      this.finished = true;\n\n      if (this.mounted && finished) {\n        // Only call onRest if either we *were* mounted, or when there were changes\n        if (this.props.onRest && (wasMounted || !noChange)) this.props.onRest(this.controller.merged); // Restore end-state\n\n        if (this.mounted && this.didInject) {\n          this.afterInject = convertValues(this.props);\n          this.setState({\n            internal: true\n          });\n        } // If we have an inject or values to apply after the animation we ping here\n\n\n        if (this.mounted && (this.didInject || this.props.after)) this.setState({\n          internal: true\n        });\n        this.didInject = false;\n      }\n    };\n  }\n\n  componentDidMount() {\n    // componentDidUpdate isn't called on mount, we call it here to start animating\n    this.componentDidUpdate();\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    // Stop all ongoing animtions\n    this.mounted = false;\n    this.stop();\n  }\n\n  static getDerivedStateFromProps(props, _ref2) {\n    let internal = _ref2.internal,\n        lastProps = _ref2.lastProps;\n    // The following is a test against props that could alter the animation\n    const from = props.from,\n          to = props.to,\n          reset = props.reset,\n          force = props.force;\n    const propsChanged = !shallowEqual(to, lastProps.to) || !shallowEqual(from, lastProps.from) || reset && !internal || force && !internal;\n    return {\n      propsChanged,\n      lastProps: props,\n      internal: false\n    };\n  }\n\n  render() {\n    const children = this.props.children;\n    const propsChanged = this.state.propsChanged; // Inject phase -----------------------------------------------------------\n    // Handle injected frames, for instance targets/web/fix-auto\n    // An inject will return an intermediary React node which measures itself out\n    // .. and returns a callback when the values sought after are ready, usually \"auto\".\n\n    if (this.props.inject && propsChanged && !this.injectProps) {\n      const frame = this.props.inject(this.props, injectProps => {\n        // The inject frame has rendered, now let's update animations...\n        this.injectProps = injectProps;\n        this.setState({\n          internal: true\n        });\n      }); // Render out injected frame\n\n      if (frame) return frame;\n    } // Update phase -----------------------------------------------------------\n\n\n    if (this.injectProps || propsChanged) {\n      // We can potentially cause setState, but we're inside render, the flag prevents that\n      this.didInject = false; // Update animations, this turns from/to props into AnimatedValues\n      // An update can occur on injected props, or when own-props have changed.\n\n      if (this.injectProps) {\n        this.controller.update(this.injectProps); // didInject is needed, because there will be a 3rd stage, where the original values\n        // .. will be restored after the animation is finished. When someone animates towards\n        // .. \"auto\", the end-result should be \"auto\", not \"1999px\", which would block nested\n        // .. height/width changes.\n\n        this.didInject = true;\n      } else if (propsChanged) this.controller.update(this.props); // Flag an update that occured, componentDidUpdate will start the animation later on\n\n\n      this.didUpdate = true;\n      this.afterInject = undefined;\n      this.injectProps = undefined;\n    } // Render phase -----------------------------------------------------------\n    // Render out raw values or AnimatedValues depending on \"native\"\n\n\n    let values = _extends({}, this.controller.getValues(), this.afterInject);\n\n    if (this.finished) values = _extends({}, values, this.props.after);\n    return Object.keys(values).length ? children(values) : null;\n  }\n\n  componentDidUpdate() {\n    // The animation has to start *after* render, since at that point the scene\n    // .. graph should be established, so we do it here. Unfortunatelly, non-native\n    // .. animations as well as \"auto\"-injects call forceUpdate, so it's causing a loop.\n    // .. didUpdate prevents that as it gets set only on prop changes.\n    if (this.didUpdate) this.start();\n    this.didUpdate = false;\n  }\n\n}\nSpring.defaultProps = {\n  from: {},\n  to: {},\n  config: config.default,\n  native: false,\n  immediate: false,\n  reset: false,\n  force: false,\n  inject: bugfixes\n};\n\nclass Trail extends React__default.PureComponent {\n  constructor() {\n    super(...arguments);\n    this.first = true;\n    this.instances = new Set();\n\n    this.hook = (instance, index, length, reverse) => {\n      // Add instance to set\n      this.instances.add(instance); // Return undefined on the first index and from then on the previous instance\n\n      if (reverse ? index === length - 1 : index === 0) return undefined;else return Array.from(this.instances)[reverse ? index + 1 : index - 1];\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          items = _this$props.items,\n          _children = _this$props.children,\n          _this$props$from = _this$props.from,\n          from = _this$props$from === void 0 ? {} : _this$props$from,\n          initial = _this$props.initial,\n          reverse = _this$props.reverse,\n          keys = _this$props.keys,\n          delay = _this$props.delay,\n          onRest = _this$props.onRest,\n          props = _objectWithoutPropertiesLoose(_this$props, [\"items\", \"children\", \"from\", \"initial\", \"reverse\", \"keys\", \"delay\", \"onRest\"]);\n\n    const array = toArray(items);\n    return toArray(array).map((item, i) => React__default.createElement(Spring, _extends({\n      onRest: i === 0 ? onRest : null,\n      key: typeof keys === 'function' ? keys(item) : toArray(keys)[i],\n      from: this.first && initial !== void 0 ? initial || {} : from\n    }, props, {\n      delay: i === 0 && delay || undefined,\n      attach: instance => this.hook(instance, i, array.length, reverse),\n      children: props => {\n        const child = _children(item, i);\n\n        return child ? child(props) : null;\n      }\n    })));\n  }\n\n  componentDidUpdate(prevProps) {\n    this.first = false;\n    if (prevProps.items !== this.props.items) this.instances.clear();\n  }\n\n}\nTrail.defaultProps = {\n  keys: item => item\n};\n\nconst DEFAULT = '__default';\n\nclass KeyframesImpl extends React__default.PureComponent {\n  constructor() {\n    var _this;\n\n    super(...arguments);\n    _this = this;\n    this.guid = 0;\n    this.state = {\n      props: {},\n      resolve: () => null,\n      last: true,\n      index: 0\n    };\n\n    this.next = function (props, last, index) {\n      if (last === void 0) {\n        last = true;\n      }\n\n      if (index === void 0) {\n        index = 0;\n      }\n\n      _this.running = true;\n      return new Promise(resolve => {\n        _this.mounted && _this.setState(state => ({\n          props,\n          resolve,\n          last,\n          index\n        }), () => _this.running = false);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.componentDidUpdate({});\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  componentDidUpdate(previous) {\n    var _this2 = this;\n\n    const _this$props = this.props,\n          states = _this$props.states,\n          f = _this$props.filter,\n          state = _this$props.state;\n\n    if (previous.state !== this.props.state || this.props.reset && !this.running || !shallowEqual(states[state], previous.states[previous.state])) {\n      if (states && state && states[state]) {\n        const localId = ++this.guid;\n        const slots = states[state];\n\n        if (slots) {\n          if (Array.isArray(slots)) {\n            let q = Promise.resolve();\n\n            for (let i = 0; i < slots.length; i++) {\n              let index = i;\n              let slot = slots[index];\n              let last = index === slots.length - 1;\n              q = q.then(() => localId === this.guid && this.next(f(slot), last, index));\n            }\n          } else if (typeof slots === 'function') {\n            let index = 0;\n            slots( // next\n            function (props, last) {\n              if (last === void 0) {\n                last = false;\n              }\n\n              return localId === _this2.guid && _this2.next(f(props), last, index++);\n            }, // cancel\n            () => requestFrame(() => this.instance && this.instance.stop()), // ownprops\n            this.props);\n          } else {\n            this.next(f(states[state]));\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          props = _this$state.props,\n          resolve = _this$state.resolve,\n          last = _this$state.last,\n          index = _this$state.index;\n    if (!props || Object.keys(props).length === 0) return null;\n\n    let _this$props2 = this.props,\n        state = _this$props2.state,\n        filter = _this$props2.filter,\n        states = _this$props2.states,\n        config = _this$props2.config,\n        Component = _this$props2.primitive,\n        _onRest = _this$props2.onRest,\n        forwardRef = _this$props2.forwardRef,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"state\", \"filter\", \"states\", \"config\", \"primitive\", \"onRest\", \"forwardRef\"]); // Arrayed configs need an index to process\n\n\n    if (Array.isArray(config)) config = config[index];\n    return React__default.createElement(Component, _extends({\n      ref: _ref => this.instance = handleRef(_ref, forwardRef),\n      config: config\n    }, rest, props, {\n      onRest: args => {\n        resolve(args);\n        if (_onRest && last) _onRest(args);\n      }\n    }));\n  }\n\n}\n\nKeyframesImpl.defaultProps = {\n  state: DEFAULT\n};\nconst Keyframes = React__default.forwardRef((props, ref) => React__default.createElement(KeyframesImpl, _extends({}, props, {\n  forwardRef: ref\n})));\n\nKeyframes.create = primitive => function (states, filter) {\n  if (filter === void 0) {\n    filter = states => states;\n  }\n\n  if (typeof states === 'function' || Array.isArray(states)) states = {\n    [DEFAULT]: states\n  };\n  return props => React__default.createElement(KeyframesImpl, _extends({\n    primitive: primitive,\n    states: states,\n    filter: filter\n  }, props));\n};\n\nKeyframes.Spring = states => Keyframes.create(Spring)(states, interpolateTo);\n\nKeyframes.Trail = states => Keyframes.create(Trail)(states, interpolateTo);\n\nlet guid = 0;\n\nlet get = props => {\n  let items = props.items,\n      keys = props.keys,\n      rest = _objectWithoutPropertiesLoose(props, [\"items\", \"keys\"]);\n\n  items = toArray(items !== void 0 ? items : null);\n  keys = typeof keys === 'function' ? items.map(keys) : toArray(keys); // Make sure numeric keys are interpreted as Strings (5 !== \"5\")\n\n  return _extends({\n    items,\n    keys: keys.map(key => String(key))\n  }, rest);\n};\n\nclass Transition extends React__default.PureComponent {\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  constructor(prevProps) {\n    super(prevProps);\n\n    this.destroyItem = (item, key, state) => values => {\n      const _this$props = this.props,\n            onRest = _this$props.onRest,\n            onDestroyed = _this$props.onDestroyed;\n\n      if (this.mounted) {\n        onDestroyed && onDestroyed(item);\n        this.setState((_ref) => {\n          let deleted = _ref.deleted;\n          return {\n            deleted: deleted.filter(t => t.key !== key)\n          };\n        });\n        onRest && onRest(item, state, values);\n      }\n    };\n\n    this.state = {\n      first: true,\n      transitions: [],\n      current: {},\n      deleted: [],\n      prevProps\n    };\n  }\n\n  static getDerivedStateFromProps(props, _ref2) {\n    let first = _ref2.first,\n        prevProps = _ref2.prevProps,\n        state = _objectWithoutPropertiesLoose(_ref2, [\"first\", \"prevProps\"]);\n\n    let _get = get(props),\n        items = _get.items,\n        keys = _get.keys,\n        initial = _get.initial,\n        from = _get.from,\n        enter = _get.enter,\n        leave = _get.leave,\n        update = _get.update,\n        _get$trail = _get.trail,\n        trail = _get$trail === void 0 ? 0 : _get$trail,\n        unique = _get.unique,\n        config = _get.config;\n\n    let _get2 = get(prevProps),\n        _keys = _get2.keys,\n        _items = _get2.items;\n\n    let current = _extends({}, state.current);\n\n    let deleted = [...state.deleted]; // Compare next keys with current keys\n\n    let currentKeys = Object.keys(current);\n    let currentSet = new Set(currentKeys);\n    let nextSet = new Set(keys);\n    let added = keys.filter(item => !currentSet.has(item));\n    let removed = state.transitions.filter(item => !item.destroyed && !nextSet.has(item.originalKey)).map(i => i.originalKey);\n    let updated = keys.filter(item => currentSet.has(item));\n    let delay = 0;\n    added.forEach(key => {\n      // In unique mode, remove fading out transitions if their key comes in again\n      if (unique && deleted.find(d => d.originalKey === key)) deleted = deleted.filter(t => t.originalKey !== key);\n      const keyIndex = keys.indexOf(key);\n      const item = items[keyIndex];\n      const state = 'enter';\n      current[key] = {\n        state,\n        originalKey: key,\n        key: unique ? String(key) : guid++,\n        item,\n        trail: delay = delay + trail,\n        config: callProp(config, item, state),\n        from: callProp(first ? initial !== void 0 ? initial || {} : from : from, item),\n        to: callProp(enter, item)\n      };\n    });\n    removed.forEach(key => {\n      const keyIndex = _keys.indexOf(key);\n\n      const item = _items[keyIndex];\n      const state = 'leave';\n      deleted.push(_extends({}, current[key], {\n        state,\n        destroyed: true,\n        left: _keys[Math.max(0, keyIndex - 1)],\n        right: _keys[Math.min(_keys.length, keyIndex + 1)],\n        trail: delay = delay + trail,\n        config: callProp(config, item, state),\n        to: callProp(leave, item)\n      }));\n      delete current[key];\n    });\n    updated.forEach(key => {\n      const keyIndex = keys.indexOf(key);\n      const item = items[keyIndex];\n      const state = 'update';\n      current[key] = _extends({}, current[key], {\n        item,\n        state,\n        trail: delay = delay + trail,\n        config: callProp(config, item, state),\n        to: callProp(update, item)\n      });\n    }); // This tries to restore order for deleted items by finding their last known siblings\n\n    let out = keys.map(key => current[key]);\n    deleted.forEach((_ref3) => {\n      let left = _ref3.left,\n          right = _ref3.right,\n          transition = _objectWithoutPropertiesLoose(_ref3, [\"left\", \"right\"]);\n\n      let pos; // Was it the element on the left, if yes, move there ...\n\n      if ((pos = out.findIndex(t => t.originalKey === left)) !== -1) pos += 1; // Or how about the element on the right ...\n\n      if (pos === -1) pos = out.findIndex(t => t.originalKey === right); // Maybe we'll find it in the list of deleted items\n\n      if (pos === -1) pos = deleted.findIndex(t => t.originalKey === left); // Checking right side as well\n\n      if (pos === -1) pos = deleted.findIndex(t => t.originalKey === right); // And if nothing else helps, move it to the start \\_()_/\n\n      pos = Math.max(0, pos);\n      out = [...out.slice(0, pos), transition, ...out.slice(pos)];\n    });\n    return {\n      first: first && added.length === 0,\n      transitions: out,\n      current,\n      deleted,\n      prevProps: props\n    };\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          initial = _this$props2.initial,\n          _this$props2$from = _this$props2.from,\n          _this$props2$enter = _this$props2.enter,\n          _this$props2$leave = _this$props2.leave,\n          _this$props2$update = _this$props2.update,\n          onDestroyed = _this$props2.onDestroyed,\n          keys = _this$props2.keys,\n          items = _this$props2.items,\n          onFrame = _this$props2.onFrame,\n          onRest = _this$props2.onRest,\n          onStart = _this$props2.onStart,\n          trail = _this$props2.trail,\n          config = _this$props2.config,\n          _children = _this$props2.children,\n          unique = _this$props2.unique,\n          reset = _this$props2.reset,\n          extra = _objectWithoutPropertiesLoose(_this$props2, [\"initial\", \"from\", \"enter\", \"leave\", \"update\", \"onDestroyed\", \"keys\", \"items\", \"onFrame\", \"onRest\", \"onStart\", \"trail\", \"config\", \"children\", \"unique\", \"reset\"]);\n\n    return this.state.transitions.map((_ref4, i) => {\n      let state = _ref4.state,\n          key = _ref4.key,\n          item = _ref4.item,\n          from = _ref4.from,\n          to = _ref4.to,\n          trail = _ref4.trail,\n          config = _ref4.config,\n          destroyed = _ref4.destroyed;\n      return React__default.createElement(Keyframes, _extends({\n        reset: reset && state === 'enter',\n        primitive: Spring,\n        state: state,\n        filter: interpolateTo,\n        states: {\n          [state]: to\n        },\n        key: key,\n        onRest: destroyed ? this.destroyItem(item, key, state) : onRest && (values => onRest(item, state, values)),\n        onStart: onStart && (() => onStart(item, state)),\n        onFrame: onFrame && (values => onFrame(item, state, values)),\n        delay: trail,\n        config: config\n      }, extra, {\n        from: from,\n        children: props => {\n          const child = _children(item, state, i);\n\n          return child ? child(props) : null;\n        }\n      }));\n    });\n  }\n\n}\nTransition.defaultProps = {\n  keys: item => item,\n  unique: false,\n  reset: false\n};\n\nconst domElements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\nconst extendedAnimated = domElements.reduce((acc, element) => {\n  acc[element] = createAnimatedComponent(element);\n  return acc;\n}, createAnimatedComponent);\n\nexports.Spring = Spring;\nexports.Keyframes = Keyframes;\nexports.Transition = Transition;\nexports.Trail = Trail;\nexports.Controller = Controller;\nexports.config = config;\nexports.animated = extendedAnimated;\nexports.interpolate = interpolate$1;\nexports.Globals = Globals;\n","'use strict';\n\nvar functionsHaveConfigurableNames = require('functions-have-names').functionsHaveConfigurableNames();\n\nvar $Object = Object;\nvar $TypeError = TypeError;\n\nmodule.exports = function flags() {\n\tif (this != null && this !== $Object(this)) {\n\t\tthrow new $TypeError('RegExp.prototype.flags getter called on non-object');\n\t}\n\tvar result = '';\n\tif (this.hasIndices) {\n\t\tresult += 'd';\n\t}\n\tif (this.global) {\n\t\tresult += 'g';\n\t}\n\tif (this.ignoreCase) {\n\t\tresult += 'i';\n\t}\n\tif (this.multiline) {\n\t\tresult += 'm';\n\t}\n\tif (this.dotAll) {\n\t\tresult += 's';\n\t}\n\tif (this.unicode) {\n\t\tresult += 'u';\n\t}\n\tif (this.sticky) {\n\t\tresult += 'y';\n\t}\n\treturn result;\n};\n\nif (functionsHaveConfigurableNames && Object.defineProperty) {\n\tObject.defineProperty(module.exports, 'name', { value: 'get flags' });\n}\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar flagsBound = callBind(getPolyfill());\n\ndefine(flagsBound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = flagsBound;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar $gOPD = Object.getOwnPropertyDescriptor;\n\nmodule.exports = function getPolyfill() {\n\tif (supportsDescriptors && (/a/mig).flags === 'gim') {\n\t\tvar descriptor = $gOPD(RegExp.prototype, 'flags');\n\t\tif (\n\t\t\tdescriptor\n\t\t\t&& typeof descriptor.get === 'function'\n\t\t\t&& typeof RegExp.prototype.dotAll === 'boolean'\n\t\t\t&& typeof RegExp.prototype.hasIndices === 'boolean'\n\t\t) {\n\t\t\t/* eslint getter-return: 0 */\n\t\t\tvar calls = '';\n\t\t\tvar o = {};\n\t\t\tObject.defineProperty(o, 'hasIndices', {\n\t\t\t\tget: function () {\n\t\t\t\t\tcalls += 'd';\n\t\t\t\t}\n\t\t\t});\n\t\t\tObject.defineProperty(o, 'sticky', {\n\t\t\t\tget: function () {\n\t\t\t\t\tcalls += 'y';\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (calls === 'dy') {\n\t\t\t\treturn descriptor.get;\n\t\t\t}\n\t\t}\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar getPolyfill = require('./polyfill');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar TypeErr = TypeError;\nvar getProto = Object.getPrototypeOf;\nvar regex = /a/;\n\nmodule.exports = function shimFlags() {\n\tif (!supportsDescriptors || !getProto) {\n\t\tthrow new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tvar polyfill = getPolyfill();\n\tvar proto = getProto(regex);\n\tvar descriptor = gOPD(proto, 'flags');\n\tif (!descriptor || descriptor.get !== polyfill) {\n\t\tdefineProperty(proto, 'flags', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tget: polyfill\n\t\t});\n\t}\n\treturn polyfill;\n};\n","/**\n * Bare-bones equivalent for the functionality of d3.scale.linear\n * @param {Array<number>} domain\n * @param {Array<number>} range\n * @returns {Function} scale function\n * @example\n * var linearScale = require('simple-linear-scale');\n *\n * var scaleFunction = linearScale([0, 1], [0, 100]);\n * scaleFunction(0.5); // 50\n *\n * // clamp option ensures that output is within range\n * var scaleFunction = linearScale([0, 1], [0, 10], true);\n * scaleFunction(100); // 10\n */\nfunction linearScale(domain, range, clamp) {\n  return function(value) {\n    if (domain[0] === domain[1] || range[0] === range[1]) {\n      return range[0];\n    }\n    var ratio = (range[1] - range[0]) / (domain[1] - domain[0]),\n      result = range[0] + ratio * (value - domain[0]);\n    return clamp ? Math.min(range[1], Math.max(range[0], result)) : result;\n  };\n}\n\nmodule.exports = linearScale;\n","var candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n];\nvar candidateSelector = candidateSelectors.join(',');\n\nvar matches = typeof Element === 'undefined'\n  ? function () {}\n  : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n\n  var elementDocument = el.ownerDocument || el;\n  var regularTabbables = [];\n  var orderedTabbables = [];\n\n  var untouchabilityChecker = new UntouchabilityChecker(elementDocument);\n  var candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var i, candidate, candidateTabindex;\n  for (i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n\n    if (!isNodeMatchingSelectorTabbable(candidate, untouchabilityChecker)) continue;\n\n    candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map(function(a) { return a.node })\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n}\n\ntabbable.isTabbable = isTabbable;\ntabbable.isFocusable = isFocusable;\n\nfunction isNodeMatchingSelectorTabbable(node, untouchabilityChecker) {\n  if (\n    !isNodeMatchingSelectorFocusable(node, untouchabilityChecker)\n    || isNonTabbableRadio(node)\n    || getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n}\n\nfunction isTabbable(node, untouchabilityChecker) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, candidateSelector) === false) return false;\n  return isNodeMatchingSelectorTabbable(node, untouchabilityChecker);\n}\n\nfunction isNodeMatchingSelectorFocusable(node, untouchabilityChecker) {\n  untouchabilityChecker = untouchabilityChecker || new UntouchabilityChecker(node.ownerDocument || node);\n  if (\n    node.disabled\n    || isHiddenInput(node)\n    || untouchabilityChecker.isUntouchable(node)\n  ) {\n    return false;\n  }\n  return true;\n}\n\nvar focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\nfunction isFocusable(node, untouchabilityChecker) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, focusableCandidateSelector) === false) return false;\n  return isNodeMatchingSelectorFocusable(node, untouchabilityChecker);\n}\n\nfunction getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!isNaN(tabindexAttr)) return tabindexAttr;\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) return 0;\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n}\n\n// Array.prototype.find not available in IE.\nfunction find(list, predicate) {\n  for (var i = 0, length = list.length; i < length; i++) {\n    if (predicate(list[i])) return list[i];\n  }\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) return true;\n  // This won't account for the edge case where you have radio groups with the same\n  // in separate forms on the same page.\n  var radioSet = node.ownerDocument.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet);\n  return !checked || checked === node;\n}\n\n// An element is \"untouchable\" if *it or one of its ancestors* has\n// `visibility: hidden` or `display: none`.\nfunction UntouchabilityChecker(elementDocument) {\n  this.doc = elementDocument;\n  // Node cache must be refreshed on every check, in case\n  // the content of the element has changed. The cache contains tuples\n  // mapping nodes to their boolean result.\n  this.cache = [];\n}\n\n// getComputedStyle accurately reflects `visibility: hidden` of ancestors\n// but not `display: none`, so we need to recursively check parents.\nUntouchabilityChecker.prototype.hasDisplayNone = function hasDisplayNone(node, nodeComputedStyle) {\n  if (node.nodeType !== Node.ELEMENT_NODE) return false;\n\n    // Search for a cached result.\n    var cached = find(this.cache, function(item) {\n      return item === node;\n    });\n    if (cached) return cached[1];\n\n    nodeComputedStyle = nodeComputedStyle || this.doc.defaultView.getComputedStyle(node);\n\n    var result = false;\n\n    if (nodeComputedStyle.display === 'none') {\n      result = true;\n    } else if (node.parentNode) {\n      result = this.hasDisplayNone(node.parentNode);\n    }\n\n    this.cache.push([node, result]);\n\n    return result;\n}\n\nUntouchabilityChecker.prototype.isUntouchable = function isUntouchable(node) {\n  if (node === this.doc.documentElement) return false;\n  var computedStyle = this.doc.defaultView.getComputedStyle(node);\n  if (this.hasDisplayNone(node, computedStyle)) return true;\n  return computedStyle.visibility === 'hidden';\n}\n\nmodule.exports = tabbable;\n","/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.o=b||a;this.c=this.o.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction ea(a){return a.o.location.hostname||a.a.location.hostname}function z(a,b,c){function d(){m&&e&&f&&(m(g),m=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,m=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction A(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function B(){this.a=0;this.c=null}function C(a){a.a++;return function(){a.a--;D(a)}}function E(a,b){a.c=b;D(a)}function D(a){0==a.a&&a.c&&(a.c(),a.c=null)};function F(a){this.a=a||\"-\"}F.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function G(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return H(a)+\" \"+(a.f+\"00\")+\" 300px \"+I(a.c)}function I(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function J(a){return a.a+a.f}function H(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.o.document.documentElement;this.h=b;this.a=new F(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);K(a,\"loading\")}function L(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}K(a,\"inactive\")}function K(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,J(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function M(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function N(a){u(a.c,\"body\",a.a)}function O(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+I(a.c)+\";\"+(\"font-style:\"+H(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function P(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}P.prototype.start=function(){var a=this.c.o.document,b=this,c=q(),d=new Promise(function(d,e){function f(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=null,f=new Promise(function(a,d){e=setTimeout(d,b.f)});Promise.race([f,d]).then(function(){e&&(clearTimeout(e),e=null);b.g(b.a)},function(){b.j(b.a)})};function Q(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.m=this.j=this.h=this.g=null;this.g=new M(this.c,this.s);this.h=new M(this.c,this.s);this.j=new M(this.c,this.s);this.m=new M(this.c,this.s);a=new G(this.a.c+\",serif\",J(this.a));a=O(a);this.g.a.style.cssText=a;a=new G(this.a.c+\",sans-serif\",J(this.a));a=O(a);this.h.a.style.cssText=a;a=new G(\"serif\",J(this.a));a=O(a);this.j.a.style.cssText=a;a=new G(\"sans-serif\",J(this.a));a=\nO(a);this.m.a.style.cssText=a;N(this.g);N(this.h);N(this.j);N(this.m)}var R={D:\"serif\",C:\"sans-serif\"},S=null;function T(){if(null===S){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);S=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return S}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.m.a.offsetWidth;this.A=q();U(this)};\nfunction la(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.f[R[d]]&&c===a.f[R[d]])return!0;return!1}function U(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=T()&&la(a,b,c));d?q()-a.A>=a.w?T()&&la(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):ma(a):V(a,a.v)}function ma(a){setTimeout(p(function(){U(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.m.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.m=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,J(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\")]);K(b,\"fontactive\",a);this.m=!0;na(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,J(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\"));w(b.f,d,e)}K(b,\"fontinactive\",a);na(this)};function na(a){0==--a.f&&a.j&&(a.m?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),K(a,\"active\")):L(a.a))};function oa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}oa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;pa(this,new ha(this.c,a),a)};\nfunction qa(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,m=d||null||{};if(0===c.length&&f)L(b.a);else{b.f+=c.length;f&&(b.j=f);var h,l=[];for(h=0;h<c.length;h++){var k=c[h],n=m[k.c],r=b.a,x=k;r.g&&w(r.f,[r.a.c(\"wf\",x.c,J(x).toString(),\"loading\")]);K(r,\"fontloading\",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent),xa=/OS X.*Version\\/10\\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);\nX=x?42<parseInt(x[1],10):xa?!1:!0}else X=!1;X?r=new P(p(b.g,b),p(b.h,b),b.c,k,b.s,n):r=new Q(p(b.g,b),p(b.h,b),b.c,k,b.s,a,n);l.push(r)}for(h=0;h<l.length;h++)l[h].start()}},0)}function pa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){qa(a,f,b,d,c)})};function ra(a,b){this.c=a;this.a=b}\nra.prototype.load=function(a){function b(){if(f[\"__mti_fntLst\"+d]){var c=f[\"__mti_fntLst\"+d](),e=[],h;if(c)for(var l=0;l<c.length;l++){var k=c[l].fontfamily;void 0!=c[l].fontStyle&&void 0!=c[l].fontWeight?(h=c[l].fontStyle+c[l].fontWeight,e.push(new G(k,h))):e.push(new G(k))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.o;A(this.c,(c.a.api||\"https://fast.fonts.net/jsapi\")+\"/\"+d+\".js\"+(e?\"?v=\"+e:\"\"),function(e){e?a([]):(f[\"__MonotypeConfiguration__\"+\nd]=function(){return c.a},b())}).id=\"__MonotypeAPIScript__\"+d}else a([])};function sa(a,b){this.c=a;this.a=b}sa.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new B;b=0;for(c=d.length;b<c;b++)z(this.c,d[b],C(g));var m=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),l=0;l<h.length;l+=1)m.push(new G(d[0],h[l]));else m.push(new G(d[0]));E(g,function(){a(m,f)})};function ta(a,b){a?this.c=a:this.c=ua;this.a=[];this.f=[];this.g=b||\"\"}var ua=\"https://fonts.googleapis.com/css\";function va(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction wa(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function ya(a){this.f=a;this.a=[];this.c={}}\nvar za={latin:\"BESbswy\",\"latin-ext\":\"\\u00e7\\u00f6\\u00fc\\u011f\\u015f\",cyrillic:\"\\u0439\\u044f\\u0416\",greek:\"\\u03b1\\u03b2\\u03a3\",khmer:\"\\u1780\\u1781\\u1782\",Hanuman:\"\\u1780\\u1781\\u1782\"},Aa={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Ba={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},\nCa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Da(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var m=d[1];g=[];if(m)for(var m=m.split(\",\"),h=m.length,l=0;l<h;l++){var k;k=m[l];if(k.match(/^[\\w-]+$/)){var n=Ca.exec(k.toLowerCase());if(null==n)k=\"\";else{k=n[2];k=null==k||\"\"==k?\"n\":Ba[k];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Aa[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);k=[k,n].join(\"\")}}else k=\"\";k&&g.push(k)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=za[d[0]])&&(a.c[e]=d))}a.c[e]||(d=za[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new G(e,f[d]))}};function Ea(a,b){this.c=a;this.a=b}var Fa={Arimo:!0,Cousine:!0,Tinos:!0};Ea.prototype.load=function(a){var b=new B,c=this.c,d=new ta(this.a.api,this.a.text),e=this.a.families;va(d,e);var f=new ya(e);Da(f);z(c,wa(d),C(b));E(b,function(){a(f.a,f.c,Fa)})};function Ga(a,b){this.c=a;this.a=b}Ga.prototype.load=function(a){var b=this.a.id,c=this.c.o;b?A(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],m=b[f+1],h=0;h<m.length;h++)e.push(new G(g,m[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}a(e)}},2E3):a([])};function Ha(a,b){this.c=a;this.f=b;this.a=[]}Ha.prototype.load=function(a){var b=this.f.id,c=this.c.o,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,m=c.fonts.length;g<m;++g){var h=c.fonts[g];d.a.push(new G(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},A(this.c,(this.f.api||\"https://f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new oa(window);Y.a.c.custom=function(a,b){return new sa(b,a)};Y.a.c.fontdeck=function(a,b){return new Ha(b,a)};Y.a.c.monotype=function(a,b){return new ra(b,a)};Y.a.c.typekit=function(a,b){return new Ga(b,a)};Y.a.c.google=function(a,b){return new Ea(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var map = {\n\t\"./ct-addable-box.js\": 7705,\n\t\"./ct-background.js\": 8219,\n\t\"./ct-border.js\": 9847,\n\t\"./ct-box-shadow.js\": 2076,\n\t\"./ct-button.js\": 4056,\n\t\"./ct-checkboxes.js\": 3817,\n\t\"./ct-color-palettes-picker.js\": 9524,\n\t\"./ct-color-picker.js\": 4910,\n\t\"./ct-customizer-reset-options.js\": 7941,\n\t\"./ct-divider.js\": 5457,\n\t\"./ct-footer-builder.js\": 5186,\n\t\"./ct-header-builder.js\": 1829,\n\t\"./ct-image-picker.js\": 1650,\n\t\"./ct-image-uploader.js\": 7402,\n\t\"./ct-layers-mirror.js\": 7525,\n\t\"./ct-layers.js\": 3231,\n\t\"./ct-multi-image-uploader.js\": 7454,\n\t\"./ct-notification.js\": 3570,\n\t\"./ct-number.js\": 7873,\n\t\"./ct-panel.js\": 9999,\n\t\"./ct-radio.js\": 7129,\n\t\"./ct-ratio.js\": 7812,\n\t\"./ct-select.js\": 1744,\n\t\"./ct-slider.js\": 254,\n\t\"./ct-spacer.js\": 3480,\n\t\"./ct-spacing.js\": 4441,\n\t\"./ct-switch.js\": 5011,\n\t\"./ct-title.js\": 9697,\n\t\"./ct-typography.js\": 5839,\n\t\"./ct-visibility.js\": 9109,\n\t\"./ct-woocommerce-columns-and-rows.js\": 7475,\n\t\"./ct-woocommerce-ratio.js\": 4592,\n\t\"./date-time-picker.js\": 5502,\n\t\"./hidden.js\": 2242,\n\t\"./html.js\": 2616,\n\t\"./jsx.js\": 5200,\n\t\"./react-outside-click-handler.js\": 1511,\n\t\"./text.js\": 1252,\n\t\"./textarea.js\": 8670,\n\t\"./wp-editor.js\": 227\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1764;","module.exports = React;","module.exports = ReactDOM;","module.exports = ctEvents;","module.exports = jQuery;","module.exports = window._;","module.exports = window.wp.components;","module.exports = window.wp.element;","module.exports = window.wp.i18n;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + \"b2841b7778b85d53b946\" + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = globalThis[\"blocksyJsonP\"] = globalThis[\"blocksyJsonP\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import {\n\tcreateElement,\n\tComponent,\n\tcreateRef,\n\tuseRef,\n\tuseCallback,\n\tuseEffect,\n\tuseState\n} from '@wordpress/element'\nimport OptionsPanel from './OptionsPanel.js'\nimport $ from 'jquery'\n\nimport ctEvents from 'ct-events'\n\nconst INITIAL_VALUE = '__INITIAL__'\n\nconst OptionsRoot = ({\n\tvalue,\n\toptions,\n\tinput_name,\n\tinput_id,\n\thasRevertButton\n}) => {\n\tconst [internalValue, setInternalValue] = useState(value)\n\n\tconst input = useRef()\n\n\tconst handleChange = useCallback(({ id, value, input: inputRef }) => {\n\t\tif (inputRef === input.current) {\n\t\t\tsetInternalValue(internalValue => ({\n\t\t\t\t...internalValue,\n\t\t\t\t[id]: value\n\t\t\t}))\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\tctEvents.on('ct:options:trigger-change', handleChange)\n\n\t\treturn () => {\n\t\t\tctEvents.off('ct:options:trigger-change', handleChange)\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<div className=\"ct-options-root\">\n\t\t\t<input\n\t\t\t\tvalue={JSON.stringify(\n\t\t\t\t\tArray.isArray(internalValue) ? {} : internalValue\n\t\t\t\t)}\n\t\t\t\tonChange={() => {}}\n\t\t\t\tname={input_name}\n\t\t\t\tid={input_id}\n\t\t\t\ttype=\"hidden\"\n\t\t\t\tref={input}\n\t\t\t/>\n\n\t\t\t<OptionsPanel\n\t\t\t\thasRevertButton={hasRevertButton}\n\t\t\t\tonChange={(key, newValue) => {\n\t\t\t\t\tsetInternalValue(internalValue => ({\n\t\t\t\t\t\t...internalValue,\n\t\t\t\t\t\t[key]: newValue\n\t\t\t\t\t}))\n\t\t\t\t\t$(input.current).change()\n\t\t\t\t}}\n\t\t\t\tvalue={internalValue}\n\t\t\t\toptions={options}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default OptionsRoot\n","import { createElement, render } from '@wordpress/element'\nimport OptionsRoot from './OptionsRoot.js'\nimport { getValueFromInput } from './helpers/get-value-from-input'\nimport $ from 'jquery'\n\nexport const initAllPanels = () =>\n\t[...document.querySelectorAll('.ct-options-panel')].map((singleTarget) => {\n\t\tif (singleTarget.closest('[id=\"available-widgets\"]')) {\n\t\t\treturn\n\t\t}\n\n\t\tif (singleTarget.ctHasOptions) return\n\t\tsingleTarget.ctHasOptions = true\n\n\t\t$(singleTarget).on('remove', () => setTimeout(() => initAllPanels()))\n\t\t$(singleTarget).on('remove', () => () => initAllPanels())\n\n\t\trender(\n\t\t\t<OptionsRoot\n\t\t\t\toptions={JSON.parse(\n\t\t\t\t\tsingleTarget.firstElementChild.dataset.ctOptions\n\t\t\t\t)}\n\t\t\t\tvalue={getValueFromInput(\n\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\tsingleTarget.firstElementChild.dataset.ctOptions\n\t\t\t\t\t),\n\t\t\t\t\tJSON.parse(singleTarget.firstElementChild.value),\n\t\t\t\t\tnull,\n\t\t\t\t\tfalse\n\t\t\t\t)}\n\t\t\t\tinput_id={singleTarget.firstElementChild.id}\n\t\t\t\tinput_name={singleTarget.firstElementChild.name}\n\t\t\t\thasRevertButton={\n\t\t\t\t\tObject.keys(singleTarget.dataset).indexOf(\n\t\t\t\t\t\t'disableReverseButton'\n\t\t\t\t\t) === -1\n\t\t\t\t}\n\t\t\t/>,\n\t\t\tsingleTarget\n\t\t)\n\t})\n","import { createElement, render } from '@wordpress/element'\nimport OptionsRoot from '../options/OptionsRoot'\nimport { getValueFromInput } from '../options/helpers/get-value-from-input'\nimport $ from 'jquery'\nimport { __ } from 'ct-i18n'\n\nexport const initWooVariation = (variationWrapper) => {\n\tconst uploadImage = variationWrapper.querySelector('.upload_image')\n\n\tif (!uploadImage) {\n\t\treturn\n\t}\n\n\tconst div = document.createElement('p')\n\n\tdiv.classList.add('form-row')\n\tdiv.classList.add('form-row-full')\n\tdiv.classList.add('ct-variation-image-gallery')\n\n\tuploadImage.nextElementSibling.insertAdjacentElement('afterend', div)\n\n\tconst input = variationWrapper.querySelector(\n\t\t'[name*=\"blocksy_post_meta_options\"]'\n\t)\n\n\tif (!input) {\n\t\treturn\n\t}\n\n\tconst options = {\n\t\tgallery_source: {\n\t\t\tlabel: __('Variation Gallery Source', 'blocksy'),\n\t\t\ttype: 'ct-radio',\n\t\t\tvalue: 'default',\n\t\t\tdesign: 'inline',\n\t\t\tdivider: 'bottom',\n\t\t\tchoices: {\n\t\t\t\tdefault: __('Default', 'blocksy'),\n\t\t\t\tcustom: __('Custom', 'blocksy'),\n\t\t\t},\n\t\t},\n\n\t\tcondition: {\n\t\t\ttype: 'ct-condition',\n\t\t\tcondition: {\n\t\t\t\tgallery_source: 'custom',\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\timages: {\n\t\t\t\t\tlabel: __('Variation Image Gallery', 'blocksy'),\n\t\t\t\t\ttype: 'ct-multi-image-uploader',\n\t\t\t\t\tdesign: ({ value }) =>\n\t\t\t\t\t\tvalue.length === 0 ? 'inline' : 'block',\n\t\t\t\t\tvalue: [],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t}\n\n\trender(\n\t\t<OptionsRoot\n\t\t\toptions={options}\n\t\t\tvalue={getValueFromInput(\n\t\t\t\toptions,\n\t\t\t\tJSON.parse(input.value),\n\t\t\t\tnull,\n\t\t\t\tfalse\n\t\t\t)}\n\t\t\tinput_id={input.id}\n\t\t\tinput_name={input.name}\n\t\t\thasRevertButton={false}\n\t\t/>,\n\t\tdiv\n\t)\n}\n\nexport const initAllWooVariations = () => {\n\t;[\n\t\t...document.querySelectorAll(\n\t\t\t'.woocommerce_variations .woocommerce_variation'\n\t\t),\n\t].map((variationWrapper) => {\n\t\tif (variationWrapper.hasBlocksyOptions) {\n\t\t\treturn\n\t\t}\n\n\t\tvariationWrapper.hasBlocksyOptions = true\n\n\t\tinitWooVariation(variationWrapper)\n\t})\n}\n","import { __ } from 'ct-i18n'\nimport {\n\tuseRef,\n\tuseState,\n\tFragment,\n\tcreateElement,\n\tcreatePortal,\n\trender,\n} from '@wordpress/element'\n\nimport $ from 'jquery'\n\nimport OptionsPanel from '../options/OptionsPanel'\n\nimport { getValueFromInput } from '../options/helpers/get-value-from-input'\n\nimport deepEqual from 'deep-equal'\n\nconst TaxonomyRoot = ({ options, input_name, value }) => {\n\tconst [internalValue, setInternalValue] = useState(value)\n\tconst input = useRef()\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<input\n\t\t\t\tvalue={JSON.stringify(\n\t\t\t\t\tArray.isArray(internalValue) ? {} : internalValue\n\t\t\t\t)}\n\t\t\t\tonChange={() => {}}\n\t\t\t\tname={input_name}\n\t\t\t\ttype=\"hidden\"\n\t\t\t\tref={input}\n\t\t\t/>\n\n\t\t\t{createPortal(\n\t\t\t\t<OptionsPanel\n\t\t\t\t\tvalue={internalValue}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\taccent_color: options.accent_color,\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(key, newValue) => {\n\t\t\t\t\t\tsetInternalValue((internalValue) => ({\n\t\t\t\t\t\t\t...internalValue,\n\t\t\t\t\t\t\t[key]: newValue,\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t$(input.current).change()\n\t\t\t\t\t}}\n\t\t\t\t/>,\n\n\t\t\t\tdocument.querySelector('.term-blocksy-accent-color-wrap td')\n\t\t\t)}\n\n\t\t\t{createPortal(\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdisabled={deepEqual(\n\t\t\t\t\t\toptions.accent_color.value,\n\t\t\t\t\t\tinternalValue.accent_color\n\t\t\t\t\t)}\n\t\t\t\t\tclassName=\"ct-revert\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetInternalValue((internalValue) => ({\n\t\t\t\t\t\t\t...internalValue,\n\t\t\t\t\t\t\taccent_color: options.accent_color.value,\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t$(input.current).change()\n\t\t\t\t\t}}\n\t\t\t\t/>,\n\n\t\t\t\tdocument.querySelector(\n\t\t\t\t\t'.term-blocksy-accent-color-wrap th label'\n\t\t\t\t)\n\t\t\t)}\n\n\t\t\t{createPortal(\n\t\t\t\t<OptionsPanel\n\t\t\t\t\tvalue={internalValue}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\timage: options.image,\n\t\t\t\t\t}}\n\t\t\t\t\tonChange={(key, newValue) => {\n\t\t\t\t\t\tsetInternalValue((internalValue) => ({\n\t\t\t\t\t\t\t...internalValue,\n\t\t\t\t\t\t\t[key]: newValue,\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t$(input.current).change()\n\t\t\t\t\t}}\n\t\t\t\t/>,\n\n\t\t\t\tdocument.querySelector('.term-blocksy-image-wrap td')\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nexport const initTaxonomies = () => {\n\tconst maybeTaxonomyField = document.querySelector(\n\t\t'[name*=\"blocksy_taxonomy_meta_options\"]'\n\t)\n\n\tif (!maybeTaxonomyField) {\n\t\treturn\n\t}\n\n\tlet options = {\n\t\timage: {\n\t\t\tlabel: __('Transparent State Logo', 'blocksy'),\n\t\t\ttype: 'ct-image-uploader',\n\t\t\tvalue: '',\n\t\t\tattr: { 'data-type': 'large' },\n\t\t\tdesign: 'none',\n\t\t\temptyLabel: __('Select Image', 'blocksy'),\n\t\t},\n\n\t\taccent_color: {\n\t\t\tlabel: __('Site Title Color', 'blocksy'),\n\t\t\ttype: 'ct-color-picker',\n\n\t\t\tdesign: 'none',\n\n\t\t\tvalue: {\n\t\t\t\tdefault: {\n\t\t\t\t\tcolor: 'CT_CSS_SKIP_RULE',\n\t\t\t\t},\n\n\t\t\t\thover: {\n\t\t\t\t\tcolor: 'CT_CSS_SKIP_RULE',\n\t\t\t\t},\n\n\t\t\t\tbackground_initial: {\n\t\t\t\t\tcolor: 'CT_CSS_SKIP_RULE',\n\t\t\t\t},\n\n\t\t\t\tbackground_hover: {\n\t\t\t\t\tcolor: 'CT_CSS_SKIP_RULE',\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tpickers: [\n\t\t\t\t{\n\t\t\t\t\ttitle: __('Text Initial', 'blocksy'),\n\t\t\t\t\tid: 'default',\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttitle: __('Text Hover', 'blocksy'),\n\t\t\t\t\tid: 'hover',\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttitle: __('Background Initial', 'blocksy'),\n\t\t\t\t\tid: 'background_initial',\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttitle: __('Background Hover', 'blocksy'),\n\t\t\t\t\tid: 'background_hover',\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\trender(\n\t\t<TaxonomyRoot\n\t\t\tinput_name={maybeTaxonomyField.name}\n\t\t\toptions={options}\n\t\t\tvalue={getValueFromInput(\n\t\t\t\toptions,\n\t\t\t\tJSON.parse(maybeTaxonomyField.value),\n\t\t\t\tnull,\n\t\t\t\tfalse\n\t\t\t)}\n\t\t/>,\n\t\tmaybeTaxonomyField.parentNode\n\t)\n}\n","import './public-path'\nimport $ from 'jquery'\nimport { initAllPanels } from './options/initPanels'\nimport { initWidget } from './backend/widgets'\n\nimport { initAllWooVariations } from './backend/woo-variation'\nimport { initTaxonomies } from './backend/taxonomies'\n\nif ($ && $.fn) {\n\t$(document).on('widget-added', (event, widget) => {\n\t\tinitWidget(widget[0])\n\t})\n\n\tinitAllWooVariations()\n\n\tsetTimeout(() => {\n\t\t$(document.body).on(\n\t\t\t'woocommerce_variations_added woocommerce_variations_loaded',\n\t\t\tfunction () {\n\t\t\t\tinitAllWooVariations()\n\t\t\t}\n\t\t)\n\t}, 1000)\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tinitAllPanels()\n\tinitTaxonomies()\n\t;[\n\t\t...document.querySelectorAll('.notice-blocksy-plugin'),\n\t\t...document.querySelectorAll('[data-dismiss]'),\n\t].map((el) => import('./notification/main').then(({ mount }) => mount(el)))\n\n\tif ($) {\n\t\t$(document).on(\n\t\t\t'click',\n\t\t\t'[href*=\"technical_support\"][href*=\"ct-dashboard\"]',\n\t\t\t(e) => {\n\t\t\t\te.preventDefault()\n\t\t\t\tlocation.href = 'https://creativethemes.com/blocksy/support'\n\t\t\t}\n\t\t)\n\t}\n})\n\nexport { default as Overlay } from './customizer/components/Overlay'\nexport { getValueFromInput } from './options/helpers/get-value-from-input'\nexport { default as OptionsPanel } from './options/OptionsPanel'\nexport { default as Panel, PanelMetaWrapper } from './options/options/ct-panel'\nexport { DeviceManagerProvider } from './customizer/components/useDeviceManager'\nexport { default as PanelLevel } from './options/components/PanelLevel'\nexport { default as Switch } from './options/options/ct-switch'\nexport { default as ImageUploader } from './options/options/ct-image-uploader'\nexport { default as Select } from './options/options/ct-select'\nexport { default as OutsideClickHandler } from './options/options/react-outside-click-handler'\n\nexport { Transition, animated } from 'react-spring/renderprops'\nexport { default as bezierEasing } from 'bezier-easing'\nexport { default as usePopoverMaker } from './options/helpers/usePopoverMaker'\n\nexport const onDocumentLoaded = (cb) => {\n\tif (/comp|inter|loaded/.test(document.readyState)) {\n\t\tcb()\n\t} else {\n\t\tdocument.addEventListener('DOMContentLoaded', cb, false)\n\t}\n}\n","import { initAllPanels } from '../options/initPanels'\n\nexport const initWidget = (widget) => {\n\tif (\n\t\twidget.querySelector('.ct-options-panel') &&\n\t\twidget.querySelector('.ct-options-panel').innerHTML.indexOf('__i__') >\n\t\t\t-1\n\t) {\n\t\tconst panel = widget.querySelector('.ct-options-panel')\n\n\t\tconst widgetNumber = widget.querySelector('input.multi_number').value\n\t\tpanel.innerHTML = panel.innerHTML.replace(/__i__|%i%/g, widgetNumber)\n\t}\n\n\tinitAllPanels()\n}\n"],"names":["inProgress","dataWebpackPrefix","$node","Symbol","for","getAnimated","owner","setAnimated","node","getPayload","Animated","constructor","this","payload","AnimatedValue","_value","super","done","elapsedTime","lastPosition","lastVelocity","v0","durationProgress","is","static","value","getValue","setValue","step","Math","round","reset","AnimatedString","_string","_toString","output","goal","TreeContext","dependencies","AnimatedObject","source","animated","values","key","isAnimated","_makePayload","Set","_addToPayload","Array","from","add","AnimatedArray","map","length","i","some","Boolean","makeAnimated","create","getAnimatedType","parentNode","_extends","Object","assign","target","arguments","prototype","hasOwnProperty","call","apply","withAnimated","Component","host","hasInstance","isReactComponent","forwardRef","givenProps","givenRef","instanceRef","useRef","ref","useCallback","current","updateRef","props","deps","style","createAnimatedStyle","getAnimatedState","forceUpdate","callback","instance","applyAnimatedValues","observer","PropsObserver","observerRef","dep","update","useEffect","usedProps","getComponentProps","eventObserved","event","type","cacheKey","createHost","components","_applyAnimatedValues","_createAnimatedStyle","_getComponentProps","hostConfig","displayName","getDisplayName","arg","name","callProp","args","matchProp","includes","resolveProp","prop","getDefaultProp","default","undefined","noopTransform","getDefaultProps","transform","keys","DEFAULT_PROPS","defaults","RESERVED_PROPS","config","to","loop","pause","cancel","reverse","immediate","delay","onProps","onStart","onChange","onPause","onResume","onRest","onResolve","items","trail","sort","expires","initial","enter","leave","children","onDestroyed","callId","parentId","inferTo","forward","count","getForwardProps","out","val","computeGoal","range","hasProps","_","isAsyncTo","detachRefs","ctrl","_ctrl$ref","delete","replaceRef","_ctrl$ref2","PI","tension","friction","mass","damping","easing","x","clamp","AnimationConfig","frequency","velocity","restVelocity","precision","progress","duration","bounce","decay","sanitizeConfig","isTensionConfig","emptyArray","Animation","changed","toValues","fromValues","scheduleProps","defaultProps","state","actions","Promise","resolve","reject","_props$cancel","timeout","paused","resumeQueue","resume","timeouts","time","delayed","pauseQueue","cancelId","start","err","getCombinedResult","results","result","cancelled","getCancelledResult","get","every","noop","getNoopResult","getFinishedResult","finished","runAsync","asyncTo","prevTo","promise","prevPromise","asyncId","preventBail","bail","bailPromise","bailIfEnded","bailSignal","bailResult","animate","arg1","arg2","BailSignal","skipAnimationSignal","SkipAniamtionSignal","stopAsync","animating","async","queue","stop","bind","all","then","item","t","clear","Error","isFrameValue","FrameValue","nextId$1","id","_priority","priority","_onPriorityChange","interpolate","toJSON","observerAdded","_attach","observerRemoved","_detach","_onChange","idle","parent","$P","hasAnimated","isAnimating","isPaused","setActiveBit","active","IS_ANIMATING","setPausedBit","SpringValue","animation","_state","_pendingCalls","_lastCallId","_lastToId","_memoizedDuration","isDelayed","advance","dt","anim","forEach","position","elapsed","e","exp","abs","min","bounceFactor","canBounce","isGrowing","isMoving","isBouncing","numSteps","ceil","n","p","Number","isNaN","console","warn","currVal","finalVal","_stop","set","_focus","_set","_update","finish","_onStart","push","_start","_prepareNode","_ref","isLoop","test","mergeActiveFn","sendEvent","isFrozen","checkFinished","_resume","_merge","nextProps","createLoopUpdate","hasToProp","hasFromProp","prevFrom","hasFromChanged","hasToChanged","hasAsyncTo","newConfig","defaultConfig","pow","mergeConfig","isAnimatable","nodeType","goalType","started","hasValueChanged","ACTIVE_EVENTS","oldNode","loopRet","overrides","createUpdate","findDefined","size","_target$animation$typ","_target$animation","_target$defaultProps$","_target$defaultProps","BATCHED_EVENTS","nextId","Controller","flush","springs","_flush","_initialProps","_lastAsyncId","_active","_changed","_started","_item","_events","Map","_onFrame","spring","each","prepareKeys","flushUpdate","flushUpdateQueue","iterator","handler","promises","getSprings","prepareSprings","createSpring","setSprings","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_excluded$3","SpringContext","inherited","useContext","ctx","Provider","init","_context","Consumer","SpringRef","_getProps","splice","index","TransitionPhase","nextKey","getKeys","prevTransitions","reused","find","phase","LEAVE","has","_excluded","Transition","data","propsFn","exitBeforeEnter","propsRef","propsConfig","useMemo","transitions","usedTransitions","_t$ctrl$ref","change","changes","expired","clearTimeout","expirationId","MOUNT","keyIndex","prevIndex","a","b","exitingTransitions","forceChange","prevPhase","propsDelay","ENTER","isLeave","UPDATE","_p","expiry","expiryMs","setTimeout","context","prevContext","hasContext","ind","findIndex","renderTransitions","render","elem","useTransition","Interpolation","calc","_get","_dt","oldValue","checkIdle","becomeIdle","inputs","max","reduce","highest","isIdle","self","createStringInterpolator","updateQueue","makeQueue","raf","fn","schedule","writeQueue","write","onStartQueue","onFrameQueue","onFrame","onFinishQueue","onFinish","ms","now","pendingCount","findTimeout","sync","batchedUpdates","throttle","lastArgs","queuedFn","throttled","nativeRaf","window","requestAnimationFrame","use","impl","performance","Date","catch","error","frameLoop","ts","prevTs","eachSafely","next","defineHidden","obj","defineProperty","writable","configurable","arr","isArray","fun","str","num","und","isEqual","eachProp","toArray","flushCalls","isSSR","navigator","userAgent","createStringInterpolator$1","colors$1","skipAnimation","willAdvance","globals","freeze","__proto__","colors","startQueue","currentFrame","prevFrame","flushStartQueue","startSafely","startUnsafely","other","nextFrame","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","NUMBER","PERCENTAGE","parts","join","rgb","RegExp","rgba","hsl","hsla","hex3","hex4","hex6","hex8","hue2rgb","q","hslToRgb","h","s","l","r","g","parse255","int","parseInt","parse360","parseFloat","parse1","parsePercentage","colorToRgba","input","int32Color","color","match","exec","normalizeColor","createInterpolator","extrapolate","outputRange","inputRange","extrapolateLeft","extrapolateRight","findRange","inputMin","inputMax","outputMin","outputMax","Infinity","$get","$observers","hasFluidValue","getFluidValue","getFluidObservers","callFluidObservers","observers","callFluidObserver","FluidValue","setFluidGetter","setHidden","addFluidObserver","removeFluidObserver","numberRegex","colorRegex","unitRegex","rgbaRegex","cssVariableRegex","variableToRgba","token","fallback","parseCSSVariable","getComputedStyle","document","documentElement","getPropertyValue","trim","startsWith","namedColorRegex","rgbaRound","p1","p2","p3","p4","replace","keyframes","interpolators","_output$find","missingUnit","prefix","once","func","called","TypeError","warnInterpolate","deprecateInterpolate","warnDirectCall","deprecateDirectCall","isAnimatedString","useLayoutEffect","createElement","useForceUpdate","useState","isMounted","useIsMounted","random","useMemoOne","getResult","committed","prevCache","cache","prev","areInputsEqual","useOnce","effect","emptyDeps","usePrev","prevRef","_excluded$2","isCustomPropRE","dangerousStyleValue","isUnitlessNumber","attributeCache","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixes","acc","charAt","toUpperCase","substring","prefixKey","_excluded$1","domTransforms","pxTransforms","degTransforms","addUnit","unit","isValueIdentity","v","AnimatedStyle","y","z","transforms","xyz","deg","FluidTransform","identity","Globals","unstable_batchedUpdates","setAttribute","isFilterElement","nodeName","scrollTop","scrollLeft","attributes","names","hasAttribute","toLowerCase","textContent","setProperty","arrayMoveMutate","array","startIndex","arrayMove","slice","module","exports","mutate","_classCallCheck","Constructor","_possibleConstructorReturn","ReferenceError","cleanProps","initialState","getInitialState","refs","getRefs","didMount","didUpdate","willUnmount","getSnapshotBeforeUpdate","shouldUpdate","_objectWithoutProperties","_React$Component","_temp","_this","_len","_key","concat","_initialiseProps","subClass","superClass","enumerable","setPrototypeOf","_inherits","getArgs","setState","_setState","_forceUpdate","_refs","componentDidMount","shouldComponentUpdate","nextState","componentWillUnmount","componentDidUpdate","prevProps","prevState","snapshot","_props","_this2","container","body","containerNode","appendChild","removeChild","createPortal","wrapEvent","theirHandler","ourHandler","defaultPrevented","k","checkDialogStyles","contentWillUnmount","trap","deactivate","disposeAriaHider","FocusContext","React","createContext","DialogOverlay","isOpen","onDismiss","initialFocusRef","onClick","onKeyDown","overlayNode","contentNode","dialogNode","originalValues","rootNodes","querySelectorAll","attr","getAttribute","originalValue","removeAttribute","createAriaHider","createFocusTrap","initialFocus","fallbackFocus","escapeDeactivates","clickOutsideDeactivates","portalDidMount","stopPropagation","propTypes","DialogContent","contentRef","tabIndex","defaultIsVisible","isVisible","className","onCloseButtonClick","classList","isOptionEnabledFor","currentDevice","responsiveDescriptor","desktop","tablet","mobile","isOptionResponsiveFor","option","ignoreHidden","OptionComponent","getOptionFor","hiddenResponsive","responsive","getValueForDevice","device","setDevice","filter","d","classnames","DeviceManagerStateContext","DeviceManagerActionsContext","useDeviceManagerState","currentView","useDeviceManagerActions","useDeviceManager","withTablet","setCurrentView","wp","customize","previewedDevice","listener","unbind","DeviceManagerProvider","store","nextSibling","activeComponent","Sortable","options","eventHandler","params","evt","nextElementSibling","sortable","remote","remoteItems","referenceNode","insertBefore","remoteOptions","group","pull","el","dataset","remove","originalEvent","SortableJS","destroy","tag","customItemsSeparator","getOriginalId","split","pattern","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","addEventListener","off","removeEventListener","matches","selector","msMatchesSelector","webkitMatchesSelector","getParentOrHost","closest","includeCTX","R_SPACE","toggleClass","css","defaultView","currentStyle","matrix","selfOnly","appliedTransforms","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","tagName","list","getElementsByTagName","getWindowScrollingElement","scrollingElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","visible","parentSideVal","getChild","childNum","currentChild","display","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","includeSelf","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","isRectEqual","rect1","rect2","_throttleTimeout","scrollBy","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","expando","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","child","fromRect","thisAnimationDuration","childMatrix","f","addAnimationState","removeAnimationState","indexOfObject","animateAll","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","calculateRealTime","animationResetTimer","currentRect","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","plugins","initializeByDefault","PluginManager","mount","plugin","pluginEvent","eventName","eventCanceled","eventNameGlobal","pluginName","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","putSortable","extraEventProperties","onName","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","pullMode","lastPutMode","allEventProperties","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","float","touchingSideChild2","_prepareGroup","toFn","sameGroup","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopImmediatePropagation","nearestEmptyInsertDetectEvent","nearest","ret","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_detectNearestEmptySortable","touches","clientX","clientY","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","toString","disabled","handle","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","dropBubble","dragoverBubble","dataIdAttr","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_getSwapDirection","vertical","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_generateId","src","href","sum","charCodeAt","_nextTick","_cancelNextTick","contains","_getDirection","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","idx","checked","_saveInputCheckedState","button","isContentEditable","criteria","_prepareDragStart","dragStartFn","ownerDocument","offset","targetBoundingRect","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","floor","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","_dragStarted","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","inserted","ghostMatrix","relativeScrollOffset","dx","dy","c","cssMatrix","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","revert","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","_ghostIsLast","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","dragIndex","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","save","handleEvent","dropEffect","_globalDragOver","utils","extend","dst","nextTick","cancelNextTick","detectDirection","element","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","isFallback","scroll","sens","scrollSensitivity","speed","scrollSpeed","scrollCustomFn","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","onSpill","Revert","Remove","lastSwapEl","dragStart","parentSortable","lastMultiDragSelect","multiDragSortable","dragEl$1","clonesFromRect","clonesHidden","multiDragElements","multiDragClones","initialFolding","folding","insertMultiDragClones","elementsInserted","sortableIndex","removeMultiDragElements","multiDragElement","AutoScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","nulling","ogElemScroller","newElem","Swap","swapClass","dragOverValid","swap","prevSwapEl","n1","n2","i1","i2","isEqualNode","swapNodes","swapItem","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","showClone","hideClone","dragStartGlobal","multiDrag","dragOver","clonesInserted","insertMultiDragElements","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","dragMatrix","dragOverAnimationComplete","originalEvt","shiftKey","lastIndex","currentIndex","multiDragIndex","nullingGlobal","destroyGlobal","shift","select","deselect","oldIndicies","newIndicies","clones","factory","CORE_OPTIONS_CONTEXT","require","hasCoreOptionModifier","DefaultOptionComponent","dynamicOptionTypes","ctEvents","optionWithDefault","onChangeFor","hasRevertButton","purpose","maybeGutenbergDevice","childComponentRef","useSelect","__experimentalGetPreviewDeviceType","getInitialDevice","setInnerDevice","ctEventsListener","dispatch","__experimentalSetPreviewDeviceType","markAsAutoFor","BeforeOptionContent","content","globalResponsiveValue","maybePromoteScalarValueIntoResponsive","valueWithResponsive","onChangeWithMobileBridge","triggerRefreshOnChange","previewer","refresh","switchDeviceOnChange","send","onChangeWithResponsiveBridge","scalarValue","responsiveValue","currentValue","__changed","renderingConfig","design","label","wrapperAttr","LabelToolbar","OptionMetaWrapper","ControlEnd","sectionClassName","MetaWrapper","OptionComponentWithoutDesign","Fragment","maybeLabel","getOptionLabelFor","maybeDesc","desc","maybeLink","link","actualDesignType","sectionAttr","dangerouslySetInnerHTML","__html","linkAttr","getActualOption","additionalWrapperAttr","optionClassName","optionAdditionalWrapperAttr","computeOptionValue","o","divider","disableRevertButton","deepEqual","getValueForRevert","handleOptionRevert","performRevert","skipResponsiveControls","disabledDeviceMessage","__","class","reducer","renderingChunk","parentValue","useReducer","conditionOption","global","condition","valueForCondition","values_source","perform_replace","conditionToWatch","res","singleReplace","wp_customizer_current_view","matchValuesWithCondition","normalizeCondition","Tabs","currentTab","filteredTabs","singleTab","title","groupOption","groupContents","SingleChoice","singleChoice","totalAmountofMatched","choices","previousPromise","nextChoice","optionId","enabled","meta_elements","Container","HasMetaCategoryButton","Condition","Group","LabeledGroup","renderOptions","SlotFillProvider","finalResult","localOptions","flattenOptions","__CT_KEYS_ORDER__","orderKey","chunksHolder","currentOptionDescriptor","lastChunk","GenericOptionType","newValue","onBlur","placeholder","keyCode","ctrlKey","valueForComputation","maybeValue","actualStep","cls","inactive","deepLinkLocation","getDeepLinkPanel","location","section","panel","expanded","expand","PanelContext","titlePrefix","isTransitioning","previousPanel","currentLevel","secondLevelTitlePrefix","secondLevelTitleLabel","panelsReducer","action","panelId","containerRef","parentContainerRef","useRefsAsWrappers","panelsState","panelsDispatch","panelsHelpers","isOpenFor","isTransitioningFor","open","close","stopTransitioning","getWrapperParent","openSecondLevel","getParentOptionsWrapper","capitalizeFirstLetter","String","approvedLabel","currentLabel","getFirstLevelOptions","hasInnerOptions","rest","currentOptions","currentOptionId","currentId","getValueFromInput","valueGetter","firstLevelOptions","currentValues","actualValue","maybeTransformUnorderedChoices","choice","nullifyTransforms","transformArr","parseTransform","det","contentRefProp","shouldCalculate","defaultHeight","refreshOnScroll","modalRef","ResizeObserver","observe","disconnect","yOffset","otherStyles","maybeWidthFlag","nextRect","popoverRect","refreshPopover","styles","popoverProps","grad","turn","rad","u","isFinite","m","string","object","N","M","H","j","parsed","isValid","brightness","isDark","isLight","toHex","toRgb","toRgbString","toHsl","toHslString","toHsv","w","saturate","desaturate","grayscale","lighten","darken","rotate","hue","alpha","parsedColor","colord","isNew","GradientPicker","ColorPicker","enableAlpha","onChangeComplete","hex","getNoColorPropFor","noColorTransparent","picker","wrapperProps","inline_modal","appendToBody","inheritValue","getValueForPicker","inherit","valueToCheck","arrowLeft","modal","wrapperLeft","firstElementChild","getLeftForEl","modalClassName","predefined","background","paletteColor1","paletteColor2","paletteColor3","paletteColor4","paletteColor5","paletteColor6","paletteColor7","paletteColor8","skipNoColorPill","resolveInherit","pickerToInheritFrom","maybeNextValue","pickers","maybeResult","currentVar","inherit_source","onPickingChange","innerRef","isPicking","usePopoverMaker","bezierEasing","skipModal","futureIsPicking","viewBox","LayerControls","SortableHandle","removeForId","addForId","toggleOptionsPanel","LayersContext","__id","template","onMouseDown","valueWithUniqueIds","singleItem","nanoid","currentlyPickedItem","isDragging","SingleItem","itemClass","SortableItem","SortableElement","SortableList","SortableContainer","disableDrag","localOnChange","computedValue","idToRemove","idToAdd","useDragHandle","distance","lockAxis","helperContainer","querySelector","onSortEnd","updateBeforeSortStart","shouldSkip","patternsList","singlePattern","background_pattern","ct_localizations","ct_customizer_localizations","static_public_url","skipArrow","patternColor","setOutsideClickFreezed","has_position_picker","emptyLabel","filledLabel","onFrameOpen","onFrameClose","background_image","view","repeat","background_repeat","auto","cover","contain","background_size","fixed","background_attachment","url","overlayColor","no","yes","hasOverlay","allGradients","gradient","slug","activeTabs","onMouseUp","background_type","image","backgroundColor","setIsOpen","outsideClickFreezed","backgroundWrapper","attachment_id","maybeConvertFromColorPickerTo","isInherit","has_no_color","isNoColor","default_inherit_color","no_color","useCapture","onOutsideClick","colorValue","secondColor","hOffsetRef","vOffsetRef","blurRef","spreadRef","hide_shadow_placement","onMouseDownCapture","nativeEvent","onMouseUpCapture","enable","h_offset","steps","v_offset","blur","spread","inset","setAnimationState","focusedComponent","setFocusedComponent","colorPicker","additionalRefs","text","orderedChoices","inline","choiceValue","allow_empty","renderBefore","currentPalette","palettes","current_palette","OptionsPanel","optionValue","finalValue","sprintf","palette","colorPalettesWrapper","setModalState","properValue","currentKey","maybeCurrentlyInValue","maybeCurrentValue","maybeColor","condition_source","newPicker","isShowing","setIsShowing","post","ajaxurl","wp_customize","nonce","customizer_reset_none","reload","Divider","DraggableItem","panelType","onRemove","renderItem","itemData","header_builder_data","builderValue","DragDropContext","allDynamicItems","allClonesAndOriginal","draggableId","hasPointers","propsForItem","displayWrapper","setIsDragging","setList","itemsOutput","onEnd","Bar","bar","maybeValues","footer","column","shallowCompare","ColumnsBuilder","prevResult","areEqual","memo","rows","builderValueDispatch","inlinedItemsFromBuilder","displayList","panelsActions","inlinedItemsFromAllViewsBuilder","currentItems","secondaryItems","secondary_items","allItems","aItemData","bItemData","localeCompare","itemOptions","itemName","itemInBuilder","PanelMetaWrapper","getValues","itemValue","Slot","fillProps","primaryItems","primaryItem","maybeRow","hasWidgetAreas","items_per_row","has_widget_areas","builderValueCollection","allSections","sections","panelLabel","footerOptions","footer_data","footer_options","settings","setCurrentTab","tab","panels","fills","builderReducer","updatedGlobalState","newSections","futureBuilderValue","__forced_static_footer__","fetchCurrentFooter","updateItemId","removeSectionIds","row","futureLength","removedItem","localItems","futureId","completeFutureId","current_section","lists","barId","copy","mode","__should_refresh__","__should_refresh_item__","builder","contentDocument","contentWindow","FooterBuilder","allBuilderSections","onBuilderValueChange","currentFooter","old","builderValueDispatchInternal","builderCollapsed","setBuilderCollapsed","newState","itemId","currentItem","_id","isItemAllowedIn","header","allowed_in","allowedRespected","exclusionRespected","excluded_from","beautyItem","placementName","placement","placements","placementsToRender","middle","offcanvas","builderValueWithView","hasOffcanvas","maybeBar","itemsOnlyWithTrigger","isSidebarRepresentationPresent","devices","builderSettings","itemsCount","headerOptions","header_data","header_options","__forced_static_header__","fetchCurrentHeader","futureBar","updater","currentHeader","__forced_dynamic_header__","futureItems","HeaderBuilder","tabletChoices","mobileChoices","deviceChoices","matchingChoices","conditions","normalizedValue","ImageUploader","flex_width","flex_height","attachment_info","attachmentInfo","sizes","full","inline_value","getUrlFor","attachment","frame","first","logo","skipCrop","setImageFromAttachment","croppedImage","force","getAttachmentId","media","fetch","JSON","parse","stringify","detachListener","updateAttachmentInfo","initFrame","states","controller","Library","library","query","mediaType","multiple","date","suggestedWidth","suggestedHeight","onSelect","onCropped","onSkippedCrop","openFrame","calculateImageSelectOptions","x1","y1","imgSelectOptions","control","flexWidth","flexHeight","realWidth","realHeight","xInit","yInit","ratio","xImg","yImg","handles","persistent","imageWidth","imageHeight","minWidth","minHeight","x2","y2","aspectRatio","maxWidth","maxHeight","mustBeCropped","flexW","flexH","dstW","dstH","imgW","imgH","alt","FocalPointPicker","dimensions","drag_position","LayersMirror","wholeLayers","layers","ourLayers","field","computedOptions","notAddedItems","itemsThatAreNotAdded","setCurrentItem","addCurrentlySelectedItem","search","selectOption","itemIndex","hasOptions","options_condition","itemsOfType","relativeIndex","disableHiding","manageable","totalItems","idForSync","ALLOWED_MEDIA_TYPES","MultiImageUploader","mediaUtils","MediaUpload","gallery","allowedTypes","Notification","parsedValue","can_safely_parse","selfPanelId","wrapper","h3","innerText","isEnabled","switch","PanelContainer","Panel","behavior","switchBehavior","RadioInput","DefaultRadio","singleChoiceProps","renderContent","Ratio","isForcedReversed","setIsReversed","hasOriginalRatio","preview_width_key","currentModalTab","normal_ratios","reversed_ratios","isReversed","inlineRatioView","reversed","second","first_component","second_component","frameElement","__assign","idCounter","cbToCb","cb","scrollIntoView","menuNode","scrollMode","block","boundary","skipOverflowHiddenElements","parentElement","visualViewport","scrollX","pageXOffset","scrollY","pageYOffset","W","E","V","I","C","T","B","D","O","R","X","Y","L","S","borderTopWidth","A","borderBottomWidth","F","G","J","K","offsetHeight","P","isOrContainsNode","environment","Node","debounce","timeoutId","callAllEventHandlers","_len2","fns","_key2","_len3","_key3","preventDownshiftDefault","handleRefs","_len4","_key4","getA11yStatusMessage$1","_ref2","resultCount","previousResultCount","unwrapArray","defaultValue","stateKeys","pickState","isControlledProp","normalizeArrowKey","getNextWrappingIndex","moveAmount","baseIndex","itemCount","getItemNodeFromIndex","circular","itemsLastIndex","nonDisabledNewIndex","getNextNonDisabledIndex","currentElementNode","_index","targetWithinDownshift","downshiftElements","checkActiveElement","contextNode","activeElement","cleanupStatus","documentProp","getStatusDiv","setStatus","status","div","statusDiv","getElementById","border","clip","margin","overflow","padding","stateChangeTypes$3","unknown","mouseUp","itemMouseEnter","keyDownArrowUp","keyDownArrowDown","keyDownEscape","keyDownEnter","keyDownHome","keyDownEnd","clickItem","blurInput","changeInput","keyDownSpaceButton","clickButton","blurButton","controlledPropUpdatedSelectedItem","touchEnd","_excluded$4","_excluded2$3","_excluded3$2","_excluded4$1","_excluded5$1","Downshift$1","Downshift","_Component","menuId","labelId","inputId","getItemId","timeoutIds","internalSetTimeout","setItemCount","unsetItemCount","setHighlightedIndex","highlightedIndex","otherStateToSet","defaultHighlightedIndex","internalSetState","clearSelection","selectedItem","inputValue","defaultIsOpen","selectItem","itemToString","selectItemAtIndex","selectHighlightedItem","getState","stateToSet","isItemSelected","onChangeArg","onStateChangeArg","isStateToSetFunction","onInputValueChange","getStateAndHelpers","newStateToSet","stateReducer","nextFullState","onStateChange","onUserAction","rootRef","_rootNode","getRootProps","_temp2","_extends2","_ref$refKey","refKey","_ref2$suppressRefErro","suppressRefError","role","keyDownHandlers","ArrowDown","amount","moveHighlightedIndex","getItemCount","nextHighlightedIndex","ArrowUp","_this3","Enter","which","_this$getState2","itemNode","Escape","buttonKeyDownHandlers","toggleMenu","inputKeyDownHandlers","Home","_this4","newHighlightedIndex","End","_this5","getToggleButtonProps","_temp3","_ref3","onPress","onKeyUp","enabledEventHandlers","buttonHandleClick","buttonHandleKeyDown","buttonHandleKeyUp","buttonHandleBlur","eventHandlers","focus","blurTarget","isMouseDown","getLabelProps","htmlFor","getInputProps","_temp4","_ref4","onInput","onChangeText","_eventHandlers","_this$getState6","inputHandleChange","inputHandleKeyDown","inputHandleBlur","autoComplete","downshiftButtonIsActive","toggle","menuRef","_menuNode","getMenuProps","_temp5","_temp6","_extends3","_ref5","_ref5$refKey","_ref6$suppressRefErro","getItemProps","_temp7","_enabledEventHandlers","_ref7","onMouseMove","_ref7$item","customClickHandler","avoidScrolling","clearItems","_ref8","_ref9","_this$getState7","openMenu","closeMenu","updateStatus","getA11yStatusMessage","highlightedItem","_this$props","_this$props$initialHi","initialHighlightedIndex","_highlightedIndex","_this$props$initialIs","initialIsOpen","_isOpen","_this$props$initialIn","initialInputValue","_inputValue","_this$props$initialSe","initialSelectedItem","_selectedItem","_proto","internalClearTimeouts","stateToMerge","scrollHighlightedItemIntoView","_this6","_this$getState9","_this7","onOuterClick","onTouchStart","isTouchMove","onTouchMove","onTouchEnd","contextWithinDownshift","cleanup","shouldScroll","currentHighlightedIndex","prevHighlightedIndex","selectedItemChanged","isDOMElement","cloneElement","getElementProps","prevItem","stateChangeTypes","getA11yMessage","defaultProps$3","getA11ySelectionMessage","selectionParameters","itemToStringLocal","circularNavigation","_a","searchPlaceholder","defaultToFirstItem","inputClassName","selectInputStart","renderItemFor","inputRef","tempState","setTempState","potentialValue","maybeSelectedItem","dropdown","selected","popover","popoverTop","itemTop","readOnly","decimalPlaces","multiplier","rounded","EPSILON","UnitsList","is_open","toggleOpen","currentUnit","getNumericValue","getAllowedDecimalPlaces","forced_current_unit","setForcedCurrentUnit","futureUnitDescriptor","units","numericValue","pickUnit","Slider","is_dragging","is_empty_input","createRef","properUnit","decimals","getCurrentUnit","defaultUnit","computedUnit","forPosition","defaultPosition","getMin","getMax","computeAndSendNewValue","detachEvents","isCustomValueInput","clampMax","pageX","elLeftOffset","linearScale","attachEvents","handleMove","handleUp","getLeftValue","hasUnitsList","maybeUnit","beforeOption","onFocus","handleFocus","handleChange","pageY","skipInput","handleBlur","withDefault","Spacer","getLinkedLeader","linked","side","futureValue","inputAttr","isActive","Switch","alternateValueFor","Title","variation","fontFamilyToCSSFamily","family","humanizeVariations","n3","i3","n4","i4","n5","i5","n6","i6","n7","i7","n8","i8","n9","i9","Default","familyForDisplay","$1","humanizeFontSource","system","typekit","file","google","safeIsNaN","newInputs","lastInputs","resultFn","lastThis","lastResult","calledOnce","newArgs","_i","cancelTimeout","timeoutID","cancelAnimationFrame","cachedRTLResult","getRTLOffsetType","recalculate","outerDiv","outerStyle","innerDiv","innerStyle","defaultItemKey$1","createListComponent","_class","getItemOffset","getEstimatedTotalSize","getItemSize","getOffsetForIndexAndAlignment","getStartIndexForOffset","getStopIndexForStartIndex","initInstanceProps","shouldResetStyleCacheOnItemSizeChange","validateProps","_PureComponent","List","_instanceProps","_outerRef","_resetIsScrollingTimeoutId","isScrolling","scrollDirection","scrollOffset","initialScrollOffset","scrollUpdateWasRequested","_callOnItemsRendered","overscanStartIndex","overscanStopIndex","visibleStartIndex","visibleStopIndex","onItemsRendered","_callOnScroll","onScroll","_getItemStyle","itemSize","layout","itemStyleCache","_getItemStyleCache","_offset","isHorizontal","isRtl","offsetHorizontal","___","_onScrollHorizontal","_event$currentTarget","currentTarget","_resetIsScrollingDebounced","_onScrollVertical","_event$currentTarget2","_outerRefSetter","outerRef","_resetIsScrolling","tick","getDerivedStateFromProps","validateSharedProps$1","scrollTo","scrollToItem","align","_this$props2","_callPropsCallbacks","_this$props3","_this$state","_this$props4","innerElementType","innerTagName","_this$props4$itemKey","itemKey","outerElementType","outerTagName","useIsScrolling","_this$_getRangeToRend","_getRangeToRender","stopIndex","estimatedTotalSize","WebkitOverflowScrolling","willChange","_this$_getRangeToRend2","_overscanStartIndex","_overscanStopIndex","_visibleStartIndex","_visibleStopIndex","_this$state2","_scrollDirection","_scrollOffset","_scrollUpdateWasRequested","_this$props5","overscanCount","_this$state3","overscanBackward","overscanForward","PureComponent","FixedSizeList","lastItemOffset","maxOffset","minOffset","middleOffset","_ref6","numVisibleItems","classCallCheck","createClass","defineProperties","descriptor","protoProps","staticProps","possibleConstructorReturn","windowObject","cancelFrame","requestFrame","clearTimeoutFn","setTimeoutFn","cancelAnimationFrameFn","mozCancelAnimationFrame","webkitCancelAnimationFrame","requestAnimationFrameFn","mozRequestAnimationFrame","webkitRequestAnimationFrame","_arr","_n","_d","_e","_s","sliceIterator","slicedToArray","animationFrameID","AutoSizer","_React$PureComponent","getPrototypeOf","defaultWidth","_onResize","disableHeight","disableWidth","onResize","_parentNode","_height","_width","_style","paddingTop","paddingBottom","newHeight","newWidth","_setRef","autoSizer","_autoSizer","inherits","HTMLElement","_detectElementResize","animationKeyframes","animationName","animationStartEvent","animationStyle","checkTriggers","resetTriggers","scrollListener","attachEvent","triggers","__resizeTriggers__","contract","expandChild","__resizeLast__","__resizeRAF__","__resizeListeners__","keyframeprefix","domPrefixes","startEvents","elm","addResizeListener","doc","elementStyle","head","styleSheet","createTextNode","createStyles","expandTrigger","contractTrigger","__animationListener__","removeResizeListener","detachEvent","createDetectElementResize","childParams","bailoutOnChildren","loadedFonts","SingleFont","linearFontsList","onPickFamily","variable","fontFamily","typographyList","searchTerm","listRef","scrollTimer","setScrollTimer","startingPage","font_families","googleFonts","typekitFonts","WebFontLoader","families","kit","classes","loadGoogleFonts","selectedFontFamily","font_family","fonts_list","single_font_source","findSourceTypeSettingsFor","findSelectedFontFamily","all_variations","sizeRef","typography_responsive","variant","capitalize","uppercase","underline","initialView","previousView","setInititialView","confirmationRef","isConfirmingGdpr","setIsConfirmingGdpr","shouldDismiss","setShouldDismiss","setTypographyList","isDefault","variations","getDefaultFonts","isSearch","setIsSearch","setSearchTerm","inputEl","sizeEl","currentList","currentSource","needle","haystack","hlen","nlen","outer","nch","fuzzysearch","FormData","append","response","method","success","json","fonts","fetchFontsList","pickFontFamily","autoFocus","transition","dismissed_google_fonts_notice","Overlay","points","currentViewCache","setCurrentViewCache","typographyWrapper","newView","fontFamilyRef","fontSizeRef","fontWeightRef","dotsRef","futureRef","visualFontSize","currentFontSizeUnit","InlineVisibility","VisibilityModal","Visibility","WooColumnsAndRows","columns_id","rows_id","woocommerce_catalog_columns","woocommerce_catalog_rows","rowsValue","WooCommerceRatio","woocommerce_thumbnail_cropping_custom_width","woocommerce_thumbnail_cropping_custom_height","isCustom","__experimentalGetSettings","is12HourTime","formats","DateTimePicker","currentDate","is12Hour","Hidden","html","OutsideClickHandler","childNode","isInside","currentRef","checkIsInside","removeMouseUp","addMouseDownEventListener","UNSAFE_componentWillReceiveProps","prevDisabled","removeEventListeners","removeMouseDown","setChildNodeRef","field_attr","select_on_focus","editorId","md5","correctEditor","oldEditor","editor","getContent","initialize","quicktags","mediaButtons","tinymce","toolbar1","toolbar2","style_formats_merge","style_formats","editors","__webpack_public_path__","public_url","kSampleStepSize","float32ArraySupported","Float32Array","aA1","aA2","calcBezier","aT","getSlope","LinearEasing","mX1","mY1","mX2","mY2","sampleValues","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","getTForX","GetIntrinsic","callBind","$indexOf","allowMissing","intrinsic","$apply","$call","$reflectApply","$gOPD","$defineProperty","$max","originalFunction","applyBind","charenc","utf8","stringToBytes","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","fromCharCode","hasOwn","classNames","argType","inner","base64map","crypt","rotl","rotr","endian","randomBytes","bytesToWords","words","wordsToBytes","bytesToHex","hexToBytes","bytesToBase64","base64","triplet","base64ToBytes","imod4","isResponsive","objectKeys","isArguments","isRegex","flags","isDate","isUndefinedOrNull","isBuffer","actual","expected","opts","strict","aIsRegex","bIsRegex","aIsBuffer","bIsBuffer","ka","kb","objEquiv","hasSymbols","toStr","origDefineProperty","hasPropertyDescriptors","supportsDescriptors","predicate","predicates","getOwnPropertySymbols","tabbable","xtend","listeningFocusTrap","userOptions","returnFocusOnDeactivate","firstTabbableNode","lastTabbableNode","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","activate","activateOptions","updateTabbableNodes","onActivate","addListeners","removeListeners","unpause","deactivateOptions","onDeactivate","returnFocus","tryFocus","getInitialFocusNode","checkFocusIn","checkPointerDown","checkClick","checkKey","getNodeForOption","optionName","isFocusable","Document","isEscapeEvent","isTabEvent","checkTab","tabbableNodes","isSelectableInput","ERROR_MESSAGE","funcType","that","bound","binder","boundLength","boundArgs","Function","Empty","implementation","functionsHaveNames","gOPD","getOwnPropertyDescriptor","functionsHaveConfigurableNames","$bind","boundFunctionsHaveNames","$SyntaxError","SyntaxError","$Function","$TypeError","getEvalledConstructor","expressionSyntax","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","getProto","needsEval","TypedArray","Uint8Array","INTRINSICS","AggregateError","ArrayBuffer","Atomics","BigInt","DataView","decodeURI","encodeURI","eval","EvalError","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","Proxy","RangeError","Reflect","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakRef","WeakSet","doEval","gen","LEGACY_ALIASES","$concat","$spliceApply","$replace","$strSlice","rePropName","reEscapeChar","stringToPath","number","quote","subString","getBaseIntrinsic","alias","intrinsicName","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","part","hasArrayLengthDefineBug","origSymbol","hasSymbolSham","sym","symObj","getOwnPropertyNames","syms","propertyIsEnumerable","toStringTag","format","argIndex","framesToPop","hasToStringTag","$toString","callBound","isStandardArguments","isLegacyArguments","callee","supportsStandardArguments","readFloatLE","isSlowBuffer","_isBuffer","getDay","tryDateObject","$exec","isRegexMarker","badStringifier","throwRegexMarker","valueOf","toPrimitive","opg","properties","property","propertiesWithoutLast","pop","conditionDescriptor","any","inferedValuesForContext","conditionsObject","maybeGetMatcher","matcher","valuesToCheck","singleOptionPath","maybeThat","getAsInfered","_matcher$split2","arrayIdsDescriptor","_properValue","_properValue2","extractScalarValueFor","toMatch","tryToMatchValueWithOptionPath","message","encoding","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","_blocksize","_digestsize","digestbytes","asBytes","asString","crypto","msCrypto","getRandomValues","numberIsNaN","define","getPolyfill","shim","polyfill","keysShim","isArgs","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","isObject","isFunction","isString","theKeys","skipProto","skipConstructor","equalsConstructorPrototypeIfNotBuggy","origKeys","originalKeys","keysWorksWithArguments","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","bigint","bool","symbol","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","minLen","_slicedToArray","_defineProperty","_objectSpread","ownKeys","_defineProperties","_createClass","_typeof","assertThisInitialized","_getPrototypeOf","Manager","collection","getIndex","sortableInfo","sortByIndex","omit","keysToOmit","events","end","move","vendorPrefix","pre","OLink","setInlineStyles","setTranslate3d","translate","setTransitionDuration","limit","getPixelValue","stringValue","getElementMargin","marginBottom","marginTop","provideDisplayName","Component$$1","getScrollAdjustedBoundingClientRect","scrollDelta","boundingClientRect","getPosition","isTouchEvent","getEdgeOffset","nodeOffset","getTargetIndex","getLockPixelOffset","lockOffset","offsetX","offsetY","getLockPixelOffsets","offsets","_offsets","minLockOffset","maxLockOffset","getScrollingParent","computedStyle","overflowRegex","isScrollable","getContainerGridGap","gridColumnGap","gridRowGap","NodeType","fields","clonedNode","iter","getContext","drawImage","sortableHandle","WrappedComponent","withRef","WithSortableHandle","findDOMNode","wrappedInstance","isSortableHandle","AutoScroller","onScrollCallback","interval","minTranslate","maxTranslate","_this$container","isTop","isBottom","isLeft","isRight","isAutoScrolling","disableAutoscroll","getContainer","getHelperDimensions","helperClass","hideSortableGhost","keyboardSortingTransitionDuration","lockToContainerEdges","onSortMove","onSortOver","onSortStart","pressDelay","pressThreshold","keyCodes","lift","up","down","shouldCancelStart","transitionDuration","useWindowAsScrollContainer","defaultKeyCodes","contentEditable","omittedProps","_finallyRethrows","finalizer","sortableContainer","WithSortableContainer","touched","nodeIsChild","sorting","_node$sortableInfo","manager","handlePress","pressTimer","_awaitingUpdateBeforeSortStart","delta","combinedDelta","cancelTimer","getActive","_node","gridGap","containerBoundingRect","scrollContainer","_getHelperDimensions","_collection","marginOffset","_axis","offsetEdge","initialOffset","_isKeySorting","initialScroll","initialWindowScroll","helper","boxSizing","_hideSortableGhost","sortableGhost","visibility","_useWindowAsScrollContainer","containerTop","containerLeft","containerWidth","containerBottom","containerRight","_helperClass","listenerNode","handleKeyEnd","handleKeyDown","handleSortMove","handleSortEnd","sortingIndex","_onSortStart","isKeySorting","nodes","getOrderedRefs","keyMove","_temp8","_temp9","_wasThrown","_result","updateHelperPosition","animateNodes","autoscroll","_this$manager","_node2","edgeOffset","autoScroller","_this$props5$keyCodes","isValidSortingTarget","keyLift","keyDrop","_node$sortableInfo2","initialFocusedNode","targetIndex","targetNode","containerScrollDelta","targetBoundingClientRect","targetTranslate","targetPosition","shouldAdjustForSize","sizeAdjustment","ignoreTransition","handleEnd","handleStart","onAutoScroll","_this$props6","_this$props6$keyboard","_getLockPixelOffsets2","_this$props7","windowScrollDelta","sortingOffset","_node3","mustShiftBackward","mustShiftForward","nextNode","prevNode","getWrappedInstance","propTypes$1","omittedProps$1","sortableElement","WithSortableElement","register","unregister","_interopDefault","ex","React__default","ReactDOM","bugfixes","interpolation","defaultElement","colorNames","injectApplyAnimatedValues","injectColorNames","injectBugfixes","injectInterpolation","injectDefaultElement","injectCreateAnimatedStyle","attach","detach","getAnimatedValue","addChild","getChildren","AnimatedWithChildren","AnimatedArrayWithChildren","AnimatedObjectWithChildren","stringShapeRegex","colorNamesRegex","AnimatedInterpolation","parents","_config","_arg","updateConfig","findAnimatedStyles","updateStyles","animatedStyles","updateValue","startPosition","lastTime","animatedStyle","prepare","shallowEqual","getValues$1","interpolateTo","native","inject","destroyed","autoStart","convertToAnimatedValue","convertValues","allProps","entries","handleRef","check","isCustomProperty","rangeValue","outputRanges","interpolations","elementStyles","cs","paddingX","paddingY","borderX","borderY","convert","overwrite","styleName","styleValue","dashCase","controllers","isDone","noChange","configIdx","configs","endOfAnimation","valIdx","animatedValues","initialVelocity","startTime","isOvershooting","isVelocity","isDisplacement","animatedProps","onUpdate","debouncedOnEnd","removeController","dependents","hasChanged","merged","animations","_ref$from","_ref$to","_ref$config","_ref$delay","entry","isNumber","fromValue","toValue","toConfig","interpolation$$1","AnimatedProps","createAnimatedComponent","AnimatedComponent","propsAnimated","attachProps","setNativeProps","oldPropsAnimated","_this$propsAnimated$g","Spring","lastProps","propsChanged","internal","didInject","wasMounted","mounted","afterInject","injectProps","Trail","instances","hook","_children","_this$props$from","DEFAULT","KeyframesImpl","guid","running","previous","localId","slots","slot","primitive","_onRest","Keyframes","destroyItem","deleted","_get$trail","unique","_get2","_keys","_items","currentKeys","currentSet","nextSet","added","removed","originalKey","updated","pos","extendedAnimated","$Object","hasIndices","ignoreCase","multiline","dotAll","unicode","sticky","flagsBound","calls","TypeErr","regex","proto","domain","candidateSelectors","candidateSelector","Element","candidate","candidateTabindex","regularTabbables","orderedTabbables","untouchabilityChecker","UntouchabilityChecker","candidates","includeContainer","unshift","isNodeMatchingSelectorTabbable","getTabindex","documentOrder","sortOrderedTabbables","isNodeMatchingSelectorFocusable","isInput","isRadio","getCheckedRadio","isTabbableRadio","isNonTabbableRadio","isHiddenInput","isUntouchable","isTabbable","focusableCandidateSelector","tabindexAttr","elementDocument","hasDisplayNone","nodeComputedStyle","ELEMENT_NODE","cached","ba","ca","da","FontFace","rel","onload","onerror","onreadystatechange","readyState","ga","ha","ja","Q","load","fa","race","la","U","serif","ma","na","oa","qa","xa","vendor","ra","sa","ta","ua","ia","pa","fontfamily","fontStyle","projectId","api","urls","testStrings","ya","za","latin","cyrillic","greek","khmer","Hanuman","Aa","thin","extralight","ultralight","light","regular","book","medium","semibold","demibold","bold","extrabold","ultrabold","heavy","Ba","italic","normal","Ca","Ea","Fa","Arimo","Cousine","Tinos","Ga","Ha","va","Da","wa","Typekit","__webfontfontdeckmodule__","weight","hostname","ea","custom","fontdeck","monotype","Z","webpackContext","req","webpackContextResolve","__webpack_require__","code","i18n","_assertThisInitialized","_inheritsLoose","_setPrototypeOf","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","chunkId","globalThis","script","needAttach","scripts","charset","nc","onScriptComplete","doneFns","scriptUrl","importScripts","currentScript","installedChunks","installedChunkData","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","input_name","input_id","internalValue","setInternalValue","initAllPanels","singleTarget","ctHasOptions","ctOptions","initAllWooVariations","variationWrapper","hasBlocksyOptions","uploadImage","insertAdjacentElement","gallery_source","images","initWooVariation","TaxonomyRoot","accent_color","widget","innerHTML","widgetNumber","initWidget","maybeTaxonomyField","hover","background_initial","background_hover","initTaxonomies","onDocumentLoaded"],"sourceRoot":""}