jQuery(document).ready(function(b){b(document.body).on("yith-framework-enhanced-select-init",function(){b(":input.yith-post-search").filter(":not(.enhanced)").each(function(){var d=b.extend({action:"yith_plugin_fw_json_search_posts",security:yith_framework_enhanced_select_params.search_posts_nonce,post_type:"post"},b(this).data()),c={allowClear:b(this).data("allow_clear")?!0:!1,placeholder:b(this).data("placeholder"),minimumInputLength:b(this).data("minimum_input_length")?b(this).data("minimum_input_length"):
"3",escapeMarkup:function(a){return a},ajax:{url:yith_framework_enhanced_select_params.ajax_url,dataType:"json",quietMillis:250,data:function(a){d.term=a;return d},results:function(a){var c=[];a&&b.each(a,function(a,b){c.push({id:a,text:b})});return{results:c}},cache:!0}};!0===b(this).data("multiple")?(c.multiple=!0,c.initSelection=function(a,c){var f=b.parseJSON(a.attr("data-selected")),e=[];b(a.val().split(",")).each(function(a,b){e.push({id:b,text:f[b]})});return c(e)},c.formatSelection=function(a){return'<div class="selected-option" data-id="'+
a.id+'">'+a.text+"</div>"}):(c.multiple=!1,c.initSelection=function(a,b){a={id:a.val(),text:a.attr("data-selected")};return b(a)});b(this).select2(c).addClass("enhanced")});b(":input.yith-term-search").filter(":not(.enhanced)").each(function(){var d=b.extend({action:"yith_plugin_fw_json_search_terms",security:yith_framework_enhanced_select_params.search_terms_nonce,taxonomy:"category"},b(this).data()),c={allowClear:b(this).data("allow_clear")?!0:!1,placeholder:b(this).data("placeholder"),minimumInputLength:b(this).data("minimum_input_length")?
b(this).data("minimum_input_length"):"3",escapeMarkup:function(a){return a},ajax:{url:yith_framework_enhanced_select_params.ajax_url,dataType:"json",quietMillis:250,data:function(a){d.term=a;return d},results:function(a){var c=[];a&&b.each(a,function(a,b){c.push({id:a,text:b})});return{results:c}},cache:!0}};!0===b(this).data("multiple")?(c.multiple=!0,c.initSelection=function(a,c){var d=b.parseJSON(a.attr("data-selected")),e=[];b(a.val().split(",")).each(function(a,b){e.push({id:b,text:d[b]})});
return c(e)},c.formatSelection=function(a){return'<div class="selected-option" data-id="'+a.id+'">'+a.text+"</div>"}):(c.multiple=!1,c.initSelection=function(a,b){a={id:a.val(),text:a.attr("data-selected")};return b(a)});b(this).select2(c).addClass("enhanced")})}).trigger("yith-framework-enhanced-select-init")});
