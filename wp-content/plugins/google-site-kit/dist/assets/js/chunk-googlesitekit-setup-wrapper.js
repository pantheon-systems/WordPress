(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{156:function(e,t,n){"use strict";n.r(t);var i=n(13),a=n.n(i),l=n(3),o=n.n(l),c=n(4),s=n.n(c),r=n(5),u=n.n(r),d=n(6),m=n.n(d),g=n(7),h=n.n(g),p=n(1),f=n(11),v=n(43),_=n(14),k=n(42),R=n(2),y=n(21),E=n(0),b=n(10),w=function(e){function t(){return o()(this,t),u()(this,m()(t).apply(this,arguments))}return h()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.children;return React.createElement(p.Fragment,null,e)}}]),t}(p.Component),N=function(e){function t(e){var n;o()(this,t),n=u()(this,m()(t).call(this,e));var i=googlesitekit.setup.moduleToSetup;return n.state={currentModule:i,refresh:!1},n.timeoutID=null,n.unfocusedTime=0,n.autoRefreshModules=Object(b.applyFilters)("googlesitekit.autoRefreshModules",[]),n.moduleRefresh=n.autoRefreshModules.find((function(e){return n.state.currentModule===e.identifier})),n.refreshStatus=n.refreshStatus.bind(a()(n)),n.startUnfocusedTimer=n.startUnfocusedTimer.bind(a()(n)),n}return h()(t,e),s()(t,[{key:"componentDidMount",value:function(){window.addEventListener("focus",this.refreshStatus),window.addEventListener("blur",this.startUnfocusedTimer)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("focus",this.refreshStatus),window.removeEventListener("blur",this.startUnfocusedTimer)}},{key:"startUnfocusedTimer",value:function(){var e=this;if(this.moduleRefresh){var t=!0;this.moduleRefresh.toRefresh&&(t=this.moduleRefresh.toRefresh()),t&&(this.timeoutID=window.setInterval((function(){e.unfocusedTime++}),1e3))}}},{key:"refreshStatus",value:function(){if(this.moduleRefresh){var e=this.moduleRefresh.idleTime||15,t=!0;this.moduleRefresh.toRefresh&&(t=this.moduleRefresh.toRefresh()),t&&(e<this.unfocusedTime&&this.setState({refresh:this.timeoutID}),window.clearTimeout(this.timeoutID),this.unfocusedTime=0,this.timeoutID=null)}}},{key:"render",value:function(){var e=this.state.currentModule,n=t.loadSetupModule(e),i=Object(R.n)("googlesitekit-settings",{});return React.createElement(p.Fragment,null,React.createElement(v.a,null),React.createElement("div",{className:"googlesitekit-setup"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("section",{className:"googlesitekit-setup__wrapper"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},React.createElement("p",{className:" googlesitekit-setup__intro-title googlesitekit-overline "},Object(E.__)("Connect Service","google-site-kit")),n))),React.createElement("div",{className:"googlesitekit-setup__footer"},React.createElement("div",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},React.createElement(_.a,{id:"setup-".concat(e,"-cancel"),href:i},Object(E.__)("Cancel","google-site-kit"))),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-2-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--align-right "},React.createElement(k.a,null)))))))))))}}],[{key:"loadSetupModule",value:function(e){var n=Object(y.a)("googlesitekit.ModuleSetup-".concat(e))(w);return React.createElement(n,{finishSetup:t.finishSetup,onSettingsPage:!1,isEditing:!0})}},{key:"finishSetup",value:function(){var e={notification:"authentication_success"};googlesitekit.setup&&googlesitekit.setup.moduleToSetup&&(e.slug=googlesitekit.setup.moduleToSetup);var t=Object(R.n)("googlesitekit-dashboard",e);Object(f.delay)((function(){window.location.replace(t)}),500,"later")}}]),t}(p.Component);t.default=N},42:function(e,t,n){"use strict";n(1);var i=n(0),a=n(14);t.a=function(){var e=Object(i.__)("Need help?","google-site-kit");return React.createElement(a.a,{className:"googlesitekit-help-link",href:"https://sitekit.withgoogle.com/documentation/",external:!0},e)}},43:function(e,t,n){"use strict";var i=n(3),a=n.n(i),l=n(4),o=n.n(l),c=n(5),s=n.n(c),r=n(6),u=n.n(r),d=n(7),m=n.n(d),g=n(1),h=n(21),p=function(e){function t(){return a()(this,t),s()(this,u()(t).apply(this,arguments))}return m()(t,e),o()(t,[{key:"render",value:function(){return null}}]),t}(g.Component),f=Object(h.a)("googlesitekit.ErrorNotification")(p),v=n(81),_=n(12),k=n.n(_),R=n(13),y=n.n(R),E=n(67),b=n(29),w=n(22),N=n(8),O=n.n(N),C=function(e){function t(e){var n;return a()(this,t),(n=s()(this,u()(t).call(this,e))).menuRef=Object(g.createRef)(),n}return m()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this.props.menuOpen;this.menu=new w.f(this.menuRef.current),this.menu.open=e,this.menu.setDefaultFocusState(1)}},{key:"componentDidUpdate",value:function(e){var t=this.props.menuOpen;t!==e.menuOpen&&(this.menu.open=t)}},{key:"render",value:function(){var e=this.props,t=e.menuOpen,n=e.menuItems,i=e.onSelected,a=e.id;return React.createElement("div",{className:"mdc-menu mdc-menu-surface",ref:this.menuRef},React.createElement("ul",{id:a,className:"mdc-list",role:"menu","aria-hidden":!t,"aria-orientation":"vertical",tabIndex:"-1"},n.map((function(e,t){return React.createElement("li",{key:t,className:"mdc-list-item",role:"menuitem",onClick:i.bind(null,t),onKeyDown:i.bind(null,t)},React.createElement("span",{className:"mdc-list-item__text"},e))}))))}}]),t}(g.Component);C.propTypes={menuOpen:O.a.bool.isRequired,menuItems:O.a.array.isRequired,id:O.a.string.isRequired};var D=C,S=n(80),M=n(2),j=n(0),T=function(e){function t(e){var n;return a()(this,t),(n=s()(this,u()(t).call(this,e))).state={dialogActive:!1,menuOpen:!1},n.handleMenu=n.handleMenu.bind(y()(n)),n.handleMenuClose=n.handleMenuClose.bind(y()(n)),n.handleMenuItemSelect=n.handleMenuItemSelect.bind(y()(n)),n.handleDialog=n.handleDialog.bind(y()(n)),n.handleDialogClose=n.handleDialogClose.bind(y()(n)),n.handleUnlinkConfirm=n.handleUnlinkConfirm.bind(y()(n)),n.menuButtonRef=Object(g.createRef)(),n.menuRef=Object(g.createRef)(),n}return m()(t,e),o()(t,[{key:"componentDidMount",value:function(){window.addEventListener("mouseup",this.handleMenuClose),window.addEventListener("keyup",this.handleMenuClose),window.addEventListener("keyup",this.handleDialogClose)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mouseup",this.handleMenuClose),window.removeEventListener("keyup",this.handleMenuClose),window.removeEventListener("keyup",this.handleDialogClose)}},{key:"handleMenu",value:function(){var e=this.state.menuOpen;this.setState({menuOpen:!e})}},{key:"handleMenuClose",value:function(e){("keyup"!==e.type||27!==e.keyCode)&&"mouseup"!==e.type||this.menuButtonRef.current.buttonRef.current.contains(e.target)||this.menuRef.current.menuRef.current.contains(e.target)||this.setState({menuOpen:!1})}},{key:"handleMenuItemSelect",value:function(e,t){var n=googlesitekit.admin.proxyPermissionsURL;if("keydown"===t.type&&(13===t.keyCode||32===t.keyCode)||"click"===t.type)switch(e){case 0:this.handleDialog();break;case 1:window.location.assign(n);break;default:this.handleMenu()}}},{key:"handleDialog",value:function(){this.setState((function(e){return{dialogActive:!e.dialogActive,menuOpen:!1}}))}},{key:"handleDialogClose",value:function(e){27===e.keyCode&&this.setState({dialogActive:!1,menuOpen:!1})}},{key:"handleUnlinkConfirm",value:function(){return k.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({dialogActive:!1}),Object(M.d)(),document.location=Object(M.n)("googlesitekit-splash",{googlesitekit_context:"revoked"});case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=googlesitekit.admin,t=e.userData,n=t.email,i=void 0===n?"":n,a=t.picture,l=void 0===a?"":a,o=e.proxyPermissionsURL,c=this.state,s=c.dialogActive,r=c.menuOpen;return React.createElement(g.Fragment,null,React.createElement("div",{className:"googlesitekit-dropdown-menu mdc-menu-surface--anchor"},React.createElement(b.a,{ref:this.menuButtonRef,className:"googlesitekit-header__dropdown mdc-button--dropdown",text:!0,onClick:this.handleMenu,icon:l?React.createElement("i",{className:"mdc-button__icon","aria-hidden":"true"},React.createElement("img",{className:"mdc-button__icon--image",src:l,alt:Object(j.__)("User Avatar","google-site-kit")})):void 0,ariaHaspopup:"menu",ariaExpanded:r,ariaControls:"user-menu"},i),React.createElement(D,{ref:this.menuRef,menuOpen:r,menuItems:[Object(j.__)("Disconnect","google-site-kit")].concat(o?[Object(j.__)("Manage sites...","google-site-kit")]:[]),onSelected:this.handleMenuItemSelect,id:"user-menu"})),React.createElement(S.a,null,React.createElement(E.a,{dialogActive:s,handleConfirm:this.handleUnlinkConfirm,handleDialog:this.handleDialog,title:Object(j.__)("Disconnect","google-site-kit"),subtitle:Object(j.__)("Disconnecting Site Kit by Google will remove your access to all services. After disconnecting, you will need to re-authorize to restore service.","google-site-kit"),confirmButton:Object(j.__)("Disconnect","google-site-kit"),provides:[]})))}}]),t}(g.Component),A=function(e){function t(){return a()(this,t),s()(this,u()(t).apply(this,arguments))}return m()(t,e),o()(t,[{key:"render",value:function(){var e=googlesitekit.setup.isAuthenticated;return React.createElement(g.Fragment,null,React.createElement("header",{className:"googlesitekit-header"},React.createElement("section",{className:"mdc-layout-grid"},React.createElement("div",{className:"mdc-layout-grid__inner"},React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--span-3-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},React.createElement(v.a,null)),React.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-phone mdc-layout-grid__cell--span-1-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},e&&React.createElement(T,null))))),React.createElement(f,null))}}]),t}(g.Component);t.a=A},67:function(e,t,n){"use strict";var i=n(3),a=n.n(i),l=n(4),o=n.n(l),c=n(5),s=n.n(c),r=n(6),u=n.n(r),d=n(7),m=n.n(d),g=n(1),h=n(8),p=n.n(h),f=n(29),v=n(14),_=n(22),k=n(145),R=n.n(k),y=n(0),E=function(e){function t(){var e;return a()(this,t),(e=s()(this,u()(t).call(this))).state={attributes:[Object(y.__)("Audience overview","google-site-kit"),Object(y.__)("Top pages","google-site-kit"),Object(y.__)("Top acquisition sources","google-site-kit"),Object(y.__)("AdSense & Analytics metrics for top pages","google-site-kit")]},e.dialogRef=Object(g.createRef)(),e}return m()(t,e),o()(t,[{key:"componentDidMount",value:function(){new _.d(this.dialogRef.current)}},{key:"render",value:function(){var e=this.props,t=e.dialogActive,n=e.handleDialog,i=e.title,a=e.provides,l=e.handleConfirm,o=e.subtitle,c=e.confirmButton,s=e.dependentModules;return React.createElement("div",{ref:this.dialogRef,className:"mdc-dialog ".concat(t?"mdc-dialog--open":""),role:"alertdialog","aria-modal":"true","aria-labelledby":"remove-module-dialog","aria-describedby":"remove-module-dialog-description","aria-hidden":t?"false":"true",tabIndex:"-1"},React.createElement("div",{className:"mdc-dialog__scrim"},"Â "),React.createElement(R.a,{active:t},React.createElement("div",null,React.createElement("div",{className:"mdc-dialog__container"},React.createElement("div",{className:"mdc-dialog__surface"},i&&React.createElement("h2",{id:"remove-module-dialog",className:"mdc-dialog__title"},i),o&&React.createElement("p",{className:"mdc-dialog__lead"},o),React.createElement("section",{id:"remove-module-dialog-description",className:"mdc-dialog__content"},React.createElement("ul",{className:"mdc-list mdc-list--underlined mdc-list--non-interactive"},a&&a.map((function(e){return React.createElement("li",{className:"mdc-list-item",key:e},React.createElement("span",{className:"mdc-list-item__text"},e))})))),s&&React.createElement("p",{className:"mdc-dialog__dependecies"},React.createElement("strong",null,Object(y.__)("Note: ","google-site-kit")),s),React.createElement("footer",{className:"mdc-dialog__actions"},React.createElement(f.a,{onClick:l,danger:!0},c||Object(y.__)("Disconnect","google-site-kit")),React.createElement(v.a,{className:"mdc-dialog__cancel-button",onClick:function(){return n()},inherit:!0},Object(y.__)("Cancel","google-site-kit"))))))))}}]),t}(g.Component);E.propTypes={dialogActive:p.a.bool,handleDialog:p.a.func,handleConfirm:p.a.func.isRequired,title:p.a.string,description:p.a.string,confirmButton:p.a.string},E.defaultProps={dialogActive:!1,handleDialog:null,title:null,description:null,confirmButton:null},t.a=E},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(3),a=n.n(i),l=n(4),o=n.n(l),c=n(5),s=n.n(c),r=n(6),u=n.n(r),d=n(7),m=n.n(d),g=n(1),h=function(e){function t(e){var n;return a()(this,t),(n=s()(this,u()(t).call(this,e))).el=document.createElement("div"),n.root=document.querySelector(".googlesitekit-plugin")||document.body,n}return m()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.root.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.root.removeChild(this.el)}},{key:"render",value:function(){return Object(g.createPortal)(this.props.children,this.el)}}]),t}(g.Component)},81:function(e,t,n){"use strict";n(1);var i=n(20),a=n(0);t.a=function(){return React.createElement("div",{className:"googlesitekit-logo","aria-hidden":"true"},React.createElement(i.a,{id:"logo-g",className:"googlesitekit-logo__logo-g",height:"34",width:"32"}),React.createElement(i.a,{id:"logo-sitekit",className:"\n\t\t\t\t googlesitekit-logo__logo-sitekit\n\t\t\t\t",height:"26",width:"99"}),React.createElement("span",{className:"screen-reader-text"},Object(a.__)("Site Kit by Google Logo","google-site-kit")))}}}]);